<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Visualize Hierarchical Multiple Factor Analysis</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for fviz_hmfa {factoextra}"><tr><td>fviz_hmfa {factoextra}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Visualize Hierarchical Multiple Factor Analysis</h2>

<h3>Description</h3>

<p>Hierarchical Multiple Factor Analysis (HMFA) is, an extension of
MFA, used in a situation where the data are organized into a hierarchical
structure.  fviz_hmfa() provides ggplot2-based elegant visualization of HMFA
outputs from the R function: HMFA [FactoMineR].<br /><br /> </p>

<ul>
<li><p>fviz_hmfa_ind(): Graph of individuals </p>
</li>
<li><p>fviz_hmfa_var(): Graph of
variables </p>
</li>
<li><p>fviz_hmfa_quali_biplot(): Biplot of individuals and
qualitative variables </p>
</li>
<li><p>fviz_hmfa(): An alias of fviz_hmfa_ind() </p>
</li></ul>



<h3>Usage</h3>

<pre>
fviz_hmfa_ind(X, axes = c(1, 2), geom = c("point", "text"),
  repel = FALSE, habillage = "none", addEllipses = FALSE,
  shape.ind = 19, col.ind = "blue", col.ind.sup = "darkblue",
  alpha.ind = 1, select.ind = list(name = NULL, cos2 = NULL, contrib =
  NULL), partial = NULL, col.partial = "group", group.names = NULL,
  node.level = 1, ...)

fviz_hmfa_var(X, choice = c("quanti.var", "quali.var", "group"),
  axes = c(1, 2), geom = c("point", "text"), repel = FALSE,
  col.var = "red", alpha.var = 1, shape.var = 17,
  col.var.sup = "darkgreen", select.var = list(name = NULL, cos2 =
  NULL, contrib = NULL), ...)

fviz_hmfa_quali_biplot(X, axes = c(1, 2), geom = c("point", "text"),
  repel = FALSE, habillage = "none",
  title = "Biplot of individuals and qualitative variables - HMFA", ...)

fviz_hmfa(X, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>X</code></td>
<td>
<p>an object of class HMFA [FactoMineR].</p>
</td></tr>
<tr valign="top"><td><code>axes</code></td>
<td>
<p>a numeric vector of length 2 specifying the dimensions to be 
plotted.</p>
</td></tr>
<tr valign="top"><td><code>geom</code></td>
<td>
<p>a text specifying the geometry to be used for the graph. Allowed 
values are the combination of <code>c("point", "arrow", "text")</code>. Use 
<code>"point"</code> (to show only points); <code>"text"</code> to show only labels; 
<code>c("point", "text")</code> or <code>c("arrow", "text")</code> to show arrows and 
texts. Using <code>c("arrow", "text")</code> is sensible only for the graph of 
variables.</p>
</td></tr>
<tr valign="top"><td><code>repel</code></td>
<td>
<p>a boolean, whether to use ggrepel to avoid overplotting text 
labels or not.</p>
</td></tr>
<tr valign="top"><td><code>habillage</code></td>
<td>
<p>an optional factor variable for coloring the observations by 
groups. Default value is &quot;none&quot;. If X is an HMFA object from FactoMineR 
package, habillage can also specify the index of the factor variable in the 
data.</p>
</td></tr>
<tr valign="top"><td><code>addEllipses</code></td>
<td>
<p>logical value. If TRUE, draws ellipses around the 
individuals when habillage != &quot;none&quot;.</p>
</td></tr>
<tr valign="top"><td><code>shape.ind, shape.var</code></td>
<td>
<p>point shapes of individuals and variables, 
respectively.</p>
</td></tr>
<tr valign="top"><td><code>col.ind, col.var</code></td>
<td>
<p>color for individuals, partial individuals and 
variables, respectively. Can be a continuous variable or a factor variable.
Possible values include also : &quot;cos2&quot;, &quot;contrib&quot;, &quot;coord&quot;, &quot;x&quot; or &quot;y&quot;. In
this case, the colors for individuals/variables are automatically controlled
by their qualities (&quot;cos2&quot;), contributions (&quot;contrib&quot;), coordinates (x^2 +
y^2 , &quot;coord&quot;), x values(&quot;x&quot;) or y values(&quot;y&quot;). To use automatic coloring
(by cos2, contrib, ....), make sure that habillage =&quot;none&quot;.</p>
</td></tr>
<tr valign="top"><td><code>col.ind.sup</code></td>
<td>
<p>color for supplementary individuals</p>
</td></tr>
<tr valign="top"><td><code>alpha.ind, alpha.var</code></td>
<td>
<p>controls the transparency of individual, partial 
individual and variable, respectively. The value can variate from 0 (total 
transparency) to 1 (no transparency). Default value is 1. Possible values 
include also : &quot;cos2&quot;, &quot;contrib&quot;, &quot;coord&quot;, &quot;x&quot; or &quot;y&quot;. In this case, the 
transparency for individual/variable colors are automatically controlled by 
their qualities (&quot;cos2&quot;), contributions (&quot;contrib&quot;), coordinates (x^2 + y^2 
, &quot;coord&quot;), x values(&quot;x&quot;) or y values(&quot;y&quot;). To use this, make sure that 
habillage =&quot;none&quot;.</p>
</td></tr>
<tr valign="top"><td><code>select.ind, select.var</code></td>
<td>
<p>a selection of individuals and variables to be 
drawn. Allowed values are NULL or a list containing the arguments name, cos2
or contrib: </p>
 <ul>
<li><p> name is a character vector containing 
individuals/variables to be drawn </p>
</li>
<li><p> cos2 if cos2 is in [0, 1], ex: 0.6, 
then individuals/variables with a cos2 &gt; 0.6 are drawn. if cos2 &gt; 1, ex: 5, 
then the top 5 individuals/variables with the highest cos2 are drawn. </p>
</li>
<li> 
<p>contrib if contrib &gt; 1, ex: 5,  then the top 5 individuals/variables with 
the highest cos2 are drawn </p>
</li></ul>
</td></tr>
<tr valign="top"><td><code>partial</code></td>
<td>
<p>list of the individuals for which the partial points should be 
drawn. (by default, partial = NULL and no partial points are drawn). Use 
partial = &quot;All&quot; to visualize partial points for all individuals.</p>
</td></tr>
<tr valign="top"><td><code>col.partial</code></td>
<td>
<p>color for partial individuals. By default, points are 
colored according to the groups.</p>
</td></tr>
<tr valign="top"><td><code>group.names</code></td>
<td>
<p>a vector containing the name of the groups (by default, 
NULL and the group are named group.1, group.2 and so on).</p>
</td></tr>
<tr valign="top"><td><code>node.level</code></td>
<td>
<p>a single number indicating the HMFA node level to plot.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Arguments to be passed to the function fviz() and ggpubr::ggpar()</p>
</td></tr>
<tr valign="top"><td><code>choice</code></td>
<td>
<p>the graph to plot. Allowed values include one of c(&quot;quanti.var&quot;,
&quot;quali.var&quot;, &quot;group&quot;) for plotting quantitative variables, qualitative 
variables and group of variables, respectively.</p>
</td></tr>
<tr valign="top"><td><code>col.var.sup</code></td>
<td>
<p>color for supplementary variables.</p>
</td></tr>
<tr valign="top"><td><code>title</code></td>
<td>
<p>the title of the graph</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot
</p>


<h3>Author(s)</h3>

<p>Fabian Mundt <a href="mailto:f.mundt@inventionate.de">f.mundt@inventionate.de</a>
</p>
<p>Alboukadel Kassambara <a href="mailto:alboukadel.kassambara@gmail.com">alboukadel.kassambara@gmail.com</a>
</p>


<h3>References</h3>

<p>http://www.sthda.com/english/
</p>


<h3>Examples</h3>

<pre>
# Hierarchical Multiple Factor Analysis
# ++++++++++++++++++++++++
# Install and load FactoMineR to compute MFA
# install.packages("FactoMineR")
library("FactoMineR")
data(wine)
hierar &lt;- list(c(2,5,3,10,9,2), c(4,2))
res.hmfa &lt;- HMFA(wine, H = hierar, type=c("n",rep("s",5)), graph = FALSE)

# Graph of individuals
# ++++++++++++++++++++
# Color of individuals: col.ind = "#2E9FDF"
# Use repel = TRUE to avoid overplotting (slow if many points)
fviz_hmfa_ind(res.hmfa, repel = TRUE, col.ind = "#2E9FDF")

# Color individuals by groups, add concentration ellipses
# Remove labels: label = "none".
# Change color palette to "jco". See ?ggpubr::ggpar
grp &lt;- as.factor(wine[,1])
p &lt;- fviz_hmfa_ind(res.hmfa, label="none", habillage=grp,
       addEllipses=TRUE, palette = "jco")
print(p)
 

# Graph of variables
# ++++++++++++++++++++++++++++++++++++++++
# Quantitative variables
fviz_hmfa_var(res.hmfa, "quanti.var")
# Graph of categorical variable categories
fviz_hmfa_var(res.hmfa, "quali.var")
# Groups of variables (correlation square)
fviz_hmfa_var(res.hmfa, "group")


# Biplot of categorical variable categories and individuals
# +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
fviz_hmfa_quali_biplot(res.hmfa)
    
# Graph of partial individuals (starplot)
# +++++++++++++++++++++++++++++++++++++++
fviz_hmfa_ind(res.hmfa, partial = "all", palette = "Dark2")
 

</pre>

<hr /><div style="text-align: center;">[Package <em>factoextra</em> version 1.0.6 <a href="00Index.html">Index</a>]</div>
</body></html>
