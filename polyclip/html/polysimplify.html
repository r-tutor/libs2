<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Remove Self-Intersections from a Polygon</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for polysimplify {polyclip}"><tr><td>polysimplify {polyclip}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>
Remove Self-Intersections from a Polygon
</h2>

<h3>Description</h3>

<p>This function attempts to remove self-intersections and duplicated
vertices from the given polygon. 
</p>


<h3>Usage</h3>

<pre>
  polysimplify(A, ..., eps, x0, y0,
               filltype = c("evenodd", "nonzero", "positive", "negative"))
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>A</code></td>
<td>

<p>Data specifying a polygon or polygons. See Details.
</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>

<p>Ignored.
</p>
</td></tr>
<tr valign="top"><td><code>eps</code></td>
<td>
<p>Spatial resolution for coordinates.</p>
</td></tr>
<tr valign="top"><td><code>x0,y0</code></td>
<td>
<p>Spatial origin for coordinates.</p>
</td></tr>
<tr valign="top"><td><code>filltype</code></td>
<td>
<p>Polygon-filling rule. See Details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is an interface to the function <code>SimplifyPolygons</code> in
Angus Johnson's <code>C++</code> library <span class="pkg">Clipper</span>.
It tries to remove self-intersections from the supplied polygon,
by performing a boolean union operation using the nominated
<code>filltype</code>. The result may be one or several polygons.
</p>
<p>The argument <code>A</code> should be either
</p>

<ul>
<li>
<p>a list containing two components <code>x</code> and <code>y</code>
giving the coordinates of the vertices of a single polygon.
The last vertex should
not repeat the first vertex.
</p>
</li>
<li>
<p>a <code>list</code> of  <code>list(x,y)</code> structures giving
the coordinates of the vertices of several polygons.
</p>
</li></ul>

<p>The argument <code>filltype</code> determines the polygon fill type.
</p>

<dl>
<dt>Even-Odd:</dt><dd>
<p>The default rule is <em>even-odd</em> filling,
in which every polygon edge demarcates a boundary between
the inside and outside of the region. 
It does not matter whether a polygon is traversed in
clockwise or anticlockwise order. Holes are determined
simply by their locations relative to other polygons such that
outers contain holes and holes contain outers. 
</p>
</dd>
<dt>Non-Zero:</dt><dd>
<p>Under the <em>nonzero</em> filling rule, an outer boundary must be
traversed in clockwise order, while a hole must be traversed
in anticlockwise order.
</p>
</dd>
<dt>Positive:</dt><dd>
<p>Under the <code>positive</code> filling rule, the filled region
consists of all points with positive winding number.
</p>
</dd>
<dt>Negative:</dt><dd>
<p>Under the <code>negative</code> filling rule, the filled region
consists of all points with negative winding number.
</p>
</dd>
</dl>

<p><b>Calculations are performed in integer arithmetic</b>
after subtracting <code>x0,y0</code> from the coordinates,
dividing by <code>eps</code>, and rounding to the nearest integer.
Thus, <code>eps</code> is the effective spatial resolution.
The default values ensure reasonable accuracy.
</p>


<h3>Value</h3>

<p>Data specifying polygons, in the same format as <code>A</code>.
</p>


<h3>Author(s)</h3>

<p>Angus Johnson.
Ported to <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> by Adrian Baddeley
<a href="mailto:Adrian.Baddeley@curtin.edu.au">Adrian.Baddeley@curtin.edu.au</a>.
</p>


<h3>References</h3>

<p>Clipper Website: <a href="http://www.angusj.com">http://www.angusj.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="polyclip.html">polyclip</a></code>,
<code><a href="polyoffset.html">polyoffset</a></code>,
<code><a href="polylineoffset.html">polylineoffset</a></code>,
<code><a href="polyminkowski.html">polyminkowski</a></code>
</p>


<h3>Examples</h3>

<pre>
  theta &lt;- 2 * pi * (0:5) * 2/5

  A &lt;- list(list(x=sin(theta), y=cos(theta)))
  B &lt;- polysimplify(A, filltype="nonzero")

  opa &lt;- par(mfrow=c(1,2))
  plot(c(-1,1),c(-1,1), type="n", axes=FALSE, xlab="", ylab="")
  with(A[[1]], segments(x[-6], y[-6], x[-1], y[-1], col="red"))
  points(A[[1]], col="red")

  with(A[[1]], text(x[1:5], y[1:5], labels=1:5, cex=2))
  plot(c(-1,1),c(-1,1), type="n", axes=FALSE, xlab="", ylab="")
  polygon(B[[1]], lwd=3, col="green")
  with(B[[1]], text(x,y,labels=seq_along(x), cex=2))
  par(opa)
</pre>

<hr /><div style="text-align: center;">[Package <em>polyclip</em> version 1.10-0 <a href="00Index.html">Index</a>]</div>
</body></html>
