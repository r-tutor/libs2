<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Run and validate many clusterings</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for clusterbenchstats {fpc}"><tr><td>clusterbenchstats {fpc}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Run and validate many clusterings</h2>

<h3>Description</h3>

<p>This runs the methodology explained in Hennig (2017). It runs a
user-specified set of clustering methods (CBI-functions, see
<code><a href="kmeansCBI.html">kmeansCBI</a></code>) with several numbers of clusters on a dataset,
and computes many cluster validation indexes. In order to explore the
variation of these indexes, random clusterings on the data are
generated, and validation indexes are standardised by use of the
random clusterings in order to make them comparable and differences
between values interpretable.
</p>
<p>The function <code><a href="plot.valstat.html">print.valstat</a></code> can be used to provide
weights for the cluster
validation statistics, and will then compute a weighted validation index
that can be used to compare all clusterings. 
</p>


<h3>Usage</h3>

<pre>
clusterbenchstats(data,G,diss = inherits(data, "dist"),
                                  scaling=TRUE, clustermethod,
                                  methodnames=clustermethod,
                              distmethod=rep(TRUE,length(clustermethod)),
                              ncinput=rep(TRUE,length(clustermethod)),
                              clustermethodpars,
                              npstats=FALSE,
                              trace=TRUE,
                              pamcrit=TRUE,snnk=2,
                              dnnk=2,
                              nnruns=100,kmruns=100,
                              multicore=FALSE,cores=detectCores()-1,
                              useallmethods=TRUE,
                              useallg=FALSE,...)

## S3 method for class 'clusterbenchstats'
print(x,...)

</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>data</code></td>
<td>
<p>data matrix or <code>dist</code>-object.</p>
</td></tr>
<tr valign="top"><td><code>G</code></td>
<td>
<p>vector of integers. Numbers of clusters to consider.</p>
</td></tr>
<tr valign="top"><td><code>diss</code></td>
<td>
<p>logical. If <code>TRUE</code>, the data matrix is assumed to be
a distance/dissimilariy matrix, otherwise it's observations times
variables.</p>
</td></tr>
<tr valign="top"><td><code>scaling</code></td>
<td>
<p>either a logical or a numeric vector of length equal to
the number of columns of <code>data</code>. If <code>FALSE</code>, data won't be
scaled, otherwise <code>scaling</code> is passed on to <code><a href="../../base/html/scale.html">scale</a></code> as
argument<code>scale</code>.</p>
</td></tr> 
<tr valign="top"><td><code>clustermethod</code></td>
<td>
<p>vector of strings specifying names of
CBI-functions (see <code><a href="kmeansCBI.html">kmeansCBI</a></code>). These are the
clustering methods to be applied.</p>
</td></tr>
<tr valign="top"><td><code>methodnames</code></td>
<td>
<p>vector of strings with user-chosen names for
clustering methods, one for every method in
<code>clustermethod</code>. These can be used to distinguish different methods
run by the same CBI-function but with
different parameter values such as complete and average linkage for
<code><a href="kmeansCBI.html">hclustCBI</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>distmethod</code></td>
<td>
<p>vector of logicals, of the same length as
<code>clustermethod</code>. <code>TRUE</code> means that the clustering method
operates on distances. If <code>diss=TRUE</code>, all entries have to be
<code>TRUE</code>. Otherwise, if an entry is true, the corresponding
method will be applied on <code>dist(data)</code>.</p>
</td></tr>  
<tr valign="top"><td><code>ncinput</code></td>
<td>
<p>vector of logicals, of the same length as
<code>clustermethod</code>. <code>TRUE</code> indicates that the corresponding
clustering method requires the number of clusters as input and will
not estimate the number of clusters itself.</p>
</td></tr>
<tr valign="top"><td><code>clustermethodpars</code></td>
<td>
<p>list of the same length as
<code>clustermethod</code>. Specifies parameters for all involved
clustering methods. Its jth entry is passed to clustermethod number
k. Can be an empty entry in case all defaults are used for a
clustering method. The number of clusters does not need to be
specified here.</p>
</td></tr>
<tr valign="top"><td><code>npstats</code></td>
<td>
<p>logical. If <code>TRUE</code>, <code><a href="distrsimilarity.html">distrsimilarity</a></code>
is called and the two validity statistics computed there are
added. These require <code>diss=FALSE</code>.</p>
</td></tr>
<tr valign="top"><td><code>trace</code></td>
<td>
<p>logical. If <code>TRUE</code>, some runtime information is
printed.</p>
</td></tr>
<tr valign="top"><td><code>pamcrit</code></td>
<td>
<p>logical. If <code>TRUE</code>, the average distance of points
to their respective cluster centroids is computed (criterion of the
PAM clustering method, validation criterion <code>pamc</code>); centroids
are chosen so that they minimise
this criterion for the given clustering. Passed on to
<code><a href="cqcluster.stats.html">cqcluster.stats</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>snnk</code></td>
<td>
<p>integer. Number of neighbours used in coefficient of
variation of distance to nearest within cluster neighbour, the
<code>cvnnd</code>-statistic  (clusters
with <code>nnk</code> or fewer points are ignored for this). Passed on to
<code><a href="cqcluster.stats.html">cqcluster.stats</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>dnnk</code></td>
<td>
<p>integer. Number of nearest neighbors to use for
dissimilarity to the uniform in case that <code>npstats=TRUE</code>;
<code>nnk</code>-argument  to be passed on to <code><a href="distrsimilarity.html">distrsimilarity</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>nnruns</code></td>
<td>
<p>integer. Number of runs of <code><a href="stupidknn.html">stupidknn</a></code>
(random clusterings).</p>
</td></tr>
<tr valign="top"><td><code>kmruns</code></td>
<td>
<p>integer. Number of runs of
<code><a href="stupidkcentroids.html">stupidkcentroids</a></code> (random clusterings).</p>
</td></tr>
<tr valign="top"><td><code>multicore</code></td>
<td>
<p>logical. If <code>TRUE</code>, parallel computing is used
through the function <code><a href="../../parallel/html/mcdummies.html">mclapply</a></code> from package
<code>parallel</code>; read warnings there if you intend to use this; it
won't work on Windows.</p>
</td></tr>
<tr valign="top"><td><code>cores</code></td>
<td>
<p>integer. Number of cores for parallelisation.</p>
</td></tr>
<tr valign="top"><td><code>useallmethods</code></td>
<td>
<p>logical, to be passed on to
<code><a href="cgrestandard.html">cgrestandard</a></code>. If <code>FALSE</code>, only random clustering
results are used for standardisation. If
<code>TRUE</code>, clustering results from all methods are used.</p>
</td></tr>
<tr valign="top"><td><code>useallg</code></td>
<td>
<p>logical to be passed on to
<code><a href="cgrestandard.html">cgrestandard</a></code>. If <code>TRUE</code>, standardisation uses results
from all numbers of clusters in <code>G</code>. If <code>FALSE</code>,
standardisation of results for a specific number of cluster only
uses results from that number of clusters.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>further arguments to be passed on to
<code><a href="cqcluster.stats.html">cqcluster.stats</a></code> through <code><a href="clustatsum.html">clustatsum</a></code> (no
effect in <code>print.clusterbenchstats</code>).</p>
</td></tr>
<tr valign="top"><td><code>x</code></td>
<td>
<p>object of class <code>"clusterbenchstats"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of <code>clusterbenchstats</code> is a
big list of lists comprising lists <code>cm, stat, sim, qstat,
    sstat, statistics</code>
</p>
<table summary="R valueblock">
<tr valign="top"><td><code>cm</code></td>
<td>
<p>output object of <code><a href="cluster.magazine.html">cluster.magazine</a></code>, see there
for details. Clustering of all methods and numbers of clusters on
the dataset <code>data</code>.</p>
</td></tr></table>
<p>. 
</p>
<table summary="R valueblock">
<tr valign="top"><td><code>stat</code></td>
<td>
<p>object of class <code>"valstat"</code>, see
<code><a href="valstat.object.html">valstat.object</a></code> for details. Unstandardised cluster
validation statistics.</p>
</td></tr>
<tr valign="top"><td><code>sim</code></td>
<td>
<p>output object of <code><a href="randomclustersim.html">randomclustersim</a></code>, see there.
validity indexes from random clusterings used for standardisation of
validation statistics on <code>data</code>.</p>
</td></tr>
<tr valign="top"><td><code>qstat</code></td>
<td>
<p>object of class <code>"valstat"</code>, see
<code><a href="valstat.object.html">valstat.object</a></code> for details. Cluster validation
statistics standardised by random clusterings, output of
<code><a href="cgrestandard.html">cgrestandard</a></code> based on percentages, i.e., with
<code>percentage=TRUE</code>.</p>
</td></tr>
<tr valign="top"><td><code>sstat</code></td>
<td>
<p>object of class <code>"valstat"</code>, see
<code><a href="valstat.object.html">valstat.object</a></code> for details. Cluster validation
statistics standardised by random clusterings, output of
<code><a href="cgrestandard.html">cgrestandard</a></code> based on mean and standard deviation,
i.e., with <code>percentage=FALSE</code>.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>This may require a lot of computing time and also memory for datasets
that are not small, as most indexes require computation and storage of
distances. 
</p>


<h3>Author(s)</h3>

<p>Christian Hennig
<a href="mailto:christian.hennig@unibo.it">christian.hennig@unibo.it</a>
<a href="https://www.unibo.it/sitoweb/christian.hennig/en/">https://www.unibo.it/sitoweb/christian.hennig/en/</a>
</p>


<h3>References</h3>

<p>Hennig, C. (2017) Cluster validation by measurement of clustering
characteristics relevant to the user. In C. H. Skiadas (ed.)
<em>Proceedings of ASMDA 2017</em>, 501-520,
<a href="https://arxiv.org/abs/1703.09282">https://arxiv.org/abs/1703.09282</a>
</p>


<h3>See Also</h3>

<p><code><a href="valstat.object.html">valstat.object</a></code>,
<code><a href="cluster.magazine.html">cluster.magazine</a></code>, <code><a href="kmeansCBI.html">kmeansCBI</a></code>,
<code><a href="cqcluster.stats.html">cqcluster.stats</a></code>, <code><a href="clustatsum.html">clustatsum</a></code>,
<code><a href="cgrestandard.html">cgrestandard</a></code>  
</p>


<h3>Examples</h3>

<pre>
  
  set.seed(20000)
  options(digits=3)
  face &lt;- rFace(10,dMoNo=2,dNoEy=0,p=2)
  clustermethod=c("kmeansCBI","hclustCBI","hclustCBI")
# A clustering method can be used more than once, with different
# parameters
  clustermethodpars &lt;- list()
  clustermethodpars[[2]] &lt;- clustermethodpars[[3]] &lt;- list()
  clustermethodpars[[2]]$method &lt;- "complete"
  clustermethodpars[[3]]$method &lt;- "average"
  methodname &lt;- c("kmeans","complete","average")
  cbs &lt;-  clusterbenchstats(face,G=2:3,clustermethod=clustermethod,
    methodname=methodname,distmethod=rep(FALSE,3),
    clustermethodpars=clustermethodpars,nnruns=2,kmruns=2)
  print(cbs)
  print(cbs$qstat,aggregate=TRUE,weights=c(1,0,0,0,0,1,0,1,0,1,0,1,0,0,1,1))
# The weights are weights for the validation statistics ordered as in
# cbs$qstat$statistics for computation of an aggregated index, see
# ?print.valstat.

</pre>

<hr /><div style="text-align: center;">[Package <em>fpc</em> version 2.2-2 <a href="00Index.html">Index</a>]</div>
</body></html>
