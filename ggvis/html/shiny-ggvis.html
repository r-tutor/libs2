<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Connect a ggvis graphic to a shiny app.</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for shiny-ggvis {ggvis}"><tr><td>shiny-ggvis {ggvis}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Connect a ggvis graphic to a shiny app.</h2>

<h3>Description</h3>

<p>Embedding ggvis in a shiny app is easy. You need to make a place for it in
your <code>ui.r</code> with <code>ggvisOutput</code>, and tell your <code>server.r</code>
where to draw it with <code>bind_shiny</code>. It's easiest to learn by example:
there are many shiny apps in <code>demo/apps/</code> that you can learn from.
</p>


<h3>Usage</h3>

<pre>
bind_shiny(vis, plot_id, controls_id = NULL, ...,
  session = shiny::getDefaultReactiveDomain())

bind_shiny_ui(vis, controls_id,
  session = shiny::getDefaultReactiveDomain())

ggvisOutput(plot_id = rand_id("plot_id"))
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>vis</code></td>
<td>
<p>A ggvis object, or a reactive expression that returns a ggvis
object.</p>
</td></tr>
<tr valign="top"><td><code>plot_id</code></td>
<td>
<p>unique identifier to use for the div containing the ggvis plot.</p>
</td></tr>
<tr valign="top"><td><code>controls_id</code></td>
<td>
<p>Unique identifier for controls div.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Other arguments passed to <code>as.vega</code>.</p>
</td></tr>
<tr valign="top"><td><code>session</code></td>
<td>
<p>A Shiny session object.</p>
</td></tr>
</table>


<h3>Client-side</h3>

<p>In your UI, use <code>ggvisOutput()</code> in <code>ui.r</code> to insert an html
placeholder for the plot.
</p>
<p>If you're going to be using interactive controls generated by ggvis,
use <code><a href="../../shiny/html/renderUI.html">renderUI</a>()</code> to add a place holder. By convention,
if the id of plot placehold is called &quot;plot&quot;, call the controls placeholder
&quot;plot_ui&quot;.
</p>


<h3>Server-side</h3>

<p>When you run ggvis plot interactively, it is automatically plotted because
it triggers the default print method. In shiny apps, you need to
explicitly render the plot to a specific placeholder with
<code>bind_shiny</code>:
</p>
<p><code>p %&gt;% bind_shiny("plot")</code>
</p>
<p>If the plot has controls, and you've reserved space for them in the UI,
supply the name of the placeholder as the third argument:
</p>
<p><code>p %&gt;% bind_shiny("plot", "plot_ui")</code>
</p>


<h3>Examples</h3>

<pre>
## Run these examples only in interactive R sessions
if (interactive()) {

# Simplest possible app:
library(shiny)
runApp(list(
  ui = bootstrapPage(
    ggvisOutput("p"),
    uiOutput("p_ui")
  ),
  server = function(..., session) {
    mtcars %&gt;%
      ggvis(~wt, ~mpg) %&gt;%
      layer_points() %&gt;%
      layer_smooths(span = input_slider(0, 1)) %&gt;%
      bind_shiny("p", "p_ui")
  }
))

}
</pre>

<hr /><div style="text-align: center;">[Package <em>ggvis</em> version 0.4.5 <a href="00Index.html">Index</a>]</div>
</body></html>
