<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Add tooltips to a plot.</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for add_tooltip {ggvis}"><tr><td>add_tooltip {ggvis}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Add tooltips to a plot.</h2>

<h3>Description</h3>

<p>Add tooltips to a plot.
</p>


<h3>Usage</h3>

<pre>
add_tooltip(vis, html, on = c("hover", "click"))
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>vis</code></td>
<td>
<p>Visualisation to add tooltips to.</p>
</td></tr>
<tr valign="top"><td><code>html</code></td>
<td>
<p>A function that takes a single argument as input. This argument
will be a list containing the data in the mark currently under the
mouse. It should return a string containing HTML or <code>NULL</code> to
hide tooltip for the current element.</p>
</td></tr>
<tr valign="top"><td><code>on</code></td>
<td>
<p>Should tooltips appear on hover, or on click?</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre>
## Run these examples only in interactive R sessions
if (interactive()) {

all_values &lt;- function(x) {
  if(is.null(x)) return(NULL)
  paste0(names(x), ": ", format(x), collapse = "&lt;br /&gt;")
}

base &lt;- mtcars %&gt;% ggvis(x = ~wt, y = ~mpg) %&gt;%
  layer_points()
base %&gt;% add_tooltip(all_values, "hover")
base %&gt;% add_tooltip(all_values, "click")

# The data sent from client to the server contains only the data columns that
# are used in the plot. If you want to get other columns of data, you should
# to use a key to line up the item from the plot with a row in the data.
mtc &lt;- mtcars
mtc$id &lt;- 1:nrow(mtc)  # Add an id column to use ask the key

all_values &lt;- function(x) {
  if(is.null(x)) return(NULL)
  row &lt;- mtc[mtc$id == x$id, ]
  paste0(names(row), ": ", format(row), collapse = "&lt;br /&gt;")
}

mtc %&gt;% ggvis(x = ~wt, y = ~mpg, key := ~id) %&gt;%
  layer_points() %&gt;%
  add_tooltip(all_values, "hover")

}
</pre>

<hr /><div style="text-align: center;">[Package <em>ggvis</em> version 0.4.5 <a href="00Index.html">Index</a>]</div>
</body></html>
