<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Add a vega axis specification to a ggvis plot</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for add_axis {ggvis}"><tr><td>add_axis {ggvis}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Add a vega axis specification to a ggvis plot</h2>

<h3>Description</h3>

<p>Axis specifications allow you to either override the default axes,
or additional axes.
</p>


<h3>Usage</h3>

<pre>
add_axis(vis, type, scale = NULL, orient = NULL, title = NULL,
  title_offset = NULL, format = NULL, ticks = NULL, values = NULL,
  subdivide = NULL, tick_padding = NULL, tick_size_major = NULL,
  tick_size_minor = tick_size_major, tick_size_end = tick_size_major,
  offset = NULL, layer = "back", grid = TRUE, properties = NULL)

hide_axis(vis, scale)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>vis</code></td>
<td>
<p>A ggvis object.</p>
</td></tr>
<tr valign="top"><td><code>type</code></td>
<td>
<p>The type of axis. Either x or y.</p>
</td></tr>
<tr valign="top"><td><code>scale</code></td>
<td>
<p>The name of the scale backing the axis component. Defaults to
the scale type - you will need to specify if you want (e.g.) a scale
for a secondary y-axis.</p>
</td></tr>
<tr valign="top"><td><code>orient</code></td>
<td>
<p>The orientation of the axis. One of top, bottom, left or right.
The orientation can be used to further specialize the axis type (e.g., a y
axis oriented for the right edge of the chart) - defaults to bottom for
x axes, and left for y axes.</p>
</td></tr>
<tr valign="top"><td><code>title</code></td>
<td>
<p>A title for the axis. By default, it uses the name of the field
in the first data set used by the scale. Use <code>""</code> to suppress the
title.</p>
</td></tr>
<tr valign="top"><td><code>title_offset</code></td>
<td>
<p>The offset (in pixels) from the axis at which to place
the title.</p>
</td></tr>
<tr valign="top"><td><code>format</code></td>
<td>
<p>The formatting pattern for axis labels. Vega uses D3's format
pattern: <a href="https://github.com/mbostock/d3/wiki/Formatting">https://github.com/mbostock/d3/wiki/Formatting</a></p>
</td></tr>
<tr valign="top"><td><code>ticks</code></td>
<td>
<p>A desired number of ticks. The resulting number may be different
so that values are &quot;nice&quot; (multiples of 2, 5, 10) and lie within the
underlying scale's range.</p>
</td></tr>
<tr valign="top"><td><code>values</code></td>
<td>
<p>Explicitly set the visible axis tick values.</p>
</td></tr>
<tr valign="top"><td><code>subdivide</code></td>
<td>
<p>If provided, sets the number of minor ticks between major
ticks (the value 9 results in decimal subdivision).</p>
</td></tr>
<tr valign="top"><td><code>tick_padding</code></td>
<td>
<p>The padding, in pixels, between ticks and text labels.</p>
</td></tr>
<tr valign="top"><td><code>tick_size_major, tick_size_minor, tick_size_end</code></td>
<td>
<p>The size, in pixels, of major, minor and end ticks.</p>
</td></tr>
<tr valign="top"><td><code>offset</code></td>
<td>
<p>The offset, in pixels, by which to displace the axis from the
edge of the enclosing group or data rectangle.</p>
</td></tr>
<tr valign="top"><td><code>layer</code></td>
<td>
<p>A string indicating if the axis (and any gridlines) should be
placed above or below the data marks. One of &quot;front&quot; or &quot;back&quot; (default).</p>
</td></tr>
<tr valign="top"><td><code>grid</code></td>
<td>
<p>A flag indicating if gridlines should be created in addition to
ticks.</p>
</td></tr>
<tr valign="top"><td><code>properties</code></td>
<td>
<p>Optional mark property definitions for custom axis styling.
Should be an object created by <code><a href="axis_props.html">axis_props</a></code>, with properties
for ticks, majorTicks, minorTicks, grid, labels, title, and axis.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>More information about axes can be found in the &quot;axes and legends&quot; vignettes.
</p>


<h3>Compared to ggplot2</h3>

<p>In ggplot2, axis (and legend) properties are part of the scales
specification. In vega, they are separate, which allows the specification
of multiple axes, and more flexible linkage between scales and axes.
</p>


<h3>See Also</h3>

<p>Vega axis documentation:
<a href="https://github.com/trifacta/vega/wiki/Axes">https://github.com/trifacta/vega/wiki/Axes</a>
</p>


<h3>Examples</h3>

<pre>
mtcars %&gt;% ggvis(x = ~wt, y = ~mpg, fill = ~cyl) %&gt;%
  layer_points() %&gt;%
  add_axis("x", title = "Weight", orient = "top")

# Suppress axis with hide_axis
mtcars %&gt;% ggvis(x = ~wt, y = ~mpg, fill = ~cyl) %&gt;%
  layer_points() %&gt;%
  hide_axis("x") %&gt;% hide_axis("y")

mtcars %&gt;% ggvis(x = ~wt, y = ~mpg) %&gt;% layer_points() %&gt;%
  add_axis("x", title = "Weight", ticks = 40,
    properties = axis_props(
      ticks = list(stroke = "red"),
      majorTicks = list(strokeWidth = 2),
      grid = list(stroke = "red"),
      labels = list(
        fill = "steelblue",
        angle = 50,
        fontSize = 14,
        align = "left",
        baseline = "middle",
        dx = 3
      ),
      title = list(fontSize = 16),
      axis = list(stroke = "#333", strokeWidth = 1.5)
    )
  )
</pre>

<hr /><div style="text-align: center;">[Package <em>ggvis</em> version 0.4.5 <a href="00Index.html">Index</a>]</div>
</body></html>
