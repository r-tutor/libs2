<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Add nodes and attributes to graph from a table</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for add_nodes_from_table {DiagrammeR}"><tr><td>add_nodes_from_table {DiagrammeR}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Add nodes and attributes to graph from a table</h2>

<h3>Description</h3>

<p>Add nodes and their attributes to an
existing graph object from data in a CSV file or a
data frame.
</p>


<h3>Usage</h3>

<pre>
add_nodes_from_table(graph, table, label_col = NULL, type_col = NULL,
  set_type = NULL, drop_cols = NULL)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>graph</code></td>
<td>
<p>a graph object of class
<code>dgr_graph</code>.</p>
</td></tr>
<tr valign="top"><td><code>table</code></td>
<td>
<p>either a path to a CSV file, or, a data
frame object.</p>
</td></tr>
<tr valign="top"><td><code>label_col</code></td>
<td>
<p>an option to apply a column of data
in the table as <code>label</code> attribute values.</p>
</td></tr>
<tr valign="top"><td><code>type_col</code></td>
<td>
<p>an option to apply a column of data
in the table as <code>type</code> attribute values.</p>
</td></tr>
<tr valign="top"><td><code>set_type</code></td>
<td>
<p>an optional string to apply a
<code>type</code> attribute to all nodes created from data
in the external table.</p>
</td></tr>
<tr valign="top"><td><code>drop_cols</code></td>
<td>
<p>an optional column selection
statement for dropping columns from the external
table before inclusion as attributes in the graph's
internal node data frame. Several columns can be
dropped by name using the syntax
<code>col_1 &amp; col_2 &amp; ...</code>. Columns can also be
dropped using a numeric column range with <code>:</code>
(e.g., <code>5:8</code>), or, by using the <code>:</code>
between column names to specify the range (e.g.,
<code>col_5_name:col_8_name</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a graph object of class <code>dgr_graph</code>.
</p>


<h3>Examples</h3>

<pre>
# To add nodes from the dataset called
# `currencies` (available as a dataset
# in the package), call the
# `add_nodes_from_table()` function
# after creating an empty graph; new
# node ID values will be created as
# monotonically-increasing values
graph_1 &lt;-
  create_graph() %&gt;%
  add_nodes_from_table(
    table = currencies)

# View part of the graph's internal
# node data frame (ndf)
graph_1 %&gt;%
  get_node_df() %&gt;%
  .[, 1:5] %&gt;%
  head()

# If you would like to assign
# any of the table's columns as
# `type` or `label` attributes,
# this can be done with the `type_col`
# and `label_col` arguments; to set
# a static `type` attribute for all
# of the table records, use `set_type`
graph_2 &lt;-
  create_graph() %&gt;%
  add_nodes_from_table(
    table = currencies,
    label_col = iso_4217_code,
    set_type = currency)

# View part of the graph's internal ndf
graph_2 %&gt;%
  get_node_df() %&gt;%
  .[, 1:5] %&gt;%
  head()

# Suppose we would like to not
# include certain columns from the
# external table in the resulting
# graph; we can use the `drop_cols`
# argument to choose which columns
# to not include as attributes
graph_3 &lt;-
  create_graph() %&gt;%
  add_nodes_from_table(
    table = currencies,
    label_col = iso_4217_code,
    set_type = currency,
    drop_cols = exponent &amp; currency_name)

# Show the node attribute names
# for the graph; note that the
# `exponent` and `currency_name`
# columns are not attributes in the
# graph's internal node data frame
graph_3 %&gt;%
  get_node_df() %&gt;%
  colnames()
</pre>

<hr /><div style="text-align: center;">[Package <em>DiagrammeR</em> version 1.0.1 <a href="00Index.html">Index</a>]</div>
</body></html>
