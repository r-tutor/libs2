<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Layout nodes using a text-based schematic</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for layout_nodes_w_string {DiagrammeR}"><tr><td>layout_nodes_w_string {DiagrammeR}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Layout nodes using a text-based schematic</h2>

<h3>Description</h3>

<p>Layout one or several groups of
nodes using a text-based schematic. The option
is available to apply sorting to each of the
groups.
</p>


<h3>Usage</h3>

<pre>
layout_nodes_w_string(graph, layout, nodes, sort = NULL, width = 8,
  height = 8, ll = c(0, 0))
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>graph</code></td>
<td>
<p>a graph object of class
<code>dgr_graph</code>.</p>
</td></tr>
<tr valign="top"><td><code>layout</code></td>
<td>
<p>a layout character string that
provides a schematic for the layout. This
consists of a rectangular collection of
<code>-</code> characters (for no node placement),
and numbers from <code>1</code> to <code>9</code>
(representing different groupings of nodes,
further described in the <code>nodes</code> argument).</p>
</td></tr>
<tr valign="top"><td><code>nodes</code></td>
<td>
<p>a named vector of the form:
<code>c("1" = "[node_attr]:[value]", ...)</code>. The
LHS corresponds to the numbers used in the
<code>layout</code> schematic. The RHS provides a
shorthand for the node attribute and a value
for grouping together nodes (separated by a
colon). For instance, with <code>"type:a"</code> in the
RHS (and <code>"1"</code> in the LHS) we would target
all nodes with a <code>type</code> attribute equal
to <code>a</code> for positioning in the graph as
described by the <code>1</code>s in the <code>layout</code>.</p>
</td></tr>
<tr valign="top"><td><code>sort</code></td>
<td>
<p>an optional sorting method to apply
to the collection of nodes before assigning
positional information. Like <code>nodes</code>, this
is a named vector of the form:
<code>c("1" = "[node_attr]:asc|desc", ...)</code>.
The <code>node_attr</code> in this case should be
different than that used in <code>nodes</code>. Ideally,
this node attribute should have unique values.
Choose either <code>asc</code> or <code>desc</code> right of
the colon for ascending or descending sorts.</p>
</td></tr>
<tr valign="top"><td><code>width</code></td>
<td>
<p>the width of the <code>layout</code>
diagram.</p>
</td></tr>
<tr valign="top"><td><code>height</code></td>
<td>
<p>the height of the <code>layout</code>
diagram.</p>
</td></tr>
<tr valign="top"><td><code>ll</code></td>
<td>
<p>a vector describing the the lower-left
coordinates of the <code>layout</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a graph object of class <code>dgr_graph</code>.
</p>


<h3>Examples</h3>

<pre>
# Create a graph with unique labels and
# several node `type` groupings
graph &lt;-
  create_graph() %&gt;%
  add_node(type = "a", label = "a") %&gt;%
  add_node(type = "a", label = "b") %&gt;%
  add_node(type = "b", label = "c") %&gt;%
  add_node(type = "b", label = "d") %&gt;%
  add_node(type = "b", label = "e") %&gt;%
  add_node(type = "c", label = "f") %&gt;%
  add_node(type = "c", label = "g")

# Define a 'layout' for groups of nodes
# using a text string (dashes are empty
# grid cells, numbers--representing
# ad-hoc groupings--correspond to
# individual nodes); here, define a layout
# with 3 groups of nodes
layout &lt;-
"
1--------
1--------
---222---
--------3
--------3
"

# Use the `layout` along with what nodes
# the numbers correspond to in the graph
# with the `nodes` named vectors; the
# optional `sort` vector describes how
# we should sort the collection of node
# before adding position information
graph &lt;-
  graph %&gt;%
  layout_nodes_w_string(
    layout = layout,
    nodes = c("1" = "type:a",
              "2" = "type:b",
              "3" = "type:c"),
    sort = c("1" = "label:asc",
             "2" = "label:desc",
             "3" = "label:desc"))

# Show the graph's node data frame
# to confirm that `x` and `y` values
# were added to each of the nodes
graph %&gt;%
  get_node_df()
</pre>

<hr /><div style="text-align: center;">[Package <em>DiagrammeR</em> version 1.0.1 <a href="00Index.html">Index</a>]</div>
</body></html>
