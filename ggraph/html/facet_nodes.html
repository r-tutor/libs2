<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Create small multiples based on node attributes</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for facet_nodes {ggraph}"><tr><td>facet_nodes {ggraph}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Create small multiples based on node attributes</h2>

<h3>Description</h3>

<p>This function is equivalent to <code><a href="../../ggplot2/html/facet_wrap.html">ggplot2::facet_wrap()</a></code> but only
facets nodes. Edges are drawn if their terminal nodes are both present in a
panel.
</p>


<h3>Usage</h3>

<pre>
facet_nodes(facets, nrow = NULL, ncol = NULL, scales = "fixed",
  shrink = TRUE, labeller = "label_value", as.table = TRUE,
  switch = NULL, drop = TRUE, dir = "h", strip.position = "top")
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>facets</code></td>
<td>
<p>A set of variables or expressions quoted by <code><a href="../../bayesplot/html/reexports.html">vars()</a></code>
and defining faceting groups on the rows or columns dimension.
The variables can be named (the names are passed to <code>labeller</code>).
</p>
<p>For compatibility with the classic interface, can also be a
formula or character vector. Use either a one sided formula, <code>~a + b</code>,
or a character vector, <code>c("a", "b")</code>.</p>
</td></tr>
<tr valign="top"><td><code>nrow</code></td>
<td>
<p>Number of rows and columns.</p>
</td></tr>
<tr valign="top"><td><code>ncol</code></td>
<td>
<p>Number of rows and columns.</p>
</td></tr>
<tr valign="top"><td><code>scales</code></td>
<td>
<p>Should scales be fixed (<code>"fixed"</code>, the default),
free (<code>"free"</code>), or free in one dimension (<code>"free_x"</code>,
<code>"free_y"</code>)?</p>
</td></tr>
<tr valign="top"><td><code>shrink</code></td>
<td>
<p>If <code>TRUE</code>, will shrink scales to fit output of
statistics, not raw data. If <code>FALSE</code>, will be range of raw data
before statistical summary.</p>
</td></tr>
<tr valign="top"><td><code>labeller</code></td>
<td>
<p>A function that takes one data frame of labels and
returns a list or data frame of character vectors. Each input
column corresponds to one factor. Thus there will be more than
one with formulae of the type <code>~cyl + am</code>. Each output
column gets displayed as one separate line in the strip
label. This function should inherit from the &quot;labeller&quot; S3 class
for compatibility with <code><a href="../../ggplot2/html/labeller.html">labeller()</a></code>. See
<code><a href="../../ggplot2/html/labellers.html">label_value()</a></code> for more details and pointers to other
options.</p>
</td></tr>
<tr valign="top"><td><code>as.table</code></td>
<td>
<p>If <code>TRUE</code>, the default, the facets are laid out like
a table with highest values at the bottom-right. If <code>FALSE</code>, the
facets are laid out like a plot with the highest value at the top-right.</p>
</td></tr>
<tr valign="top"><td><code>switch</code></td>
<td>
<p>By default, the labels are displayed on the top and
right of the plot. If <code>"x"</code>, the top labels will be
displayed to the bottom. If <code>"y"</code>, the right-hand side
labels will be displayed to the left. Can also be set to
<code>"both"</code>.</p>
</td></tr>
<tr valign="top"><td><code>drop</code></td>
<td>
<p>If <code>TRUE</code>, the default, all factor levels not used in the
data will automatically be dropped. If <code>FALSE</code>, all factor levels
will be shown, regardless of whether or not they appear in the data.</p>
</td></tr>
<tr valign="top"><td><code>dir</code></td>
<td>
<p>Direction: either <code>"h"</code> for horizontal, the default, or <code>"v"</code>,
for vertical.</p>
</td></tr>
<tr valign="top"><td><code>strip.position</code></td>
<td>
<p>By default, the labels are displayed on the top of
the plot. Using <code>strip.position</code> it is possible to place the labels on
either of the four sides by setting <code>strip.position = c("top",
  "bottom", "left", "right")</code></p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other ggraph-facets: <code><a href="facet_edges.html">facet_edges</a></code>,
<code><a href="facet_graph.html">facet_graph</a></code>
</p>


<h3>Examples</h3>

<pre>
library(tidygraph)
gr &lt;- as_tbl_graph(highschool) %&gt;%
  mutate(popularity = as.character(cut(centrality_degree(mode = 'in'),
    breaks = 3,
    labels = c('low', 'medium', 'high')
  )))
ggraph(gr) +
  geom_edge_link() +
  geom_node_point() +
  facet_nodes(~popularity)
</pre>

<hr /><div style="text-align: center;">[Package <em>ggraph</em> version 2.0.0 <a href="00Index.html">Index</a>]</div>
</body></html>
