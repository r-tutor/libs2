<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Constructs plots of predicted weights at given lengths among...</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for lwCompPreds {FSA}"><tr><td>lwCompPreds {FSA}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Constructs plots of predicted weights at given lengths among different groups.</h2>

<h3>Description</h3>

<p>Constructs plots of predicted weights at given lengths among different groups. These plots allow the user to explore differences in predicted weights at a variety of lengths when the weight-length relationship is not the same across a variety of groups.
</p>


<h3>Usage</h3>

<pre>
lwCompPreds(object, lens = NULL, qlens = c(0.05, 0.25, 0.5, 0.75,
  0.95), qlens.dec = 1, base = exp(1), interval = c("confidence",
  "prediction", "both"), center.value = 0, lwd = 1,
  connect.preds = TRUE, show.preds = FALSE, col.connect = "gray50",
  ylim = NULL, main.pre = "Length==", cex.main = 0.8,
  xlab = "Groups", ylab = "Predicted Weight", yaxs = "r",
  rows = round(sqrt(num)), cols = ceiling(sqrt(num)))
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>object</code></td>
<td>
<p>An <code>lm</code> object (i.e., returned from fitting a model with <code>lm</code>). This model should have log(weight) as the response and log(length) as the explanatory covariate and an explanatory factor variable that describes the different groups.</p>
</td></tr>
<tr valign="top"><td><code>lens</code></td>
<td>
<p>A numeric vector that indicates the lengths at which the weights should be predicted.</p>
</td></tr>
<tr valign="top"><td><code>qlens</code></td>
<td>
<p>A numeric vector that indicates the quantiles of lengths at which weights should be predicted. This is ignored if <code>lens</code> is non-null.</p>
</td></tr>
<tr valign="top"><td><code>qlens.dec</code></td>
<td>
<p>A single numeric that identifies the decimal place that the lengths derived from <code>qlens</code> should be rounded to (Default is 1).</p>
</td></tr>
<tr valign="top"><td><code>base</code></td>
<td>
<p>A single positive numeric value that indicates the base of the logarithm used in the <code>lm</code> object in <code>object</code>. The default is <code>exp(1)</code>, or the value e.</p>
</td></tr>
<tr valign="top"><td><code>interval</code></td>
<td>
<p>A single string that indicates whether to plot confidence (<code>="confidence"</code>), prediction (<code>="prediction"</code>), or both (<code>="both"</code>) intervals.</p>
</td></tr>
<tr valign="top"><td><code>center.value</code></td>
<td>
<p>A single numeric value that indicates the log length used if the log length data was centered when constructing <code>object</code>.</p>
</td></tr>
<tr valign="top"><td><code>lwd</code></td>
<td>
<p>A single numeric that indicates the line width to be used for the confidence and prediction interval lines (if not <code>interval="both"</code>) and the prediction connections line. If <code>interval="both"</code> then the width of the prediction interval will be one less than this value so that the CI and PI appear different.</p>
</td></tr>
<tr valign="top"><td><code>connect.preds</code></td>
<td>
<p>A logical that indicates whether the predicted values should be connected with a line across groups or not.</p>
</td></tr>
<tr valign="top"><td><code>show.preds</code></td>
<td>
<p>A logical that indicates whether the predicted values should be plotted with a point for each group or not.</p>
</td></tr>
<tr valign="top"><td><code>col.connect</code></td>
<td>
<p>A color to use for the line that connects the predicted values (if <code>connect.preds=TRUE</code>).</p>
</td></tr>
<tr valign="top"><td><code>ylim</code></td>
<td>
<p>A numeric vector of length two that indicates the limits of the y-axis to be used for each plot. If null then limits will be chosen for each graph individually.</p>
</td></tr>
<tr valign="top"><td><code>main.pre</code></td>
<td>
<p>A character string to be used as a prefix for the main title. See details.</p>
</td></tr>
<tr valign="top"><td><code>cex.main</code></td>
<td>
<p>A numeric value for the character expansion of the main title. See details.</p>
</td></tr>
<tr valign="top"><td><code>xlab</code></td>
<td>
<p>A single string for labeling the x-axis.</p>
</td></tr>
<tr valign="top"><td><code>ylab</code></td>
<td>
<p>A single string for labeling the y-axis.</p>
</td></tr>
<tr valign="top"><td><code>yaxs</code></td>
<td>
<p>A single string that indicates how the y-axis is formed. See <code>par</code> for more details.</p>
</td></tr>
<tr valign="top"><td><code>rows</code></td>
<td>
<p>A single numeric that contains the number of rows to use on the graphic.</p>
</td></tr>
<tr valign="top"><td><code>cols</code></td>
<td>
<p>A single numeric that contains the number of columns to use on the graphic.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Other arguments to pass through to the <code>plot</code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None. However, a plot is produced.
</p>


<h3>IFAR Chapter</h3>

<p>7-Weight-Length.
</p>


<h3>Author(s)</h3>

<p>Derek H. Ogle, <a href="mailto:derek@derekogle.com">derek@derekogle.com</a>
</p>


<h3>References</h3>

<p>Ogle, D.H. 2016. <a href="http://derekogle.com/IFAR">Introductory Fisheries Analyses with R</a>. Chapman &amp; Hall/CRC, Boca Raton, FL.
</p>


<h3>Examples</h3>

<pre>
# add log length and weight data to ChinookArg data
ChinookArg$logtl &lt;- log(ChinookArg$tl)
ChinookArg$logwt &lt;- log(ChinookArg$w)
# fit model to assess equality of slopes
lm1 &lt;- lm(logwt~logtl*loc,data=ChinookArg)
anova(lm1)

# set graphing parameters so that the plots will look decent
op &lt;- par(mar=c(3.5,3.5,1,1),mgp=c(1.8,0.4,0),tcl=-0.2)
# show predicted weights (w/ CI) at the default quantile lengths for each year
lwCompPreds(lm1,xlab="Location")
# show predicted weights (w/ CI) at the quartile lengths for each year
lwCompPreds(lm1,xlab="Location",qlens=c(0.25,0.5,0.75))
# show predicted weights (w/ CI) at certain lengths for each year
lwCompPreds(lm1,xlab="Location",lens=c(60,90,120,150))
# show predicted weights (w/ just PI) at certain lengths for each year
lwCompPreds(lm1,xlab="Location",lens=c(60,90,120,150),interval="prediction")
# show predicted weights (w/ CI and PI) at certain lengths for each year
lwCompPreds(lm1,xlab="Location",lens=c(60,90,120,150),interval="both")
# show predicted weights (w/ CI and points at the prediction) at certain lengths for each year
lwCompPreds(lm1,xlab="Location",lens=c(60,90,120,150),show.preds=TRUE)
# show predicted weights (w/ CI but don't connect means) at certain lengths for each year
lwCompPreds(lm1,xlab="Location",lens=c(60,90,120,150),connect.preds=FALSE,show.preds=TRUE)

# fit model with centered data
mn.logtl &lt;- mean(ChinookArg$logtl,na.rm=TRUE)
ChinookArg$clogtl &lt;- ChinookArg$logtl-mn.logtl
lm2 &lt;- lm(logwt~clogtl*loc,data=ChinookArg)
lwCompPreds(lm2,xlab="Location",center.value=mn.logtl)
lwCompPreds(lm2,xlab="Location",lens=c(60,90,120,150),center.value=mn.logtl)

# fit model with a different base (plot should be the same as the first example)
ChinookArg$logtl &lt;- log10(ChinookArg$tl)
ChinookArg$logwt &lt;- log10(ChinookArg$w)
lm1 &lt;- lm(logwt~logtl*loc,data=ChinookArg)
lwCompPreds(lm1,base=10,xlab="Location")

if (interactive()) {
  # should give error, does not work for only a simple linear regression
  lm2 &lt;- lm(logwt~logtl,data=ChinookArg)
  lwCompPreds(lm2)
  # or a one-way ANOVA
  lm3 &lt;- lm(logwt~loc,data=ChinookArg)
  lwCompPreds(lm3)   
}

## return graphing parameters to original state
par(op)

</pre>

<hr /><div style="text-align: center;">[Package <em>FSA</em> version 0.8.23 <a href="00Index.html">Index</a>]</div>
</body></html>
