<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Extract diagonals from a matrix.</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for diags {FSA}"><tr><td>diags {FSA}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Extract diagonals from a matrix.</h2>

<h3>Description</h3>

<p>Extract diagonals from a matrix.
</p>


<h3>Usage</h3>

<pre>
diags(x, which = 0, incl.labels = c("none", "row", "column"),
  val.name = "value", label.name = "label")
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>A matrix with more than one row AND more than one column.</p>
</td></tr>
<tr valign="top"><td><code>which</code></td>
<td>
<p>A single numeric that indicates which diagonal to extract. A value of zero extracts the main diagonal, whereas negative values extract diagonals from the upper triangle and positive values extract diagonals from the lower triangle. Diagonals further from the main diagonal have <code>which</code> values further from zero. If <code>is.null(which)</code>, then a matrix of diagonal indices for <code>which</code> is shown.</p>
</td></tr>
<tr valign="top"><td><code>incl.labels</code></td>
<td>
<p>A single string that indicates whether <code>"row"</code>, <code>"column"</code>, or no (<code>"none"</code>) labels from <code>x</code> should be returned with the values on the diagonal. Will return numeric values if the labels are all diagonal, otherwise character labels are returned.</p>
</td></tr>
<tr valign="top"><td><code>val.name</code></td>
<td>
<p>A single string to name the variable that contains the values from the diagonal in the returned data.frame.</p>
</td></tr>
<tr valign="top"><td><code>label.name</code></td>
<td>
<p>A single string to name the variable that contains the labels in the returned data.frame (see <code>incl.labels</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with one variable that contains the values from the chosen diagonal of <code>x</code> and, optionally, a second variable that contains the chosen labels for those values.
</p>


<h3>Author(s)</h3>

<p>Derek H. Ogle, <a href="mailto:derek@derekogle.com">derek@derekogle.com</a>, but relied heavily on <a href="http://stackoverflow.com/a/27935808/1123933">http://stackoverflow.com/a/27935808/1123933</a>.
</p>


<h3>Examples</h3>

<pre>
## Square numeric matrix
mat1 &lt;- matrix(1:16,nrow=4)
colnames(mat1) &lt;- LETTERS[1:ncol(mat1)]
rownames(mat1) &lt;- 1:nrow(mat1)
mat1
diags(mat1,which=NULL)
diags(mat1)
diags(mat1,which=-1)
diags(mat1,which=2)
diags(mat1,incl.labels="row")
diags(mat1,which=2,incl.labels="row")
diags(mat1,which=2,incl.labels="col")
( tmp &lt;- diags(mat1,which=2,incl.labels="row",val.name="Freq",label.name="age") )
str(tmp)

## Rectangular numeric matrix
mat2 &lt;- matrix(1:20,nrow=4)
colnames(mat2) &lt;- LETTERS[1:ncol(mat2)]
rownames(mat2) &lt;- 1:nrow(mat2)
mat2
diags(mat2,which=NULL)
diags(mat2,which=-1,incl.labels="row")
diags(mat2,which=2,incl.labels="row")
diags(mat2,which=-4,incl.labels="col")

## Rectangular character matrix
mat3 &lt;- matrix(LETTERS[1:24],nrow=3)
colnames(mat3) &lt;- letters[1:ncol(mat3)]
rownames(mat3) &lt;- 1:nrow(mat3)
mat3
diags(mat3,which=NULL)
diags(mat3,which=-1,incl.labels="row")
diags(mat3,which=2,incl.labels="row")
diags(mat3,which=-4,incl.labels="col")

</pre>

<hr /><div style="text-align: center;">[Package <em>FSA</em> version 0.8.23 <a href="00Index.html">Index</a>]</div>
</body></html>
