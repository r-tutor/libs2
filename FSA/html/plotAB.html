<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Construct traditional (Campana-like) age-bias plots.</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for plotAB {FSA}"><tr><td>plotAB {FSA}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Construct traditional (Campana-like) age-bias plots.</h2>

<h3>Description</h3>

<p>Constructs a traditional (e.g., like that described in Campana <em>et al.</em> (1995)) age-bias plot to visualize potential differences in paired age estimates. Ages may be from, for example, two readers of the same structure, one reader at two times, two structures (e.g., scales, spines, otoliths), or one structure and known ages.
</p>


<h3>Usage</h3>

<pre>
plotAB(x, what = c("bias", "Campana", "numbers"), xlab = x$ref.lab,
  ylab = x$nref.lab, xlim = NULL, ylim = NULL,
  yaxt = graphics::par("yaxt"), xaxt = graphics::par("xaxt"),
  col.agree = "gray60", lwd.agree = lwd, lty.agree = 2, lwd = 1,
  sfrac = 0, pch.mean = 19, pch.mean.sig = 21, cex.mean = lwd,
  col.CI = "black", col.CIsig = "red", lwd.CI = lwd,
  sfrac.CI = sfrac, show.n = FALSE, nYpos = 1.03, cex.n = 0.75,
  cex.numbers = 0.75, col.numbers = "black", ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>An object of class <code>ageBias</code>, usually a result from <code>ageBias</code>.</p>
</td></tr>
<tr valign="top"><td><code>what</code></td>
<td>
<p>A string that indicates what type of plot to construct. See details.</p>
</td></tr>
<tr valign="top"><td><code>xlab, ylab</code></td>
<td>
<p>A string label for the x-axis (reference) or y-axis (non-reference) age estimates, respectively.</p>
</td></tr>
<tr valign="top"><td><code>xlim, ylim</code></td>
<td>
<p>A numeric vector of length 2 that contains the limits of the x-axis (reference ages) or y-axis (non-reference ages), respectively.</p>
</td></tr>
<tr valign="top"><td><code>xaxt, yaxt</code></td>
<td>
<p>A string which specifies the x- and y-axis types. Specifying &ldquo;n&rdquo; suppresses plotting of the axis. See <code>?par</code>.</p>
</td></tr>
<tr valign="top"><td><code>col.agree</code></td>
<td>
<p>A string or numeric for the color of the 1:1 or zero (if <code>difference=TRUE</code>) reference line.</p>
</td></tr>
<tr valign="top"><td><code>lwd.agree</code></td>
<td>
<p>A numeric for the line width of the 1:1 or zero (if <code>difference=TRUE</code>) reference line.</p>
</td></tr>
<tr valign="top"><td><code>lty.agree</code></td>
<td>
<p>A numeric for the line type of the 1:1 or zero (if <code>difference=TRUE</code>) reference line.</p>
</td></tr>
<tr valign="top"><td><code>lwd</code></td>
<td>
<p>A numeric that controls the separate &lsquo;lwd&rsquo; argument (e.g., <code>lwd.CI</code> and <code>lwd.range</code>).</p>
</td></tr>
<tr valign="top"><td><code>sfrac</code></td>
<td>
<p>A numeric that controls the separate &lsquo;sfrac&rsquo; arguments (e.g., <code>sfrac.CI</code> and <code>sfrac.range</code>). See <code>sfrac</code> in <code><a href="../../plotrix/html/plotCI.html">plotCI</a></code> of <span class="pkg">plotrix</span>.</p>
</td></tr>
<tr valign="top"><td><code>pch.mean</code></td>
<td>
<p>A numeric for the plotting character used for the mean values when the means are considered insignificant.</p>
</td></tr>
<tr valign="top"><td><code>pch.mean.sig</code></td>
<td>
<p>A numeric for the plotting character for the mean values when the means are considered significant.</p>
</td></tr>
<tr valign="top"><td><code>cex.mean</code></td>
<td>
<p>A character expansion value for the size of the mean symbol in <code>pch.mean</code> and <code>pch.mean.sig</code>.</p>
</td></tr>
<tr valign="top"><td><code>col.CI</code></td>
<td>
<p>A string or numeric for the color of confidence interval bars that are considered non-significant.</p>
</td></tr>
<tr valign="top"><td><code>col.CIsig</code></td>
<td>
<p>A string or numeric for the color of confidence interval bars that are considered significant.</p>
</td></tr>
<tr valign="top"><td><code>lwd.CI</code></td>
<td>
<p>A numeric for the line width of the confidence interval bars.</p>
</td></tr>
<tr valign="top"><td><code>sfrac.CI</code></td>
<td>
<p>A numeric for the size of the ends of the confidence interval bars. See <code>sfrac</code> in <code><a href="../../plotrix/html/plotCI.html">plotCI</a></code> of <span class="pkg">plotrix</span>.</p>
</td></tr>
<tr valign="top"><td><code>show.n</code></td>
<td>
<p>A logical for whether the sample sizes for each level of the x-axis variable is shown (<code>=TRUE</code>, default) or not (<code>=FALSE</code>).</p>
</td></tr>
<tr valign="top"><td><code>nYpos</code></td>
<td>
<p>A numeric for the relative Y position of the sample size values when <code>show.n=TRUE</code>. For example, if <code>nYpos=1.03</code> then the sample size values will be centered at 3 percent above the top end of the y-axis.</p>
</td></tr>
<tr valign="top"><td><code>cex.n</code></td>
<td>
<p>A character expansion value for the size of the sample size values.</p>
</td></tr>
<tr valign="top"><td><code>cex.numbers</code></td>
<td>
<p>A character expansion value for the size of the numbers plotted when <code>what="numbers"</code> is used.</p>
</td></tr>
<tr valign="top"><td><code>col.numbers</code></td>
<td>
<p>A string for the color of the numbers plotted when <code>what="numbers"</code> is used.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Additional arguments for methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Two types of plots for visualizing differences between sets of two age estimates may be created. The reference ages are plotted on the x-axis and the nonreference ages are on the y-axis. The 1:1 (45 degree) agreement line is shown for comparative purposes. The default plot (using <code>what="bias"</code>) was inspired by the age bias plot introduced by Campana <em>et al.</em> (1995). The default settings for this age bias plot show the mean and confidence interval for the nonreference ages at each of the reference ages. The level of confidence is controlled by <code>sig.level=</code> given in the original <code><a href="ageBias.html">ageBias</a></code> call (i.e., confidence level is 100*(1-<code>sig.level</code>)). Confidence intervals are only shown if the sample size is greater than the value in <code>min.n.CI=</code> (also from the original call to <code><a href="ageBias.html">ageBias</a></code>). Confidence intervals plotted in red with an open dot (by default; these can be changed with <code>col.CIsig</code> and <code>pch.mean.sig</code>, respectively) do not contain the reference age (see discussion of t-tests in <code><a href="ageBias.html">ageBias</a></code>). Sample sizes at each reference age are shown if <code>show.n=TRUE</code>. The position of the sample sizes is controlled with <code>nYpos=</code>, whereas their size is controlled with <code>cex.n</code>. Arguments may be used to nearly replicate the age bias plot as introduced by Campana <em>et al.</em> (1995) as shown in the examples.
</p>
<p>The frequency of observations at each unique (x,y) coordinate are shown by using <code>what="numbers"</code> in <code>plotAB</code>. The size of the numbers is controlled with <code>cex.numbers</code>.
</p>


<h3>Value</h3>

<p>Nothing, but see details for a description of the plot that is produced.
</p>


<h3>IFAR Chapter</h3>

<p>4-Age Comparisons. <b>This is most of the original functionality that was in <code>plot</code> in the book. See examples.</b>
</p>


<h3>Author(s)</h3>

<p>Derek H. Ogle, <a href="mailto:derek@derekogle.com">derek@derekogle.com</a>
</p>


<h3>References</h3>

<p>Campana, S.E., M.C. Annand, and J.I. McMillan. 1995. Graphical and statistical methods for determining the consistency of age determinations. Transactions of the American Fisheries Society 124:131-138. [Was (is?) available from http://www.bio.gc.ca/otoliths/documents/Campana%20et%20al%201995%20TAFS.pdf.]
</p>


<h3>See Also</h3>

<p>See <code><a href="ageBias.html">ageBias</a></code> and its plot method for what I consider a better age-bias plot; <code><a href="agePrecision.html">agePrecision</a></code> for measures of precision between pairs of age estimates; and <code><a href="../../fishmethods/html/compare2.html">compare2</a></code> in <span class="pkg">fishmethods</span> for similar functionality.
</p>


<h3>Examples</h3>

<pre>
# Must create ageBias object first
ab1 &lt;- ageBias(scaleC~otolithC,data=WhitefishLC,
               ref.lab="Otolith Age",nref.lab="Scale Age")
               
# Default plot
plotAB(ab1)

# Very close to Campana et al. (2001)
plotAB(ab1,pch.mean.sig=19,col.CIsig="black",sfrac=0.01,
       ylim=c(-1,23),xlim=c(-1,23))
# Show sample sizes (different position and size than default)
plotAB(ab1,show.n=TRUE,nYpos=0.02,cex.n=0.5)

# Traditional numbers plot
plotAB(ab1,what="numbers") 

</pre>

<hr /><div style="text-align: center;">[Package <em>FSA</em> version 0.8.25 <a href="00Index.html">Index</a>]</div>
</body></html>
