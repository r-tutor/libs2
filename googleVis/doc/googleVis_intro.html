<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Markus Gesmann and Diego de Castillo" />

<meta name="date" content="2020-07-08" />

<title>Introduction to googleVis</title>

<script src="googleVis_intro_files/header-attrs-2.3/header-attrs.js"></script>
<script src="googleVis_intro_files/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>

<style type="text/css">
  p.abstract{
    text-align: center;
    font-weight: bold;
  }
  div.abstract{
    margin: auto;
    width: 90%;
  }
</style>


<link rel="stylesheet" href="/Library/Frameworks/R.framework/Versions/4.0/Resources/library/rmarkdown/rmarkdown/templates/html_vignette/resources/vignette.css" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">Introduction to googleVis</h1>
<h4 class="author">Markus Gesmann and Diego de Castillo</h4>
<h4 class="date">2020-07-08</h4>
<div class="abstract">
<p class="abstract">Abstract</p>
The googleVis package provides an interface between R and the Google Charts API. Google Charts offer interactive charts which can be embedded into web pages. The functions of the googleVis package allow the user to visualise data stored in R data frames with Google Charts without uploading the data to Google. The output of a googleVis function is HTML code that contains the data and references to JavaScript functions hosted by Google. googleVis makes use of the internal R HTTP server to display the output locally. A modern browser with an Internet connection is required and for some charts a Flash player.
</div>


<div id="TOC">
<ul>
<li><a href="#introduction"><span class="toc-section-number">1</span> Introduction</a>
<ul>
<li><a href="#motivation"><span class="toc-section-number">1.1</span> Motivation</a></li>
</ul></li>
<li><a href="#the-googlevis-package"><span class="toc-section-number">2</span> The googleVis package</a>
<ul>
<li><a href="#sec:Installation"><span class="toc-section-number">2.1</span> Installation</a></li>
</ul></li>
<li><a href="#concepts-of-the-googlevis-package"><span class="toc-section-number">3</span> Concepts of the googleVis package</a>
<ul>
<li><a href="#geo-chart-example"><span class="toc-section-number">3.1</span> Geo Chart Example</a></li>
</ul></li>
<li><a href="#displaying-gvis-objects-locally"><span class="toc-section-number">4</span> Displaying gvis objects locally</a></li>
<li><a href="#setting-options"><span class="toc-section-number">5</span> Setting options</a>
<ul>
<li><a href="#chart-editor"><span class="toc-section-number">5.1</span> Chart Editor</a></li>
</ul></li>
<li><a href="#embedding-googlevis-in-web-sites"><span class="toc-section-number">6</span> Embedding googleVis in web sites</a></li>
<li><a href="#using-googlevis-with-shiny"><span class="toc-section-number">7</span> Using googleVis with shiny</a></li>
<li><a href="#setting-default-behaviour-of-print.gvis-and-plot.gvis"><span class="toc-section-number">8</span> Setting default behaviour of <code>print.gvis</code> and <code>plot.gvis</code></a></li>
<li><a href="#using-googlevis-with-knitr"><span class="toc-section-number">9</span> Using googleVis with knitr</a></li>
<li><a href="#using-googlevis-in-presentations"><span class="toc-section-number">10</span> Using googleVis in presentations</a></li>
<li><a href="#using-trendlines-with-googlevis"><span class="toc-section-number">11</span> Using Trendlines with googleVis</a>
<ul>
<li><a href="#linear-trend-line"><span class="toc-section-number">11.1</span> Linear trend line</a></li>
<li><a href="#exponential-trend-line-with-equation-shown-in-legend"><span class="toc-section-number">11.2</span> Exponential trend line with equation shown in legend</a></li>
<li><a href="#add-trend-line-to-column-chart"><span class="toc-section-number">11.3</span> Add trend line to column chart</a></li>
<li><a href="#changing-labels-in-legend"><span class="toc-section-number">11.4</span> Changing labels in legend</a></li>
</ul></li>
<li><a href="#using-roles-via-googlevis"><span class="toc-section-number">12</span> Using Roles via googleVis</a></li>
<li><a href="#beyond-r"><span class="toc-section-number">13</span> Beyond R</a>
<ul>
<li><a href="#registering-to-catch-events"><span class="toc-section-number">13.1</span> Registering to catch events</a></li>
</ul></li>
<li><a href="#frequent-ask-questions-faq"><span class="toc-section-number">14</span> Frequent ask questions – FAQ</a>
<ul>
<li><a href="#can-i-use-googlevis-output-in-pdf-files"><span class="toc-section-number">14.1</span> Can I use googleVis output in PDF files?</a></li>
<li><a href="#can-i-change-the-colour-of-the-bubbles-in-motion-charts"><span class="toc-section-number">14.2</span> Can I change the colour of the bubbles in motion charts?</a></li>
<li><a href="#why-cant-i-see-motion-charts-when-i-open-them-from-a-local-directory"><span class="toc-section-number">14.3</span> Why can’t I see motion charts when I open them from a local directory?</a></li>
<li><a href="#why-cant-i-see-motion-charts-on-my-ipadiphone"><span class="toc-section-number">14.4</span> Why can’t I see motion charts on my iPad/iPhone?</a></li>
<li><a href="#how-can-i-set-axes-limits-with-googlevis"><span class="toc-section-number">14.5</span> How can I set axes limits with googleVis?</a></li>
<li><a href="#how-do-i-deal-with-apostrophes-in-column-names"><span class="toc-section-number">14.6</span> How do I deal with apostrophes in column names?</a></li>
<li><a href="#how-can-i-change-the-look-and-feel-of-the-charts"><span class="toc-section-number">14.7</span> How can I change the look and feel of the charts?</a></li>
<li><a href="#is-it-possible-to-use-googlevis-in-corporate-work"><span class="toc-section-number">14.8</span> Is it possible to use googleVis in corporate work?</a></li>
</ul></li>
<li><a href="#bugs-and-issues"><span class="toc-section-number">15</span> Bugs and issues</a></li>
<li><a href="#citation"><span class="toc-section-number">16</span> Citation</a></li>
<li><a href="#references"><span class="toc-section-number">17</span> References</a></li>
</ul>
</div>

<div id="introduction" class="section level1" number="1">
<h1 number="1"><span class="header-section-number">1</span> Introduction</h1>
<div id="motivation" class="section level2" number="1.1">
<h2 number="1.1"><span class="header-section-number">1.1</span> Motivation</h2>
<p>In 2006 Hans Rosling gave an inspiring talk at TED <span class="citation">(Rosling 2006)</span> about social and economic developments in the world over the past 50 years, which challenged the views and perceptions of many listeners. Rosling had used extensive data analysis to reach his conclusions. To visualise his talk, he and his team at Gapminder <span class="citation">(Foundation 2010)</span> had developed animated bubble charts, aka motion charts.</p>
<div style="max-width:854px">
<div style="position:relative;height:0;padding-bottom:56.25%">
<iframe src="https://embed.ted.com/talks/lang/en/hans_rosling_the_best_stats_you_ve_ever_seen" width="854" height="480" style="position:absolute;left:0;top:0;width:100%;height:100%" frameborder="0" scrolling="no" allowfullscreen>
</iframe>
</div>
</div>
<p>Rosling’s presentation popularised the idea and use of interactive charts. One year later the software behind Gapminder was bought by Google and integrated as motion charts into their Google Charts API <span class="citation">(Inc. 2012a)</span>, formerly known as Google Visualisation API.</p>
<p>In 2010 Sebastián Pérez Saaibi <span class="citation">(Saaibi 2010)</span> presented at the R/Rmetrics Workshop on Computational Finance and Financial Engineering, the idea to use Google motion charts to visualise R output with the <em><a href="https://CRAN.R-project.org/package=R.rsp">R.rsp</a></em> package <span class="citation">(Bengtsson 2012)</span>.</p>
<p>Inspired by those talks and the desire to use interactive data visualisation tools to foster the dialogue between data analysts and others the authors of this vignette started the development of the <em><a href="https://CRAN.R-project.org/package=googleVis">googleVis</a></em> package <span class="citation">(Gesmann and Castillo 2011)</span> in August 2010.</p>
<div id="google-chart-tools" class="section level3" number="1.1.1">
<h3 number="1.1.1"><span class="header-section-number">1.1.1</span> Google Chart Tools</h3>
<p>The Google Charts API <span class="citation">(Inc. 2012a)</span> allows users to create interactive charts as part of Google documents, spreadsheets and web pages. In this text, we will focus on the usage of the API as part of web pages.</p>
<p>The Google Public Data Explorer <span class="citation">(Inc. 2012c)</span> provides a good example, demonstrating the use of interactive charts and how they can help to analyse data. Please note, that all of those charts are rendered by the browser.</p>
<p>The charting data can either be embedded into the HTML file or read dynamically. The key to the Google Charts is that the data is structured in a DataTable <span class="citation">(Inc. 2012d)</span>, and this is where the googleVis package helps, as it transforms R data frames into JSON <span class="citation">(JSON.org 2006)</span> objects, using the <em><a href="https://CRAN.R-project.org/package=jsonlite">jsonlite</a></em> package <span class="citation">(Ooms 2014)</span>, as the basis for a DataTable.</p>
<p>As an example we shall look at the html-code of a motion chart from Google’s visualisation gallery <span class="citation">(Inc. 2012b)</span>.</p>
<pre><code> 1 &lt;html&gt;
 2  &lt;head&gt;
 3   &lt;script type=&quot;text/javascript&quot; 
 4     src=&quot;https://www.google.com/jsapi&quot;&gt;
 5   &lt;/script&gt;
 6   &lt;script type=&quot;text/javascript&quot;&gt;
 7     google.load(&#39;visualization&#39;, &#39;1&#39;, 
 8      {&#39;packages&#39;:[&#39;motionchart&#39;]});
 9    google.setOnLoadCallback(drawChart);
10    function drawChart() {
11    var data=new google.visualization.DataTable();
12    data.addColumn(&#39;string&#39;, &#39;Fruit&#39;);
13    data.addColumn(&#39;date&#39;, &#39;Date&#39;);
14    data.addColumn(&#39;number&#39;, &#39;Sales&#39;);
15    data.addColumn(&#39;number&#39;, &#39;Expenses&#39;);
16    data.addColumn(&#39;string&#39;, &#39;Location&#39;);
17    data.addRows([
18    [&#39;Apples&#39;,new Date(1988,0,1),1000,300,&#39;East&#39;],
19    [&#39;Oranges&#39;,new Date(1988,0,1),1150,200,&#39;West&#39;],
20    [&#39;Bananas&#39;,new Date(1988,0,1),300,250,&#39;West&#39;],
21    [&#39;Apples&#39;,new Date(1989,6,1),1200,400,&#39;East&#39;],
22    [&#39;Oranges&#39;,new Date(1989,6,1),750,150,&#39;West&#39;],
23    [&#39;Bananas&#39;,new Date(1989,6,1),788,617,&#39;West&#39;]
24    ]);
25    var chart=new google.visualization.MotionChart(
26      document.getElementById(&#39;chart_div&#39;));
27    chart.draw(data, {width: 600, height:300});
28   }
29   &lt;/script&gt;
30  &lt;/head&gt;
31  &lt;body&gt;
32   &lt;div id=&quot;chart_div&quot; 
33        style=&quot;width:600px; height:300px;&quot;&gt;
34   &lt;/div&gt;
35  &lt;/body&gt;
36 &lt;/html&gt;</code></pre>
<p>The code and data are processed and rendered by the browser and is not submitted to any server<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>.</p>
<p>You will notice that the above HTML code has five generic parts:</p>
<ul>
<li>references to Google’s AJAX (l. 4) and Visualisation API (ll. 7 - 8),</li>
<li>data to visualise as a <code>DataTable</code> (ll. 11 - 24),</li>
<li>an instance call to create the chart (ll. 25 - 26),</li>
<li>a method call to draw the chart including options, shown here as width and height (l. 27),</li>
<li>an HTML <code>&lt;div&gt;</code> element to add the chart to the page (ll. 32 – 34).</li>
</ul>
<p>These principles hold true for most of the interactive charts of the Google Chart Tools, see the examples in the next section.</p>
<p>However, before you use the API you should read the <a href="https://developers.google.com/terms/">Google Terms of Service</a> <span class="citation">(Inc 2012)</span>.</p>
</div>
</div>
</div>
<div id="the-googlevis-package" class="section level1" number="2">
<h1 number="2"><span class="header-section-number">2</span> The googleVis package</h1>
<p>The googleVis package provides an interface between R and the Google Chart Tools. The functions of the package allow the user to visualise data stored in R data frames with Google Charts.</p>
<p>The output of a googleVis function is HTML code that contains the data and references to JavaScript functions hosted by Google. A browser with an Internet connection is required to view the output, and for a very few chart types, notably motion charts, also Flash. Examples of several chart types are shown below, which have been combined with the <code>gvisMerge</code> function.</p>
<!-- LineChart generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataLineChartID6396b31a6e9 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"A",
1,
23
],
[
"B",
3,
12
],
[
"C",
4,
32
] 
];
data.addColumn('string','country');
data.addColumn('number','val1');
data.addColumn('number','val2');
data.addRows(datajson);
return(data);
}


// jsData 
function gvisDataAnnotationChartID639668c510bc () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
new Date(2008,0,1),
3000,
null,
null,
40645,
null,
null
],
[
new Date(2008,0,2),
14045,
null,
null,
20374,
null,
null
],
[
new Date(2008,0,3),
5502,
null,
null,
50766,
null,
null
],
[
new Date(2008,0,4),
75284,
null,
null,
14334,
"Out of stock",
"Ran out of stock of pens at 4pm"
],
[
new Date(2008,0,5),
41476,
"Bought pencils",
"Bought 200k pencils",
66467,
null,
null
],
[
new Date(2008,0,6),
333222,
null,
null,
39463,
null,
null
] 
];
data.addColumn('date','Date');
data.addColumn('number','Pencils');
data.addColumn('string','Title.Pencils');
data.addColumn('string','Annotation.Pencils');
data.addColumn('number','Pens');
data.addColumn('string','Title.Pens');
data.addColumn('string','Annotation.Pens');
data.addRows(datajson);
return(data);
}


// jsData 
function gvisDataGaugeID639661cddc60 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"New York",
200
],
[
"Boston",
300
],
[
"Miami",
400
],
[
"Chicago",
500
],
[
"Los Angeles",
600
],
[
"Houston",
700
] 
];
data.addColumn('string','City');
data.addColumn('number','Popularity');
data.addRows(datajson);
return(data);
}


// jsData 
function gvisDataGeoChartID6396123f54ca () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"Germany",
3
],
[
"Brazil",
4
],
[
"United States",
5
],
[
"France",
4
],
[
"Hungary",
3
],
[
"India",
2
],
[
"Iceland",
1
],
[
"Norway",
4
],
[
"Spain",
5
],
[
"Turkey",
1
] 
];
data.addColumn('string','Country');
data.addColumn('number','Profit');
data.addRows(datajson);
return(data);
}


// jsData 
function gvisDataTimelineID63967bd7a321 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"Room 1",
"English",
new Date(2014,2,14,14,0,0),
new Date(2014,2,14,15,0,0)
],
[
"Room 2",
"German",
new Date(2014,2,14,15,0,0),
new Date(2014,2,14,16,0,0)
],
[
"Room 3",
"French",
new Date(2014,2,14,14,30,0),
new Date(2014,2,14,15,30,0)
] 
];
data.addColumn('string','Room');
data.addColumn('string','Language');
data.addColumn('datetime','start');
data.addColumn('datetime','end');
data.addRows(datajson);
return(data);
}


// jsData 
function gvisDataTreeMapID6396a170b0c () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"Global",
null,
10,
2
],
[
"America",
"Global",
2,
4
],
[
"Europe",
"Global",
99,
11
],
[
"Asia",
"Global",
10,
8
],
[
"France",
"Europe",
71,
2
],
[
"Sweden",
"Europe",
89,
3
],
[
"Germany",
"Europe",
58,
10
],
[
"Mexico",
"America",
2,
9
],
[
"USA",
"America",
38,
11
],
[
"China",
"Asia",
5,
1
],
[
"Japan",
"Asia",
48,
11
] 
];
data.addColumn('string','Region');
data.addColumn('string','Parent');
data.addColumn('number','Val');
data.addColumn('number','Fac');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartLineChartID6396b31a6e9() {
var data = gvisDataLineChartID6396b31a6e9();
var options = {};
options["allowHtml"] = true;
options["width"] = 300;
options["height"] = 300;
options["legend"] = "top";
options["title"] = "Hello World";
options["titleTextStyle"] = {color:'red',fontName:'Courier',
            fontSize:16};
options["curveType"] = "function";

    var chart = new google.visualization.LineChart(
    document.getElementById('LineChartID6396b31a6e9')
    );
    chart.draw(data,options);
    

}
  


// jsDrawChart
function drawChartAnnotationChartID639668c510bc() {
var data = gvisDataAnnotationChartID639668c510bc();
var options = {};
options["width"] = 300;
options["height"] = 300;
options["displayAnnotations"] = true;
options["legendPosition"] = "newRow";

    var chart = new google.visualization.AnnotationChart(
    document.getElementById('AnnotationChartID639668c510bc')
    );
    chart.draw(data,options);
    

}
  


// jsDrawChart
function drawChartGaugeID639661cddc60() {
var data = gvisDataGaugeID639661cddc60();
var options = {};
options["allowHtml"] = true;
options["min"] = 0;
options["max"] = 800;
options["greenFrom"] = 500;
options["greenTo"] = 800;
options["yellowFrom"] = 300;
options["yellowTo"] = 500;
options["redFrom"] = 0;
options["redTo"] = 300;
options["width"] = 300;
options["height"] = 200;

    var chart = new google.visualization.Gauge(
    document.getElementById('GaugeID639661cddc60')
    );
    chart.draw(data,options);
    

}
  


// jsDrawChart
function drawChartGeoChartID6396123f54ca() {
var data = gvisDataGeoChartID6396123f54ca();
var options = {};
options["width"] = 300;
options["height"] = 200;
options["projection"] = "kavrayskiy-vii";

    var chart = new google.visualization.GeoChart(
    document.getElementById('GeoChartID6396123f54ca')
    );
    chart.draw(data,options);
    

}
  


// jsDrawChart
function drawChartTimelineID63967bd7a321() {
var data = gvisDataTimelineID63967bd7a321();
var options = {};
options["width"] = 300;
options["height"] = 200;

    var chart = new google.visualization.Timeline(
    document.getElementById('TimelineID63967bd7a321')
    );
    chart.draw(data,options);
    

}
  


// jsDrawChart
function drawChartTreeMapID6396a170b0c() {
var data = gvisDataTreeMapID6396a170b0c();
var options = {};
options["width"] = 300;
options["height"] = 200;
options["fontSize"] = 16;
options["minColor"] = "#EDF8FB";
options["midColor"] = "#66C2A4";
options["maxColor"] = "#006D2C";
options["headerHeight"] = 20;
options["fontColor"] = "black";
options["showScale"] = true;

    var chart = new google.visualization.TreeMap(
    document.getElementById('TreeMapID6396a170b0c')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartLineChartID6396b31a6e9);
})();
function displayChartLineChartID6396b31a6e9() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}


// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "annotationchart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartAnnotationChartID639668c510bc);
})();
function displayChartAnnotationChartID639668c510bc() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}


// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "gauge";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartGaugeID639661cddc60);
})();
function displayChartGaugeID639661cddc60() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}


// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "geochart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartGeoChartID6396123f54ca);
})();
function displayChartGeoChartID6396123f54ca() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}


// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "timeline";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartTimelineID63967bd7a321);
})();
function displayChartTimelineID63967bd7a321() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}


// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "treemap";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartTreeMapID6396a170b0c);
})();
function displayChartTreeMapID6396a170b0c() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartLineChartID6396b31a6e9"></script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartAnnotationChartID639668c510bc"></script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartGaugeID639661cddc60"></script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartGeoChartID6396123f54ca"></script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartTimelineID63967bd7a321"></script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartTreeMapID6396a170b0c"></script>
<table border="0">
<tr>
<td>
<table border="0">
<tr>
<td>
<table cellspacing="10">
<tr>
<td>
<!-- divChart -->
<div id="LineChartID6396b31a6e9" style="width: 300; height: 300;">

</div>
</td>
<td>
<!-- divChart -->
<div id="AnnotationChartID639668c510bc" style="width: 300; height: 300;">

</div>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td>
<table cellspacing="10">
<tr>
<td>
<!-- divChart -->
<div id="GaugeID639661cddc60" style="width: 300; height: 200;">

</div>
</td>
<td>
<!-- divChart -->
<div id="GeoChartID6396123f54ca" style="width: 300; height: 200;">

</div>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td>
<table cellspacing="10">
<tr>
<td>
<!-- divChart -->
<div id="TimelineID63967bd7a321" style="width: 300; height: 200;">

</div>
</td>
<td>
<!-- divChart -->
<div id="TreeMapID6396a170b0c" style="width: 300; height: 200;">

</div>
</td>
</tr>
</table>
</td>
</tr>
</table>
<div id="sec:Installation" class="section level2" number="2.1">
<h2 number="2.1"><span class="header-section-number">2.1</span> Installation</h2>
<p>You can install googleVis in the usual way from CRAN, e.g.:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">install.packages</span>(<span class="st">&#39;googleVis&#39;</span>) </span></code></pre></div>
<p>The installation was successful if the command <code>library(googleVis)</code> gives you the following message:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">library</span>(googleVis)</span></code></pre></div>
<pre><code>## 
## Welcome to googleVis version 0.6.6
## 
## Please read Google&#39;s Terms of Use
## before you start using the package:
## https://developers.google.com/terms/
## 
## Note, the plot method of googleVis will by default use
## the standard browser to display its output.
## 
## See the googleVis package vignettes for more details,
## or visit https://github.com/mages/googleVis.
## 
## To suppress this message use:
## suppressPackageStartupMessages(library(googleVis))</code></pre>
</div>
</div>
<div id="concepts-of-the-googlevis-package" class="section level1" number="3">
<h1 number="3"><span class="header-section-number">3</span> Concepts of the googleVis package</h1>
<p>The individual functions of the googleVis package are documented in the help pages. Here we will cover only the basic concepts of the package.</p>
<p>As an example, we will show how to generate a geo chart. It works similarly for the other APIs. Further examples are covered in the demos<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> of the googleVis package.</p>
<p>The design of the visualisation functions is fairly generic. The name of the visualisation function is <code>'gvis' + ChartType</code>. So for a geo chart we have:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>gchart &lt;-<span class="st">  </span><span class="kw">gvisGeoChart</span>(data,</span>
<span id="cb5-2"><a href="#cb5-2"></a>                     <span class="dt">locationvar =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb5-3"><a href="#cb5-3"></a>                     <span class="dt">colorvar =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb5-4"><a href="#cb5-4"></a>                     <span class="dt">sizevar =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb5-5"><a href="#cb5-5"></a>                     <span class="dt">hovervar =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb5-6"><a href="#cb5-6"></a>                     <span class="dt">options =</span> <span class="kw">list</span>(),</span>
<span id="cb5-7"><a href="#cb5-7"></a>                     chartid)                     </span></code></pre></div>
<p>Here <code>data</code> is the input <code>data.frame</code>, <code>locationvar</code>, <code>colorvar</code>, <code>sizevar</code> and <code>hovervar</code> specify the various columns used for the plot. Display options are set in an optional list, which we discuss in more detail later. The options and data requirements follow those of the Google Charts API and are documented in the help pages, see</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">help</span>(<span class="st">&#39;gvisGeoChart&#39;</span>)</span></code></pre></div>
<p>The argument <code>chartid</code> allows the user to set a chart ID of the output chart manually. If the argument is missing a random ID using <code>tempfile(pattern='')</code> will be generated. Unique chart IDs are required to place more than one chart on a web page.</p>
<p>The output of a googleVis function is a list of lists (a nested list) containing information about the chart type, chart ID and the HTML code in a sub-list with header, chart, caption and footer.</p>
<p>The idea behind this concept is that users can get a complete web page, while at the same time offer a facility to extract specific parts, such as the chart itself. This is particularly helpful if the package functions are used in solutions where the user wants to feed the visualisation output into other sites.</p>
<p>The output of a googleVis function will be of class <code>gvis</code> and <code>list</code>. Generic print (<code>print.gvis</code>) and plot (<code>plot.gvis</code>) functions exist to ease the handling of such objects.</p>
<p>To illustrate the concept we shall create a Geo chart using the <code>Exports</code> data set.</p>
<div id="geo-chart-example" class="section level2" number="3.1">
<h2 number="3.1"><span class="header-section-number">3.1</span> Geo Chart Example</h2>
<p>Following the documentation of the Google Geo Chart API we need a data set which has at least one column with the location variable.</p>
<p>As an example we use the <code>Exports</code> data set:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw">data</span>(Exports)</span>
<span id="cb7-2"><a href="#cb7-2"></a>Exports</span></code></pre></div>
<pre><code>##          Country Profit Online
## 1        Germany      3   TRUE
## 2         Brazil      4  FALSE
## 3  United States      5   TRUE
## 4         France      4   TRUE
## 5        Hungary      3  FALSE
## 6          India      2   TRUE
## 7        Iceland      1  FALSE
## 8         Norway      4   TRUE
## 9          Spain      5   TRUE
## 10        Turkey      1  FALSE</code></pre>
<p>Here we will use the columns <code>'Country'</code> and <code>'Profit'</code> as location and colour variable respectively.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a> gchart &lt;-<span class="st">  </span><span class="kw">gvisGeoChart</span>(<span class="dt">data =</span> Exports, </span>
<span id="cb9-2"><a href="#cb9-2"></a>                      <span class="dt">locationvar=</span><span class="st">&#39;Country&#39;</span>,</span>
<span id="cb9-3"><a href="#cb9-3"></a>                      <span class="dt">colorvar=</span><span class="st">&#39;Profit&#39;</span>,</span>
<span id="cb9-4"><a href="#cb9-4"></a>                      <span class="dt">options=</span><span class="kw">list</span>(<span class="dt">projection=</span><span class="st">&quot;kavrayskiy-vii&quot;</span>, </span>
<span id="cb9-5"><a href="#cb9-5"></a>                                   <span class="dt">width=</span><span class="dv">400</span>, <span class="dt">height=</span><span class="dv">200</span>))</span></code></pre></div>
<p>The structural output of <code>gvisGeoChart</code> is a list of lists as described above</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a> <span class="kw">str</span>(gchart)</span></code></pre></div>
<pre><code>## List of 3
##  $ type   : chr &quot;GeoChart&quot;
##  $ chartid: chr &quot;GeoChartID6396783451b6&quot;
##  $ html   :List of 4
##   ..$ header : chr &quot;&lt;!DOCTYPE html PUBLIC \&quot;-//W3C//DTD XHTML 1.0 
##   ..$ chart  : Named chr [1:7] &quot;&lt;!-- GeoChart generated in R 4.0.2
##   .. ..- attr(*, &quot;names&quot;)= chr [1:7] &quot;jsHeader&quot; &quot;jsData&quot; &quot;jsDrawCh
##   ..$ caption: chr &quot;&lt;div&gt;&lt;span&gt;Data: Exports &amp;#8226; Chart ID: &lt;a 
##   ..$ footer : chr &quot;\n&lt;!-- htmlFooter --&gt;\n&lt;span&gt; \n  R version 4.
##  - attr(*, &quot;class&quot;)= chr [1:2] &quot;gvis&quot; &quot;list&quot;</code></pre>
<p>The first two items of the list contain information about the chart type used and the individual chart ID:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>gchart<span class="op">$</span>type</span></code></pre></div>
<pre><code>## [1] &quot;GeoChart&quot;</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>gchart<span class="op">$</span>chartid</span></code></pre></div>
<pre><code>## [1] &quot;GeoChartID6396783451b6&quot;</code></pre>
<p>The html output is a list with header, chart, caption and footer. This allows the user to extract only certain parts of the page, or to create a complete html page.</p>
<p>The header part of the html page has only basic html and formatting tags:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="kw">print</span>(gchart, <span class="dt">tag=</span><span class="st">&#39;header&#39;</span>)</span></code></pre></div>
<pre><code>## &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;
##   &quot;https://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
## &lt;html xmlns=&quot;https://www.w3.org/1999/xhtml&quot;&gt;
## &lt;head&gt;
## &lt;title&gt;GeoChartID6396783451b6&lt;/title&gt;
## &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html;charset=utf-8&quot; /&gt;
## &lt;style type=&quot;text/css&quot;&gt;
## body {
##   color: #444444;
##   font-family: Arial,Helvetica,sans-serif;
##   font-size: 75%;
##   }
##   a {
##   color: #4D87C7;
##   text-decoration: none;
## }
## &lt;/style&gt;
## &lt;/head&gt;
## &lt;body&gt;</code></pre>
<p>Here we used the <code>print</code> statement with the tag <code>'header'</code> instead of <code>gchart$html$header</code> to achieve a formatted screen output. This is the same output as <code>cat(gchart$html$chart)</code>.</p>
<p>The actual Google visualisation code is stored with the data as a named character vector in the <code>chart</code> item of the HTML list. The chart is made up of several JavaScript and HTML statements. Please notice that the JavaScript functions are uniquely named with the information of the chart ID. This concept allows the user get all the chart code directly or only specific parts; see the examples in the help page of <code>print.gvis</code> for more details.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="kw">names</span>(gchart<span class="op">$</span>html<span class="op">$</span>chart)</span></code></pre></div>
<pre><code>## [1] &quot;jsHeader&quot;       &quot;jsData&quot;         &quot;jsDrawChart&quot;    &quot;jsDisplayChart&quot;
## [5] &quot;jsFooter&quot;       &quot;jsChart&quot;        &quot;divChart&quot;</code></pre>
<p>The complete chart can be displayed via:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="kw">print</span>(gchart, <span class="dt">tag=</span><span class="st">&#39;chart&#39;</span>)  <span class="co">## or cat(gchart$html$chart)</span></span></code></pre></div>
<pre><code>## &lt;!-- GeoChart generated in R 4.0.2 by googleVis 0.6.6 package --&gt;
## &lt;!-- Wed Jul  8 13:42:32 2020 --&gt;
## 
## 
## &lt;!-- jsHeader --&gt;
## &lt;script type=&quot;text/javascript&quot;&gt;
##  
## // jsData 
## function gvisDataGeoChartID6396783451b6 () {
## var data = new google.visualization.DataTable();
## var datajson =
## [
##  [
## &quot;Germany&quot;,
## 3
## ],
## [
## &quot;Brazil&quot;,
## 4
## ],
## [
## &quot;United States&quot;,
## 5
## ],
## [
## &quot;France&quot;,
## 4
## ],
## [
## &quot;Hungary&quot;,
## 3
## ],
## [
## &quot;India&quot;,
## 2
## ],
## [
## &quot;Iceland&quot;,
## 1
## ],
## [
## &quot;Norway&quot;,
## 4
## ],
## [
## &quot;Spain&quot;,
## 5
## ],
## [
## &quot;Turkey&quot;,
## 1
## ] 
## ];
## data.addColumn(&#39;string&#39;,&#39;Country&#39;);
## data.addColumn(&#39;number&#39;,&#39;Profit&#39;);
## data.addRows(datajson);
## return(data);
## }
##  
## // jsDrawChart
## function drawChartGeoChartID6396783451b6() {
## var data = gvisDataGeoChartID6396783451b6();
## var options = {};
## options[&quot;width&quot;] = 400;
## options[&quot;height&quot;] = 200;
## options[&quot;projection&quot;] = &quot;kavrayskiy-vii&quot;;
## 
## 
##     var chart = new google.visualization.GeoChart(
##     document.getElementById(&#39;GeoChartID6396783451b6&#39;)
##     );
##     chart.draw(data,options);
##     
## 
## }
##   
##  
## // jsDisplayChart
## (function() {
## var pkgs = window.__gvisPackages = window.__gvisPackages || [];
## var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
## var chartid = &quot;geochart&quot;;
##   
## // Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
## var i, newPackage = true;
## for (i = 0; newPackage &amp;&amp; i &lt; pkgs.length; i++) {
## if (pkgs[i] === chartid)
## newPackage = false;
## }
## if (newPackage)
##   pkgs.push(chartid);
##   
## // Add the drawChart function to the global list of callbacks
## callbacks.push(drawChartGeoChartID6396783451b6);
## })();
## function displayChartGeoChartID6396783451b6() {
##   var pkgs = window.__gvisPackages = window.__gvisPackages || [];
##   var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
##   window.clearTimeout(window.__gvisLoad);
##   // The timeout is set to 100 because otherwise the container div we are
##   // targeting might not be part of the document yet
##   window.__gvisLoad = setTimeout(function() {
##   var pkgCount = pkgs.length;
##   google.load(&quot;visualization&quot;, &quot;1&quot;, { packages:pkgs, callback: function() {
##   if (pkgCount != pkgs.length) {
##   // Race condition where another setTimeout call snuck in after us; if
##   // that call added a package, we must not shift its callback
##   return;
## }
## while (callbacks.length &gt; 0)
## callbacks.shift()();
## } });
## }, 100);
## }
##  
## // jsFooter
## &lt;/script&gt;
##  
## &lt;!-- jsChart --&gt;  
## &lt;script type=&quot;text/javascript&quot; src=&quot;https://www.google.com/jsapi?callback=displayChartGeoChartID6396783451b6&quot;&gt;&lt;/script&gt;
##  
## &lt;!-- divChart --&gt;
##   
## &lt;div id=&quot;GeoChartID6396783451b6&quot; 
##   style=&quot;width: 400; height: 200;&quot;&gt;
## &lt;/div&gt;</code></pre>
<p>Similarly you can also access specific components of the chart, e.g. (output truncated)</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="kw">cat</span>(gchart<span class="op">$</span>html<span class="op">$</span>chart[<span class="st">&#39;jsChart&#39;</span>]) <span class="co"># or print(gchart, &#39;jsChart&#39;)</span></span></code></pre></div>
<pre><code>## 
## &lt;!-- jsChart --&gt;  
## &lt;script type=&quot;text/javascript&quot; src=&quot;https://www.google.com/jsapi?c</code></pre>
<p>A basic chart caption and html footer are the final items of the html list (output truncated):</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="kw">print</span>(gchart, <span class="dt">tag=</span><span class="st">&#39;caption&#39;</span>)</span></code></pre></div>
<pre><code>## &lt;div&gt;&lt;span&gt;Data: Exports &amp;#8226; Chart ID: &lt;a href=&quot;Chart_GeoChart</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="kw">print</span>(gchart, <span class="dt">tag=</span><span class="st">&#39;footer&#39;</span>)</span></code></pre></div>
<pre><code>## 
## &lt;!-- htmlFooter --&gt;
## &lt;span&gt; 
##   R version 4.0.2 (2020-06-22) 
##   &amp;#8226; &lt;a href=&quot;https://developers.google.com/terms/&quot;&gt;Google Te
## &lt;/span&gt;&lt;/div&gt;
## &lt;/body&gt;
## &lt;/html&gt;</code></pre>
</div>
</div>
<div id="displaying-gvis-objects-locally" class="section level1" number="4">
<h1 number="4"><span class="header-section-number">4</span> Displaying gvis objects locally</h1>
<p>To display the page locally, simply type:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="kw">plot</span>(gchart)  <span class="co"># returns invisibly the file name</span></span></code></pre></div>
<p>The plot method for <code>gvis</code>-objects creates HTML files in a temporary folder using the type and chart ID information of the object and it will display the output using the R built-in web server.</p>
<p>Note that the chart caption provides a link to the chart code via the chart ID for copy and paste.</p>
<p>The R command <code>tempdir()</code> will show you the path of the per-session temporary directory, in which the files were written. You can write the chart into a local html file via the <code>print</code> command with the file argument, e.g.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="kw">print</span>(gchart, <span class="dt">file=</span><span class="st">&quot;myGoogleVisChart.html&quot;</span>)</span></code></pre></div>
<p>Alternatively use the function <code>plot.gvis</code> explicitly, e.g. suppose your html file is stored in <code>/Users/JoeBloggs/myGoogleVisChart.html</code>. Using the <code>plot.gvis</code> the file will be copied into a temporary directory and displayed via the R HTTP help server with, in the same way as a gvis-object:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="kw">plot.gvis</span>(<span class="st">&quot;/Users/JoeBloggs/myGoogleVisChart.html&quot;</span>)</span></code></pre></div>
</div>
<div id="setting-options" class="section level1" number="5">
<h1 number="5"><span class="header-section-number">5</span> Setting options</h1>
<p>Setting the various options of a googleVis objects can be a bit cumbersome at first. The options follow those of the Google Charts API and can be set via a named list using the argument <code>options</code>. In the following example, we create a line chart and set various options:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">country=</span><span class="kw">c</span>(<span class="st">&quot;US&quot;</span>, <span class="st">&quot;GB&quot;</span>, <span class="st">&quot;BR&quot;</span>), </span>
<span id="cb31-2"><a href="#cb31-2"></a>                 <span class="dt">val1=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>), <span class="dt">val2=</span><span class="kw">c</span>(<span class="dv">23</span>,<span class="dv">12</span>,<span class="dv">32</span>))</span>
<span id="cb31-3"><a href="#cb31-3"></a></span>
<span id="cb31-4"><a href="#cb31-4"></a>Line &lt;-<span class="st">  </span><span class="kw">gvisLineChart</span>(df, <span class="dt">xvar=</span><span class="st">&quot;country&quot;</span>, <span class="dt">yvar=</span><span class="kw">c</span>(<span class="st">&quot;val1&quot;</span>,<span class="st">&quot;val2&quot;</span>),</span>
<span id="cb31-5"><a href="#cb31-5"></a>                       <span class="dt">options=</span><span class="kw">list</span>(</span>
<span id="cb31-6"><a href="#cb31-6"></a>                         <span class="dt">title=</span><span class="st">&quot;Hello World&quot;</span>,</span>
<span id="cb31-7"><a href="#cb31-7"></a>                         <span class="dt">titleTextStyle=</span><span class="st">&quot;{color:&#39;red&#39;, </span></span>
<span id="cb31-8"><a href="#cb31-8"></a><span class="st">                                           fontName:&#39;Courier&#39;, </span></span>
<span id="cb31-9"><a href="#cb31-9"></a><span class="st">                                           fontSize:16}&quot;</span>,                         </span>
<span id="cb31-10"><a href="#cb31-10"></a>                         <span class="dt">backgroundColor=</span><span class="st">&quot;#D3D3D3&quot;</span>,                          </span>
<span id="cb31-11"><a href="#cb31-11"></a>                         <span class="dt">vAxis=</span><span class="st">&quot;{gridlines:{color:&#39;red&#39;, count:3}}&quot;</span>,</span>
<span id="cb31-12"><a href="#cb31-12"></a>                         <span class="dt">hAxis=</span><span class="st">&quot;{title:&#39;Country&#39;, titleTextStyle:{color:&#39;blue&#39;}}&quot;</span>,</span>
<span id="cb31-13"><a href="#cb31-13"></a>                         <span class="dt">series=</span><span class="st">&quot;[{color:&#39;green&#39;, targetAxisIndex: 0},  </span></span>
<span id="cb31-14"><a href="#cb31-14"></a><span class="st">                                   {color: &#39;orange&#39;,targetAxisIndex:1}]&quot;</span>,</span>
<span id="cb31-15"><a href="#cb31-15"></a>                         <span class="dt">vAxes=</span><span class="st">&quot;[{title:&#39;val1&#39;}, {title:&#39;val2&#39;}]&quot;</span>,</span>
<span id="cb31-16"><a href="#cb31-16"></a>                         <span class="dt">legend=</span><span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb31-17"><a href="#cb31-17"></a>                         <span class="dt">curveType=</span><span class="st">&quot;function&quot;</span>,</span>
<span id="cb31-18"><a href="#cb31-18"></a>                         <span class="dt">width=</span><span class="dv">500</span>,</span>
<span id="cb31-19"><a href="#cb31-19"></a>                         <span class="dt">height=</span><span class="dv">300</span>                         </span>
<span id="cb31-20"><a href="#cb31-20"></a>                       ))</span>
<span id="cb31-21"><a href="#cb31-21"></a><span class="kw">plot</span>(Line)</span></code></pre></div>
<!-- LineChart generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataLineChartID63963e81b00e () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"US",
1,
23
],
[
"GB",
3,
12
],
[
"BR",
4,
32
] 
];
data.addColumn('string','country');
data.addColumn('number','val1');
data.addColumn('number','val2');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartLineChartID63963e81b00e() {
var data = gvisDataLineChartID63963e81b00e();
var options = {};
options["allowHtml"] = true;
options["title"] = "Hello World";
options["titleTextStyle"] = {color:'red', 
                                           fontName:'Courier', 
                                           fontSize:16};
options["backgroundColor"] = "#D3D3D3";
options["vAxis"] = {gridlines:{color:'red', count:3}};
options["hAxis"] = {title:'Country', titleTextStyle:{color:'blue'}};
options["series"] = [{color:'green', targetAxisIndex: 0},   
                                   {color: 'orange',targetAxisIndex:1}];
options["vAxes"] = [{title:'val1'}, {title:'val2'}];
options["legend"] = "bottom";
options["curveType"] = "function";
options["width"] = 500;
options["height"] = 300;

    var chart = new google.visualization.LineChart(
    document.getElementById('LineChartID63963e81b00e')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartLineChartID63963e81b00e);
})();
function displayChartLineChartID63963e81b00e() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartLineChartID63963e81b00e"></script>
<!-- divChart -->
<div id="LineChartID63963e81b00e" style="width: 500; height: 300;">

</div>
<p>As you can see from the example above, the simpler options can be set by <code>name=value</code>, e.g. <code>width=500</code>, while the more complex options with sub-components are listed in curly brackets <code>{}</code> and arrays <code>[]</code>, e.g. to define the two axes.</p>
<p>Generally, the following rules apply:</p>
<ul>
<li>parameters with names that do not include a “.” are set with a single value, e.g. width and height. Those are set like one would do in R, that is <code>options=list(width=200, height=300)</code>. Boolean arguments are set to either <code>TRUE</code> or <code>FALSE</code>, using the R syntax.</li>
<li>parameters with names that do not include a “.” and are set with multiple values, e.g. <code>color</code>, and are wrapped in <code>[ ]</code>, e.g.  <code>options=list(colors="['#cbb69d', '#603913', '#c69c6e']")</code></li>
<li>parameters with names that do include a “.” present parameters with several sub-options and have to be set as a string wrapped in “{ }”. The values of those sub-options are set via <code>parameter:value</code>. Boolean values have to be stated as <code>'true'</code> or <code>'false'</code>. For example the Google documentation states the formatting options for the vertical axis as <code>vAxis.format</code>. Then this parameter can be set in R as: <code>options=list(vAxis="{format:'#,###%'}")</code>.</li>
<li>If several sub-options have to be set, e.g.  <code>titleTextStyle.color</code>, <code>titleTextStyle.fontName</code> and <code>titleTextStyle.fontSize</code>, then those can be combined in one list item such as: <code>options=list(titleTextStyle="{color:'red',fontName:'Courier', fontSize:16}")</code></li>
<li>parameters that can have more than one value per sub-options are wrapped in <code>[ ]</code>. For example to set the labels for left and right axes use: <code>options=list(vAxes="[{title:'val1'}, {title:'val2'}]")</code></li>
</ul>
<div id="chart-editor" class="section level2" number="5.1">
<h2 number="5.1"><span class="header-section-number">5.1</span> Chart Editor</h2>
<p>A special option for all charts is <code>gvis.editor</code>, which adds an edit button to the page, allowing the user to edit, change and customise the chart on the fly. The content of the option <code>gvis.editor</code> describes the label of the browser button.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>Editor &lt;-<span class="st"> </span><span class="kw">gvisLineChart</span>(df, <span class="dt">options=</span><span class="kw">list</span>(<span class="dt">gvis.editor=</span><span class="st">&#39;Edit me!&#39;</span>))</span>
<span id="cb32-2"><a href="#cb32-2"></a><span class="kw">plot</span>(Editor)</span></code></pre></div>
<!-- LineChart generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataLineChartID63964de6bcca () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"US",
1,
23
],
[
"GB",
3,
12
],
[
"BR",
4,
32
] 
];
data.addColumn('string','country');
data.addColumn('number','val1');
data.addColumn('number','val2');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartLineChartID63964de6bcca() {
var data = gvisDataLineChartID63964de6bcca();
var options = {};
options["allowHtml"] = true;

    chartLineChartID63964de6bcca = new google.visualization.ChartWrapper({
    dataTable: data,       
    chartType: 'LineChart',
    containerId: 'LineChartID63964de6bcca',
    options: options
    });
    chartLineChartID63964de6bcca.draw();
    

}

  function openEditorLineChartID63964de6bcca() {
  var editor = new google.visualization.ChartEditor();
  google.visualization.events.addListener(editor, 'ok',
  function() { 
  chartLineChartID63964de6bcca = editor.getChartWrapper();  
  chartLineChartID63964de6bcca.draw(document.getElementById('LineChartID63964de6bcca')); 
  }); 
  editor.openDialog(chartLineChartID63964de6bcca);
  }
    
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "charteditor";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartLineChartID63964de6bcca);
})();
function displayChartLineChartID63964de6bcca() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartLineChartID63964de6bcca"></script>
<!-- divChart -->
<input type='button' onclick='openEditorLineChartID63964de6bcca()' value='Edit me!'/><br />

<div id="LineChartID63964de6bcca" style="width: 500; height: automatic;">

</div>
</div>
</div>
<div id="embedding-googlevis-in-web-sites" class="section level1" number="6">
<h1 number="6"><span class="header-section-number">6</span> Embedding googleVis in web sites</h1>
<p>Suppose you have an existing web page and would like to integrate the output of a googleVis function, such as <code>gvisLineChart</code>. In this case you only need the chart output from <code>gvisLineChart</code>. So you can either copy and paste the output from the R console</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="kw">print</span>(gchart, <span class="st">&#39;chart&#39;</span>)  <span class="co">## or cat(gchart$html$chart) </span></span></code></pre></div>
<p>into your existing html page, or write the content directly into a file</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="kw">print</span>(gchart, <span class="st">&#39;chart&#39;</span>, <span class="dt">file=</span><span class="st">&#39;myfilename&#39;</span>)</span></code></pre></div>
<p>and process it from there.</p>
</div>
<div id="using-googlevis-with-shiny" class="section level1" number="7">
<h1 number="7"><span class="header-section-number">7</span> Using googleVis with shiny</h1>
<p><a href="https://www.rstudio.com/shiny/">Shiny</a> is a package by RStudio, which makes it incredibly easy to build interactive web applications with R.</p>
<p>With version 0.4.0 of googleVis support for shiny apps was added. Joe Cheng contributed the <code>renderGvis</code> function which allows users to use googleVis output in shiny in a similar way to other plotting functions.</p>
<p>The following example has been taken from the help file of <code>renderGvis</code>. It displays a scatter chart where the user can select the data set to be displayed.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="co"># server.R</span></span>
<span id="cb35-2"><a href="#cb35-2"></a><span class="kw">library</span>(googleVis)</span>
<span id="cb35-3"><a href="#cb35-3"></a></span>
<span id="cb35-4"><a href="#cb35-4"></a><span class="kw">shinyServer</span>(<span class="cf">function</span>(input, output) {</span>
<span id="cb35-5"><a href="#cb35-5"></a>  datasetInput &lt;-<span class="st"> </span><span class="kw">reactive</span>({</span>
<span id="cb35-6"><a href="#cb35-6"></a>    <span class="cf">switch</span>(input<span class="op">$</span>dataset,</span>
<span id="cb35-7"><a href="#cb35-7"></a>           <span class="st">&quot;rock&quot;</span> =<span class="st"> </span>rock,</span>
<span id="cb35-8"><a href="#cb35-8"></a>           <span class="st">&quot;pressure&quot;</span> =<span class="st"> </span>pressure,</span>
<span id="cb35-9"><a href="#cb35-9"></a>           <span class="st">&quot;cars&quot;</span> =<span class="st"> </span>cars)</span>
<span id="cb35-10"><a href="#cb35-10"></a>  })</span>
<span id="cb35-11"><a href="#cb35-11"></a>  </span>
<span id="cb35-12"><a href="#cb35-12"></a>  output<span class="op">$</span>view &lt;-<span class="st"> </span><span class="kw">renderGvis</span>({</span>
<span id="cb35-13"><a href="#cb35-13"></a>    <span class="kw">gvisScatterChart</span>(<span class="kw">datasetInput</span>())</span>
<span id="cb35-14"><a href="#cb35-14"></a>  })</span>
<span id="cb35-15"><a href="#cb35-15"></a>})</span>
<span id="cb35-16"><a href="#cb35-16"></a></span>
<span id="cb35-17"><a href="#cb35-17"></a><span class="co"># ui.R</span></span>
<span id="cb35-18"><a href="#cb35-18"></a><span class="kw">shinyUI</span>(<span class="kw">pageWithSidebar</span>(</span>
<span id="cb35-19"><a href="#cb35-19"></a>  <span class="kw">headerPanel</span>(<span class="st">&quot;googleVis on Shiny&quot;</span>),</span>
<span id="cb35-20"><a href="#cb35-20"></a>  <span class="kw">sidebarPanel</span>(</span>
<span id="cb35-21"><a href="#cb35-21"></a>    <span class="kw">selectInput</span>(<span class="st">&quot;dataset&quot;</span>, <span class="st">&quot;Choose a dataset:&quot;</span>, </span>
<span id="cb35-22"><a href="#cb35-22"></a>                <span class="dt">choices =</span> <span class="kw">c</span>(<span class="st">&quot;rock&quot;</span>, <span class="st">&quot;pressure&quot;</span>, <span class="st">&quot;cars&quot;</span>))</span>
<span id="cb35-23"><a href="#cb35-23"></a>  ),</span>
<span id="cb35-24"><a href="#cb35-24"></a>  <span class="kw">mainPanel</span>(</span>
<span id="cb35-25"><a href="#cb35-25"></a>    <span class="kw">htmlOutput</span>(<span class="st">&quot;view&quot;</span>)</span>
<span id="cb35-26"><a href="#cb35-26"></a>  )</span>
<span id="cb35-27"><a href="#cb35-27"></a>))</span></code></pre></div>
<p>You can run the example locally with the following statement.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="kw">library</span>(shiny)</span>
<span id="cb36-2"><a href="#cb36-2"></a><span class="kw">runApp</span>(<span class="kw">system.file</span>(<span class="st">&quot;shiny/&quot;</span>, <span class="dt">package=</span><span class="st">&quot;googleVis&quot;</span>))</span></code></pre></div>
</div>
<div id="setting-default-behaviour-of-print.gvis-and-plot.gvis" class="section level1" number="8">
<h1 number="8"><span class="header-section-number">8</span> Setting default behaviour of <code>print.gvis</code> and <code>plot.gvis</code></h1>
<p>In googleVis version 0.3.2 the function <code>plot.gvis</code> gained the same argument as <code>print.gvis</code>: <code>tag</code>. By default the <code>tag</code> argument is set to <code>NULL</code> in <code>plot.gvis</code> and the plot function will display its output in a browser window. However, if <code>tag</code> is not <code>NULL</code> the function <code>plot.gvis</code> will behave exactly like <code>print.gvis</code>.</p>
<p>The default <code>tag</code> can be set for both functions globally via the <code>options()</code> function. On package load googleVis sets <code>options(gvis.print.tag='html')</code> and <code>options(gvis.plot.tag=NULL)</code>.</p>
<p>Suppose you would set <code>options(gvis.plot.tag='chart')</code> then all following plot statements would print the chart part of the gvis-object only, without opening a browser window. This might seem a bit odd at first, yet it becomes helpful when you write R Markdown files for <code>knitr</code> or files for other packages such as <code>R.rsp</code>.</p>
<p>While you draft your file you may want to see the output of googleVis in an interactive way, so you set <code>options(gvis.plot.tag=NULL)</code> at the top of the file and you change the setting to <code>'chart'</code> before you parse the file, say with <code>knitr</code>. This will ensure that all plot statements return the HTML code of the chart, rather than opening browser windows.</p>
</div>
<div id="using-googlevis-with-knitr" class="section level1" number="9">
<h1 number="9"><span class="header-section-number">9</span> Using googleVis with knitr</h1>
<p>Using googleVis with <a href="https://yihui.name/knitr/">knitr</a> <span class="citation">(Xie 2013)</span> is a convenient way of creating interactive reproducible reports. The approach taken by knitr is similar to Sweave, you can combine R code with text and formatting tags. However, knitr can also export to HTML, which is required to embed googleVis charts.</p>
<p>To include googleVis output into a knitr document you have to set the <code>self_contained</code> option to <code>false</code> in the YAML header:</p>
<pre><code>---
title: &quot;My document&quot;
output:
  html_document:
    self_contained: false
---</code></pre>
<p>Furthermore, the chunk option <code>results</code> should be set to <code>'asis'</code>, so that the html output is written into the markdown file.</p>
<p>You can either use the <code>print</code> statement:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="st">```</span><span class="dt">{r results=&#39;asis&#39;}</span></span>
<span id="cb38-2"><a href="#cb38-2"></a><span class="dt">gchart &lt;- gvisColumnChart(CityPopularity, &#39;City&#39;, &#39;Popularity&#39;,</span></span>
<span id="cb38-3"><a href="#cb38-3"></a><span class="dt">                        options=list(width=550, height=450,</span></span>
<span id="cb38-4"><a href="#cb38-4"></a><span class="dt">                                     legend=&#39;none&#39;))</span></span>
<span id="cb38-5"><a href="#cb38-5"></a><span class="dt">print(gchart, &#39;chart&#39;)</span></span>
<span id="cb38-6"><a href="#cb38-6"></a><span class="st">```</span></span></code></pre></div>
<p>or alternative change the behaviour of the <code>plot</code> function via setting <code>options(gvis.plot.tag = 'chart')</code>. With this setting <code>plot(x)</code> will no longer open a browser window, but produce the same output as <code>print(x, tag='chart')</code>, if <code>x</code> is a gvis-object.</p>
<p>Hence, setting the option <code>gvis.plot.tag</code> in a knitr markdown Rmd-file to <code>'chart'</code> will automatically turn all following plot statements into html output.</p>
<p>Note that you can use the <code>options()</code> command in your knitr file to switch between an interactive mode, where you are likely to experiment, via copying and pasting R code into the console and running <code>knit</code> on the whole file.</p>
<p>A more comprehensive example is given in the help file to <code>?plot.gvis</code>.</p>
</div>
<div id="using-googlevis-in-presentations" class="section level1" number="10">
<h1 number="10"><span class="header-section-number">10</span> Using googleVis in presentations</h1>
<p>The Google Chart Tools are designed for web pages, so it should be no surprise that it can be difficult or impossible to embed googleVis output in traditional presentation software like MS PowerPoint, Google Docs, OpenOffice Impress or Apple Keynote.</p>
<p>The easiest way is to include screen shots into the slide with links to the live web pages. But this approach requires the presenter to switch between applications during her talk. This can be fun, but quite often it is not.</p>
<p>An alternative would be to build the presentation as a web page itself.</p>
<p>A popular approach here is the <code>slidify</code> package by Ramnath Vaidyanathan, <span class="citation">(Vaidyanathan 2012)</span> that builds on the knitr Markdown approach of the previous section. An example of a <code>slidify</code> presentation is the <a href="https://decastillo.github.io/googleVis_Tutorial">googleVis tutorial</a> given at the useR! conference in 2013, <span class="citation">Gesmann and Castillo (2013)</span>.</p>
</div>
<div id="using-trendlines-with-googlevis" class="section level1" number="11">
<h1 number="11"><span class="header-section-number">11</span> Using Trendlines with googleVis</h1>
<p>A trendline is a line superimposed on a chart revealing the overall direction of the data. Google Charts can automatically generate trendlines for Scatter Charts, Bar Charts, Column Charts and Line Charts.</p>
<p>For more details visit: <a href="https://developers.google.com/chart/interactive/docs/gallery/trendlines" class="uri">https://developers.google.com/chart/interactive/docs/gallery/trendlines</a></p>
<div id="linear-trend-line" class="section level2" number="11.1">
<h2 number="11.1"><span class="header-section-number">11.1</span> Linear trend line</h2>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="kw">plot</span>(</span>
<span id="cb39-2"><a href="#cb39-2"></a>  <span class="kw">gvisScatterChart</span>(women, <span class="dt">options=</span><span class="kw">list</span>(<span class="dt">trendlines=</span><span class="st">&quot;0&quot;</span>))</span>
<span id="cb39-3"><a href="#cb39-3"></a>)</span></code></pre></div>
<!-- ScatterChart generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataScatterChartID63965926d626 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
58,
115
],
[
59,
117
],
[
60,
120
],
[
61,
123
],
[
62,
126
],
[
63,
129
],
[
64,
132
],
[
65,
135
],
[
66,
139
],
[
67,
142
],
[
68,
146
],
[
69,
150
],
[
70,
154
],
[
71,
159
],
[
72,
164
] 
];
data.addColumn('number','height');
data.addColumn('number','weight');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartScatterChartID63965926d626() {
var data = gvisDataScatterChartID63965926d626();
var options = {};
options["allowHtml"] = true;
options["trendlines"] = "0";

    var chart = new google.visualization.ScatterChart(
    document.getElementById('ScatterChartID63965926d626')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartScatterChartID63965926d626);
})();
function displayChartScatterChartID63965926d626() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartScatterChartID63965926d626"></script>
<!-- divChart -->
<div id="ScatterChartID63965926d626" style="width: 500; height: automatic;">

</div>
</div>
<div id="exponential-trend-line-with-equation-shown-in-legend" class="section level2" number="11.2">
<h2 number="11.2"><span class="header-section-number">11.2</span> Exponential trend line with equation shown in legend</h2>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="kw">plot</span>(</span>
<span id="cb40-2"><a href="#cb40-2"></a>  <span class="kw">gvisScatterChart</span>(women, <span class="dt">options=</span><span class="kw">list</span>(</span>
<span id="cb40-3"><a href="#cb40-3"></a>    <span class="dt">trendlines=</span><span class="st">&quot;{0: { type: &#39;exponential&#39;,  </span></span>
<span id="cb40-4"><a href="#cb40-4"></a><span class="st">                     visibleInLegend: &#39;true&#39;, </span></span>
<span id="cb40-5"><a href="#cb40-5"></a><span class="st">                     color: &#39;green&#39;,</span></span>
<span id="cb40-6"><a href="#cb40-6"></a><span class="st">                     lineWidth: 10,</span></span>
<span id="cb40-7"><a href="#cb40-7"></a><span class="st">                     opacity: 0.5}}&quot;</span>,</span>
<span id="cb40-8"><a href="#cb40-8"></a>    <span class="dt">chartArea=</span><span class="st">&quot;{left:50,top:20,width:&#39;50%&#39;,height:&#39;75%&#39;}&quot;</span>))</span>
<span id="cb40-9"><a href="#cb40-9"></a>)</span></code></pre></div>
<!-- ScatterChart generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataScatterChartID639629924686 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
58,
115
],
[
59,
117
],
[
60,
120
],
[
61,
123
],
[
62,
126
],
[
63,
129
],
[
64,
132
],
[
65,
135
],
[
66,
139
],
[
67,
142
],
[
68,
146
],
[
69,
150
],
[
70,
154
],
[
71,
159
],
[
72,
164
] 
];
data.addColumn('number','height');
data.addColumn('number','weight');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartScatterChartID639629924686() {
var data = gvisDataScatterChartID639629924686();
var options = {};
options["allowHtml"] = true;
options["trendlines"] = {0: { type: 'exponential',  
                     visibleInLegend: 'true', 
                     color: 'green',
                     lineWidth: 10,
                     opacity: 0.5}};
options["chartArea"] = {left:50,top:20,width:'50%',height:'75%'};

    var chart = new google.visualization.ScatterChart(
    document.getElementById('ScatterChartID639629924686')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartScatterChartID639629924686);
})();
function displayChartScatterChartID639629924686() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartScatterChartID639629924686"></script>
<!-- divChart -->
<div id="ScatterChartID639629924686" style="width: 500; height: automatic;">

</div>
</div>
<div id="add-trend-line-to-column-chart" class="section level2" number="11.3">
<h2 number="11.3"><span class="header-section-number">11.3</span> Add trend line to column chart</h2>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>dat &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val1=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">8</span>), </span>
<span id="cb41-2"><a href="#cb41-2"></a>                  <span class="dt">val2=</span><span class="kw">c</span>(<span class="dv">12</span>,<span class="dv">23</span>,<span class="dv">32</span>,<span class="dv">40</span>,<span class="dv">50</span>,<span class="dv">55</span>))</span>
<span id="cb41-3"><a href="#cb41-3"></a><span class="kw">plot</span>(</span>
<span id="cb41-4"><a href="#cb41-4"></a>  <span class="kw">gvisColumnChart</span>(dat,</span>
<span id="cb41-5"><a href="#cb41-5"></a>                  <span class="dt">options=</span><span class="kw">list</span>(<span class="dt">trendlines=</span><span class="st">&quot;{0: {}}&quot;</span>))</span>
<span id="cb41-6"><a href="#cb41-6"></a>)</span></code></pre></div>
<!-- ColumnChart generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataColumnChartID6396202a9ca9 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
1,
12
],
[
3,
23
],
[
4,
32
],
[
5,
40
],
[
6,
50
],
[
8,
55
] 
];
data.addColumn('number','val1');
data.addColumn('number','val2');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartColumnChartID6396202a9ca9() {
var data = gvisDataColumnChartID6396202a9ca9();
var options = {};
options["allowHtml"] = true;
options["trendlines"] = {0: {}};

    var chart = new google.visualization.ColumnChart(
    document.getElementById('ColumnChartID6396202a9ca9')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartColumnChartID6396202a9ca9);
})();
function displayChartColumnChartID6396202a9ca9() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartColumnChartID6396202a9ca9"></script>
<!-- divChart -->
<div id="ColumnChartID6396202a9ca9" style="width: 500; height: automatic;">

</div>
</div>
<div id="changing-labels-in-legend" class="section level2" number="11.4">
<h2 number="11.4"><span class="header-section-number">11.4</span> Changing labels in legend</h2>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>dat<span class="op">$</span>val3 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">10</span>,<span class="dv">12</span>,<span class="dv">15</span>,<span class="dv">20</span>)</span>
<span id="cb42-2"><a href="#cb42-2"></a><span class="kw">plot</span>(</span>
<span id="cb42-3"><a href="#cb42-3"></a>  <span class="kw">gvisColumnChart</span>(dat,</span>
<span id="cb42-4"><a href="#cb42-4"></a>                  <span class="dt">options=</span><span class="kw">list</span>(<span class="dt">trendlines=</span><span class="st">&quot;{</span></span>
<span id="cb42-5"><a href="#cb42-5"></a><span class="st">                          0: {</span></span>
<span id="cb42-6"><a href="#cb42-6"></a><span class="st">                            labelInLegend: &#39;Trendline 1&#39;,</span></span>
<span id="cb42-7"><a href="#cb42-7"></a><span class="st">                            visibleInLegend: true,}, </span></span>
<span id="cb42-8"><a href="#cb42-8"></a><span class="st">                          1:{</span></span>
<span id="cb42-9"><a href="#cb42-9"></a><span class="st">                            labelInLegend: &#39;Trendline 2&#39;,</span></span>
<span id="cb42-10"><a href="#cb42-10"></a><span class="st">                            visibleInLegend: true}</span></span>
<span id="cb42-11"><a href="#cb42-11"></a><span class="st">                          }&quot;</span>,</span>
<span id="cb42-12"><a href="#cb42-12"></a>                          <span class="dt">chartArea=</span><span class="st">&quot;{left:50,top:20,</span></span>
<span id="cb42-13"><a href="#cb42-13"></a><span class="st">                                      width:&#39;50%&#39;,height:&#39;75%&#39;}&quot;</span></span>
<span id="cb42-14"><a href="#cb42-14"></a>                  ))</span>
<span id="cb42-15"><a href="#cb42-15"></a>)</span></code></pre></div>
<!-- ColumnChart generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataColumnChartID6396791ceebb () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
1,
12,
5
],
[
3,
23,
6
],
[
4,
32,
10
],
[
5,
40,
12
],
[
6,
50,
15
],
[
8,
55,
20
] 
];
data.addColumn('number','val1');
data.addColumn('number','val2');
data.addColumn('number','val3');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartColumnChartID6396791ceebb() {
var data = gvisDataColumnChartID6396791ceebb();
var options = {};
options["allowHtml"] = true;
options["trendlines"] = {
                          0: {
                            labelInLegend: 'Trendline 1',
                            visibleInLegend: true,}, 
                          1:{
                            labelInLegend: 'Trendline 2',
                            visibleInLegend: true}
                          };
options["chartArea"] = {left:50,top:20,
                                      width:'50%',height:'75%'};

    var chart = new google.visualization.ColumnChart(
    document.getElementById('ColumnChartID6396791ceebb')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartColumnChartID6396791ceebb);
})();
function displayChartColumnChartID6396791ceebb() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartColumnChartID6396791ceebb"></script>
<!-- divChart -->
<div id="ColumnChartID6396791ceebb" style="width: 500; height: automatic;">

</div>
</div>
</div>
<div id="using-roles-via-googlevis" class="section level1" number="12">
<h1 number="12"><span class="header-section-number">12</span> Using Roles via googleVis</h1>
<p>Roles add the ability to pass columns for further processing downstream. Role columns must follow column they pertain to. Proper naming conventions must be observed. For example, roles fulfilling tooltip roles and must be called “foo.blah.tooltip”. For more details see the <a href="https://developers.google.com/chart/interactive/docs/roles">Google documentation</a>.</p>
<p>The following examples should help to illustrate the concept.</p>
<p>The first example uses a data set that has the additional column <code>pop.html.tooltip</code> with the first 11 letters of the Latin alphabet. This column is mapped automatically as a tooltip when the user hovers over the chart point.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">year=</span><span class="dv">1</span><span class="op">:</span><span class="dv">11</span>,<span class="dt">pop=</span><span class="dv">1</span><span class="op">:</span><span class="dv">11</span>,</span>
<span id="cb43-2"><a href="#cb43-2"></a>                 <span class="dt">pop.html.tooltip=</span>letters[<span class="dv">1</span><span class="op">:</span><span class="dv">11</span>])</span>
<span id="cb43-3"><a href="#cb43-3"></a><span class="kw">plot</span>( </span>
<span id="cb43-4"><a href="#cb43-4"></a>  <span class="kw">gvisScatterChart</span>(df)</span>
<span id="cb43-5"><a href="#cb43-5"></a>)</span></code></pre></div>
<!-- ScatterChart generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataScatterChartID63963d1c7e79 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
1,
1,
"a"
],
[
2,
2,
"b"
],
[
3,
3,
"c"
],
[
4,
4,
"d"
],
[
5,
5,
"e"
],
[
6,
6,
"f"
],
[
7,
7,
"g"
],
[
8,
8,
"h"
],
[
9,
9,
"i"
],
[
10,
10,
"j"
],
[
11,
11,
"k"
] 
];
data.addColumn('number','year');
data.addColumn('number','pop');
data.addColumn({type: 'string', role: 'tooltip', 'p': {'html': true}});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartScatterChartID63963d1c7e79() {
var data = gvisDataScatterChartID63963d1c7e79();
var options = {};
options["allowHtml"] = true;

    var chart = new google.visualization.ScatterChart(
    document.getElementById('ScatterChartID63963d1c7e79')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartScatterChartID63963d1c7e79);
})();
function displayChartScatterChartID63963d1c7e79() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartScatterChartID63963d1c7e79"></script>
<!-- divChart -->
<div id="ScatterChartID63963d1c7e79" style="width: 500; height: automatic;">

</div>
<p>HTML code can be embedded into the tooltip as well, if the option <code>isHtml</code> is set to true.</p>
<p>Often it is helpful to highlight certain parts of the data. The Google API distinguishes between certainty and emphasis. In a similar way to above additional columns with boolean values have to be added to the data.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">year=</span><span class="dv">1</span><span class="op">:</span><span class="dv">11</span>, <span class="dt">x=</span><span class="dv">1</span><span class="op">:</span><span class="dv">11</span>,</span>
<span id="cb44-2"><a href="#cb44-2"></a>                 <span class="dt">x.scope=</span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="ot">TRUE</span>, <span class="dv">8</span>), <span class="kw">rep</span>(<span class="ot">FALSE</span>, <span class="dv">3</span>)),</span>
<span id="cb44-3"><a href="#cb44-3"></a>                 <span class="dt">y=</span><span class="dv">11</span><span class="op">:</span><span class="dv">1</span>, <span class="dt">y.html.tooltip=</span>LETTERS[<span class="dv">11</span><span class="op">:</span><span class="dv">1</span>],                 </span>
<span id="cb44-4"><a href="#cb44-4"></a>                 <span class="dt">y.certainty=</span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="ot">TRUE</span>, <span class="dv">5</span>), <span class="kw">rep</span>(<span class="ot">FALSE</span>, <span class="dv">6</span>)),</span>
<span id="cb44-5"><a href="#cb44-5"></a>                 <span class="dt">y.emphasis=</span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="ot">FALSE</span>, <span class="dv">4</span>), <span class="kw">rep</span>(<span class="ot">TRUE</span>, <span class="dv">7</span>)))</span>
<span id="cb44-6"><a href="#cb44-6"></a><span class="kw">plot</span>(</span>
<span id="cb44-7"><a href="#cb44-7"></a>  <span class="kw">gvisScatterChart</span>(df,<span class="dt">options=</span><span class="kw">list</span>(<span class="dt">lineWidth=</span><span class="dv">2</span>))</span>
<span id="cb44-8"><a href="#cb44-8"></a>)</span></code></pre></div>
<!-- ScatterChart generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataScatterChartID63964daa517f () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
1,
1,
true,
11,
"K",
true,
false
],
[
2,
2,
true,
10,
"J",
true,
false
],
[
3,
3,
true,
9,
"I",
true,
false
],
[
4,
4,
true,
8,
"H",
true,
false
],
[
5,
5,
true,
7,
"G",
true,
true
],
[
6,
6,
true,
6,
"F",
false,
true
],
[
7,
7,
true,
5,
"E",
false,
true
],
[
8,
8,
true,
4,
"D",
false,
true
],
[
9,
9,
false,
3,
"C",
false,
true
],
[
10,
10,
false,
2,
"B",
false,
true
],
[
11,
11,
false,
1,
"A",
false,
true
] 
];
data.addColumn('number','year');
data.addColumn('number','x');
data.addColumn({type: 'boolean', role: 'scope'});
data.addColumn('number','y');
data.addColumn({type: 'string', role: 'tooltip', 'p': {'html': true}});
data.addColumn({type: 'boolean', role: 'certainty'});
data.addColumn({type: 'boolean', role: 'emphasis'});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartScatterChartID63964daa517f() {
var data = gvisDataScatterChartID63964daa517f();
var options = {};
options["allowHtml"] = true;
options["lineWidth"] = 2;

    var chart = new google.visualization.ScatterChart(
    document.getElementById('ScatterChartID63964daa517f')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartScatterChartID63964daa517f);
})();
function displayChartScatterChartID63964daa517f() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartScatterChartID63964daa517f"></script>
<!-- divChart -->
<div id="ScatterChartID63964daa517f" style="width: 500; height: automatic;">

</div>
<p>Using roles with column or bar charts has some specifics. Instead of ‘emphasize’ use ‘style’ to change the colours.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>dat &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">Year=</span><span class="dv">2010</span><span class="op">:</span><span class="dv">2013</span>,</span>
<span id="cb45-2"><a href="#cb45-2"></a>                  <span class="dt">Sales=</span><span class="kw">c</span>(<span class="dv">600</span>, <span class="dv">1500</span>, <span class="dv">800</span>, <span class="dv">1000</span>),</span>
<span id="cb45-3"><a href="#cb45-3"></a>                  <span class="dt">Sales.html.tooltip=</span><span class="kw">c</span>(<span class="st">&#39;$600K in our first year!&#39;</span>,</span>
<span id="cb45-4"><a href="#cb45-4"></a>                                       <span class="st">&#39;Sunspot activity made this our best year ever!&#39;</span>,</span>
<span id="cb45-5"><a href="#cb45-5"></a>                                       <span class="st">&#39;$800K in 2012.&#39;</span>,</span>
<span id="cb45-6"><a href="#cb45-6"></a>                                       <span class="st">&#39;$1M in sales last year.&#39;</span>),</span>
<span id="cb45-7"><a href="#cb45-7"></a>                  <span class="dt">Sales.certainty=</span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>))</span>
<span id="cb45-8"><a href="#cb45-8"></a><span class="kw">plot</span>(</span>
<span id="cb45-9"><a href="#cb45-9"></a>  <span class="kw">gvisColumnChart</span>(dat, <span class="dt">xvar=</span><span class="st">&#39;Year&#39;</span>, </span>
<span id="cb45-10"><a href="#cb45-10"></a>                  <span class="dt">yvar=</span><span class="kw">c</span>(<span class="st">&#39;Sales&#39;</span>, <span class="st">&#39;Sales.certainty&#39;</span>)</span>
<span id="cb45-11"><a href="#cb45-11"></a>  )</span>
<span id="cb45-12"><a href="#cb45-12"></a>)</span></code></pre></div>
<!-- ColumnChart generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataColumnChartID63964e2ec542 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"2010",
600,
true
],
[
"2011",
1500,
false
],
[
"2012",
800,
true
],
[
"2013",
1000,
false
] 
];
data.addColumn('string','Year');
data.addColumn('number','Sales');
data.addColumn({type: 'boolean', role: 'certainty'});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartColumnChartID63964e2ec542() {
var data = gvisDataColumnChartID63964e2ec542();
var options = {};
options["allowHtml"] = true;

    var chart = new google.visualization.ColumnChart(
    document.getElementById('ColumnChartID63964e2ec542')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartColumnChartID63964e2ec542);
})();
function displayChartColumnChartID63964e2ec542() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartColumnChartID63964e2ec542"></script>
<!-- divChart -->
<div id="ColumnChartID63964e2ec542" style="width: 500; height: automatic;">

</div>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a>df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">country=</span><span class="kw">c</span>(<span class="st">&quot;US&quot;</span>, <span class="st">&quot;GB&quot;</span>, <span class="st">&quot;BR&quot;</span>), </span>
<span id="cb46-2"><a href="#cb46-2"></a>                 <span class="dt">val1=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>), </span>
<span id="cb46-3"><a href="#cb46-3"></a>                 <span class="dt">val1.emphasis=</span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>),</span>
<span id="cb46-4"><a href="#cb46-4"></a>                 <span class="dt">val2=</span><span class="kw">c</span>(<span class="dv">23</span>,<span class="dv">12</span>,<span class="dv">32</span>))</span>
<span id="cb46-5"><a href="#cb46-5"></a><span class="kw">plot</span>(</span>
<span id="cb46-6"><a href="#cb46-6"></a>  <span class="kw">gvisLineChart</span>(df, <span class="dt">xvar=</span><span class="st">&quot;country&quot;</span>, </span>
<span id="cb46-7"><a href="#cb46-7"></a>                <span class="dt">yvar=</span><span class="kw">c</span>(<span class="st">&quot;val1&quot;</span>, <span class="st">&quot;val1.emphasis&quot;</span>)</span>
<span id="cb46-8"><a href="#cb46-8"></a>  )</span>
<span id="cb46-9"><a href="#cb46-9"></a>)</span></code></pre></div>
<!-- LineChart generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataLineChartID6396422d59fc () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"US",
1,
true
],
[
"GB",
3,
true
],
[
"BR",
4,
false
] 
];
data.addColumn('string','country');
data.addColumn('number','val1');
data.addColumn({type: 'boolean', role: 'emphasis'});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartLineChartID6396422d59fc() {
var data = gvisDataLineChartID6396422d59fc();
var options = {};
options["allowHtml"] = true;

    var chart = new google.visualization.LineChart(
    document.getElementById('LineChartID6396422d59fc')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartLineChartID6396422d59fc);
})();
function displayChartLineChartID6396422d59fc() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartLineChartID6396422d59fc"></script>
<!-- divChart -->
<div id="LineChartID6396422d59fc" style="width: 500; height: automatic;">

</div>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a><span class="kw">plot</span>(</span>
<span id="cb47-2"><a href="#cb47-2"></a>  <span class="kw">gvisLineChart</span>(df, <span class="dt">xvar=</span><span class="st">&quot;country&quot;</span>, </span>
<span id="cb47-3"><a href="#cb47-3"></a>                <span class="dt">yvar=</span><span class="kw">c</span>(<span class="st">&quot;val1&quot;</span>, <span class="st">&quot;val1.emphasis&quot;</span>, <span class="st">&quot;val2&quot;</span>)</span>
<span id="cb47-4"><a href="#cb47-4"></a>  )</span>
<span id="cb47-5"><a href="#cb47-5"></a>)</span></code></pre></div>
<!-- LineChart generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataLineChartID63962f6ed155 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"US",
1,
true,
23
],
[
"GB",
3,
true,
12
],
[
"BR",
4,
false,
32
] 
];
data.addColumn('string','country');
data.addColumn('number','val1');
data.addColumn({type: 'boolean', role: 'emphasis'});
data.addColumn('number','val2');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartLineChartID63962f6ed155() {
var data = gvisDataLineChartID63962f6ed155();
var options = {};
options["allowHtml"] = true;

    var chart = new google.visualization.LineChart(
    document.getElementById('LineChartID63962f6ed155')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartLineChartID63962f6ed155);
})();
function displayChartLineChartID63962f6ed155() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartLineChartID63962f6ed155"></script>
<!-- divChart -->
<div id="LineChartID63962f6ed155" style="width: 500; height: automatic;">

</div>
<p>Setting the annotations style to ‘line’ allows adding little reference lines to the plot.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>dat &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">Year=</span><span class="dv">2010</span><span class="op">:</span><span class="dv">2013</span>, </span>
<span id="cb48-2"><a href="#cb48-2"></a>                  <span class="dt">Sales=</span><span class="kw">c</span>(<span class="dv">600</span>, <span class="dv">1500</span>, <span class="dv">800</span>, <span class="dv">1000</span>),</span>
<span id="cb48-3"><a href="#cb48-3"></a>                  <span class="dt">Sales.annotation=</span><span class="kw">c</span>(<span class="st">&#39;First year&#39;</span>, <span class="ot">NA</span>, <span class="ot">NA</span>, <span class="st">&#39;Last Year&#39;</span>),</span>
<span id="cb48-4"><a href="#cb48-4"></a>                  <span class="dt">Sales.annotationText=</span><span class="kw">c</span>(<span class="st">&#39;$600K in our first year!&#39;</span>,</span>
<span id="cb48-5"><a href="#cb48-5"></a>                                       <span class="ot">NA</span>,</span>
<span id="cb48-6"><a href="#cb48-6"></a>                                       <span class="ot">NA</span>,</span>
<span id="cb48-7"><a href="#cb48-7"></a>                                       <span class="st">&#39;$1M in sales last year.&#39;</span>))      </span>
<span id="cb48-8"><a href="#cb48-8"></a></span>
<span id="cb48-9"><a href="#cb48-9"></a><span class="kw">plot</span>(</span>
<span id="cb48-10"><a href="#cb48-10"></a>  <span class="kw">gvisLineChart</span>(dat, <span class="dt">xvar=</span><span class="st">&#39;Year&#39;</span>, </span>
<span id="cb48-11"><a href="#cb48-11"></a>                  <span class="dt">yvar=</span><span class="kw">c</span>(<span class="st">&#39;Sales&#39;</span>,</span>
<span id="cb48-12"><a href="#cb48-12"></a>                         <span class="st">&#39;Sales.annotation&#39;</span>,</span>
<span id="cb48-13"><a href="#cb48-13"></a>                         <span class="st">&#39;Sales.annotationText&#39;</span>),</span>
<span id="cb48-14"><a href="#cb48-14"></a>                         <span class="dt">options=</span><span class="kw">list</span>(<span class="dt">annotations =</span> <span class="st">&quot;{style:&#39;line&#39;}&quot;</span>)</span>
<span id="cb48-15"><a href="#cb48-15"></a>  )</span>
<span id="cb48-16"><a href="#cb48-16"></a>)</span></code></pre></div>
<!-- LineChart generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataLineChartID6396160b904d () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"2010",
600,
"First year",
"$600K in our first year!"
],
[
"2011",
1500,
null,
null
],
[
"2012",
800,
null,
null
],
[
"2013",
1000,
"Last Year",
"$1M in sales last year."
] 
];
data.addColumn('string','Year');
data.addColumn('number','Sales');
data.addColumn({type: 'string', role: 'annotation'});
data.addColumn({type: 'string', role: 'annotationText'});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartLineChartID6396160b904d() {
var data = gvisDataLineChartID6396160b904d();
var options = {};
options["allowHtml"] = true;
options["annotations"] = {style:'line'};

    var chart = new google.visualization.LineChart(
    document.getElementById('LineChartID6396160b904d')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartLineChartID6396160b904d);
})();
function displayChartLineChartID6396160b904d() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartLineChartID6396160b904d"></script>
<!-- divChart -->
<div id="LineChartID6396160b904d" style="width: 500; height: automatic;">

</div>
<p>Intervals help to add error bars, confidence levels, etc. Note that the options are set either via <code>interval</code> or <code>intervals</code>, if set to all intervals. The examples below give an indication of what can be achieved with intervals. For more details visit the Google <a href="https://developers.google.com/chart/interactive/docs/gallery/intervals">documentation</a>.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">Year=</span><span class="dv">2013</span><span class="op">:</span><span class="dv">2014</span>, <span class="dt">Sales=</span><span class="kw">c</span>(<span class="dv">120</span>, <span class="dv">130</span>), </span>
<span id="cb49-2"><a href="#cb49-2"></a>                 <span class="dt">Sales.interval.1=</span><span class="kw">c</span>(<span class="dv">100</span>,<span class="dv">110</span>), </span>
<span id="cb49-3"><a href="#cb49-3"></a>                 <span class="dt">Sales.interval.2=</span><span class="kw">c</span>(<span class="dv">140</span>, <span class="dv">150</span>),</span>
<span id="cb49-4"><a href="#cb49-4"></a>                 <span class="dt">Sales.interval.3=</span><span class="kw">c</span>(<span class="dv">90</span>, <span class="dv">100</span>),</span>
<span id="cb49-5"><a href="#cb49-5"></a>                 <span class="dt">Sales.interval.4=</span><span class="kw">c</span>(<span class="dv">150</span>, <span class="dv">170</span>),</span>
<span id="cb49-6"><a href="#cb49-6"></a>                 <span class="dt">Sales.style=</span><span class="kw">c</span>(<span class="st">&#39;red&#39;</span>, <span class="st">&#39;gold&#39;</span>),</span>
<span id="cb49-7"><a href="#cb49-7"></a>                 <span class="dt">Sales.annotation=</span><span class="kw">c</span>(<span class="st">&quot;North&quot;</span>, <span class="st">&quot;South&quot;</span>),</span>
<span id="cb49-8"><a href="#cb49-8"></a>                 <span class="dt">check.names=</span><span class="ot">FALSE</span>)</span>
<span id="cb49-9"><a href="#cb49-9"></a></span>
<span id="cb49-10"><a href="#cb49-10"></a><span class="kw">plot</span>(</span>
<span id="cb49-11"><a href="#cb49-11"></a>  <span class="kw">gvisBarChart</span>(df, <span class="dt">xvar=</span><span class="st">&#39;Year&#39;</span>, </span>
<span id="cb49-12"><a href="#cb49-12"></a>               <span class="dt">yvar=</span><span class="kw">c</span>(<span class="st">&#39;Sales&#39;</span>,                       </span>
<span id="cb49-13"><a href="#cb49-13"></a>                      <span class="st">&#39;Sales.interval.1&#39;</span>, </span>
<span id="cb49-14"><a href="#cb49-14"></a>                      <span class="st">&#39;Sales.interval.2&#39;</span>,</span>
<span id="cb49-15"><a href="#cb49-15"></a>                      <span class="st">&#39;Sales.style&#39;</span>,</span>
<span id="cb49-16"><a href="#cb49-16"></a>                      <span class="st">&#39;Sales.annotation&#39;</span>)</span>
<span id="cb49-17"><a href="#cb49-17"></a>  )</span>
<span id="cb49-18"><a href="#cb49-18"></a>)</span></code></pre></div>
<!-- BarChart generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataBarChartID639652d8a202 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"2013",
120,
100,
140,
"red",
"North"
],
[
"2014",
130,
110,
150,
"gold",
"South"
] 
];
data.addColumn('string','Year');
data.addColumn('number','Sales');
data.addColumn({id:'i1', type: 'number', role: 'interval'});
data.addColumn({id:'i2', type: 'number', role: 'interval'});
data.addColumn({type: 'string', role: 'style'});
data.addColumn({type: 'string', role: 'annotation'});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartBarChartID639652d8a202() {
var data = gvisDataBarChartID639652d8a202();
var options = {};
options["allowHtml"] = true;

    var chart = new google.visualization.BarChart(
    document.getElementById('BarChartID639652d8a202')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartBarChartID639652d8a202);
})();
function displayChartBarChartID639652d8a202() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartBarChartID639652d8a202"></script>
<!-- divChart -->
<div id="BarChartID639652d8a202" style="width: 500; height: automatic;">

</div>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a><span class="kw">plot</span>(</span>
<span id="cb50-2"><a href="#cb50-2"></a>  <span class="kw">gvisLineChart</span>(df, <span class="dt">xvar=</span><span class="st">&#39;Year&#39;</span>, </span>
<span id="cb50-3"><a href="#cb50-3"></a>               <span class="dt">yvar=</span><span class="kw">c</span>(<span class="st">&#39;Sales&#39;</span>, </span>
<span id="cb50-4"><a href="#cb50-4"></a>                      <span class="st">&#39;Sales.interval.1&#39;</span>, </span>
<span id="cb50-5"><a href="#cb50-5"></a>                      <span class="st">&#39;Sales.interval.2&#39;</span>),</span>
<span id="cb50-6"><a href="#cb50-6"></a>               <span class="dt">options=</span><span class="kw">list</span>(<span class="dt">series=</span><span class="st">&quot;[{color:&#39;purple&#39;}]&quot;</span>)</span>
<span id="cb50-7"><a href="#cb50-7"></a>  )</span>
<span id="cb50-8"><a href="#cb50-8"></a>)</span></code></pre></div>
<!-- LineChart generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataLineChartID6396c745bcc () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"2013",
120,
100,
140
],
[
"2014",
130,
110,
150
] 
];
data.addColumn('string','Year');
data.addColumn('number','Sales');
data.addColumn({id:'i1', type: 'number', role: 'interval'});
data.addColumn({id:'i2', type: 'number', role: 'interval'});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartLineChartID6396c745bcc() {
var data = gvisDataLineChartID6396c745bcc();
var options = {};
options["allowHtml"] = true;
options["series"] = [{color:'purple'}];

    var chart = new google.visualization.LineChart(
    document.getElementById('LineChartID6396c745bcc')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartLineChartID6396c745bcc);
})();
function displayChartLineChartID6396c745bcc() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartLineChartID6396c745bcc"></script>
<!-- divChart -->
<div id="LineChartID6396c745bcc" style="width: 500; height: automatic;">

</div>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a><span class="kw">plot</span>(</span>
<span id="cb51-2"><a href="#cb51-2"></a>  <span class="kw">gvisLineChart</span>(df, <span class="dt">xvar=</span><span class="st">&#39;Year&#39;</span>, </span>
<span id="cb51-3"><a href="#cb51-3"></a>                <span class="dt">yvar=</span><span class="kw">c</span>(<span class="st">&#39;Sales&#39;</span>, </span>
<span id="cb51-4"><a href="#cb51-4"></a>                       <span class="st">&#39;Sales.interval.1&#39;</span>, </span>
<span id="cb51-5"><a href="#cb51-5"></a>                       <span class="st">&#39;Sales.interval.2&#39;</span>, </span>
<span id="cb51-6"><a href="#cb51-6"></a>                       <span class="st">&#39;Sales.interval.3&#39;</span>, </span>
<span id="cb51-7"><a href="#cb51-7"></a>                       <span class="st">&#39;Sales.interval.4&#39;</span>),</span>
<span id="cb51-8"><a href="#cb51-8"></a>                <span class="dt">options=</span><span class="kw">list</span>(<span class="dt">series=</span><span class="st">&quot;[{color:&#39;purple&#39;}]&quot;</span>,</span>
<span id="cb51-9"><a href="#cb51-9"></a>                             <span class="dt">lineWidth=</span><span class="dv">4</span>,</span>
<span id="cb51-10"><a href="#cb51-10"></a>                             <span class="dt">interval=</span><span class="st">&quot;{</span></span>
<span id="cb51-11"><a href="#cb51-11"></a><span class="st">            &#39;i1&#39;: { &#39;style&#39;:&#39;line&#39;, &#39;color&#39;:&#39;#D3362D&#39;, &#39;lineWidth&#39;: 0.5 },</span></span>
<span id="cb51-12"><a href="#cb51-12"></a><span class="st">            &#39;i2&#39;: { &#39;style&#39;:&#39;line&#39;, &#39;color&#39;:&#39;#F1CA3A&#39;, &#39;lineWidth&#39;: 1 },</span></span>
<span id="cb51-13"><a href="#cb51-13"></a><span class="st">            &#39;i3&#39;: { &#39;style&#39;:&#39;line&#39;, &#39;color&#39;:&#39;#5F9654&#39;, &#39;lineWidth&#39;: 2 },</span></span>
<span id="cb51-14"><a href="#cb51-14"></a><span class="st">            &#39;i4&#39;: { &#39;style&#39;:&#39;line&#39;, &#39;color&#39;:&#39;#5F9654&#39;, &#39;lineWidth&#39;: 3 }</span></span>
<span id="cb51-15"><a href="#cb51-15"></a><span class="st">        }&quot;</span>)</span>
<span id="cb51-16"><a href="#cb51-16"></a>  )</span>
<span id="cb51-17"><a href="#cb51-17"></a>)</span></code></pre></div>
<!-- LineChart generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataLineChartID63962b36b477 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"2013",
120,
100,
140,
90,
150
],
[
"2014",
130,
110,
150,
100,
170
] 
];
data.addColumn('string','Year');
data.addColumn('number','Sales');
data.addColumn({id:'i1', type: 'number', role: 'interval'});
data.addColumn({id:'i2', type: 'number', role: 'interval'});
data.addColumn({id:'i3', type: 'number', role: 'interval'});
data.addColumn({id:'i4', type: 'number', role: 'interval'});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartLineChartID63962b36b477() {
var data = gvisDataLineChartID63962b36b477();
var options = {};
options["allowHtml"] = true;
options["series"] = [{color:'purple'}];
options["lineWidth"] = 4;
options["interval"] = {
            'i1': { 'style':'line', 'color':'#D3362D', 'lineWidth': 0.5 },
            'i2': { 'style':'line', 'color':'#F1CA3A', 'lineWidth': 1 },
            'i3': { 'style':'line', 'color':'#5F9654', 'lineWidth': 2 },
            'i4': { 'style':'line', 'color':'#5F9654', 'lineWidth': 3 }
        };

    var chart = new google.visualization.LineChart(
    document.getElementById('LineChartID63962b36b477')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartLineChartID63962b36b477);
})();
function displayChartLineChartID63962b36b477() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartLineChartID63962b36b477"></script>
<!-- divChart -->
<div id="LineChartID63962b36b477" style="width: 500; height: automatic;">

</div>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a><span class="kw">plot</span>(</span>
<span id="cb52-2"><a href="#cb52-2"></a>  <span class="kw">gvisLineChart</span>(df, <span class="dt">xvar=</span><span class="st">&#39;Year&#39;</span>, </span>
<span id="cb52-3"><a href="#cb52-3"></a>                <span class="dt">yvar=</span><span class="kw">c</span>(<span class="st">&#39;Sales&#39;</span>, </span>
<span id="cb52-4"><a href="#cb52-4"></a>                       <span class="st">&#39;Sales.interval.1&#39;</span>, </span>
<span id="cb52-5"><a href="#cb52-5"></a>                       <span class="st">&#39;Sales.interval.2&#39;</span>, </span>
<span id="cb52-6"><a href="#cb52-6"></a>                       <span class="st">&#39;Sales.interval.3&#39;</span>, </span>
<span id="cb52-7"><a href="#cb52-7"></a>                       <span class="st">&#39;Sales.interval.4&#39;</span>),</span>
<span id="cb52-8"><a href="#cb52-8"></a>                <span class="dt">options=</span><span class="kw">list</span>(<span class="dt">series=</span><span class="st">&quot;[{color:&#39;purple&#39;}]&quot;</span>,</span>
<span id="cb52-9"><a href="#cb52-9"></a>                             <span class="dt">lineWidth=</span><span class="dv">4</span>,</span>
<span id="cb52-10"><a href="#cb52-10"></a>                             <span class="dt">intervals=</span><span class="st">&quot;{ &#39;style&#39;:&#39;area&#39; }&quot;</span>,</span>
<span id="cb52-11"><a href="#cb52-11"></a>                             <span class="dt">interval=</span><span class="st">&quot;{</span></span>
<span id="cb52-12"><a href="#cb52-12"></a><span class="st">                               &#39;i1&#39;: { &#39;color&#39;: &#39;#4374E0&#39;, &#39;style&#39;:&#39;bars&#39;, &#39;barWidth&#39;:0, &#39;lineWidth&#39;:4, &#39;pointSize&#39;:10, &#39;fillOpacity&#39;:1 },</span></span>
<span id="cb52-13"><a href="#cb52-13"></a><span class="st">                               &#39;i2&#39;: { &#39;color&#39;: &#39;#E49307&#39;, &#39;style&#39;:&#39;bars&#39;, &#39;barWidth&#39;:0, &#39;lineWidth&#39;:4, &#39;pointSize&#39;:10, &#39;fillOpacity&#39;:1 }}&quot;</span>                                                          </span>
<span id="cb52-14"><a href="#cb52-14"></a>                             )</span>
<span id="cb52-15"><a href="#cb52-15"></a>  )</span>
<span id="cb52-16"><a href="#cb52-16"></a>)</span></code></pre></div>
<!-- LineChart generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataLineChartID6396148206cb () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"2013",
120,
100,
140,
90,
150
],
[
"2014",
130,
110,
150,
100,
170
] 
];
data.addColumn('string','Year');
data.addColumn('number','Sales');
data.addColumn({id:'i1', type: 'number', role: 'interval'});
data.addColumn({id:'i2', type: 'number', role: 'interval'});
data.addColumn({id:'i3', type: 'number', role: 'interval'});
data.addColumn({id:'i4', type: 'number', role: 'interval'});
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartLineChartID6396148206cb() {
var data = gvisDataLineChartID6396148206cb();
var options = {};
options["allowHtml"] = true;
options["series"] = [{color:'purple'}];
options["lineWidth"] = 4;
options["intervals"] = { 'style':'area' };
options["interval"] = {
                               'i1': { 'color': '#4374E0', 'style':'bars', 'barWidth':0, 'lineWidth':4, 'pointSize':10, 'fillOpacity':1 },
                               'i2': { 'color': '#E49307', 'style':'bars', 'barWidth':0, 'lineWidth':4, 'pointSize':10, 'fillOpacity':1 }};

    var chart = new google.visualization.LineChart(
    document.getElementById('LineChartID6396148206cb')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartLineChartID6396148206cb);
})();
function displayChartLineChartID6396148206cb() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartLineChartID6396148206cb"></script>
<!-- divChart -->
<div id="LineChartID6396148206cb" style="width: 500; height: automatic;">

</div>
</div>
<div id="beyond-r" class="section level1" number="13">
<h1 number="13"><span class="header-section-number">13</span> Beyond R</h1>
<p>In this section we present ideas which go beyond the usual coding in R and are somewhat experimental.</p>
<div id="registering-to-catch-events" class="section level2" number="13.1">
<h2 number="13.1"><span class="header-section-number">13.1</span> Registering to catch events</h2>
<p>Google visualisations can fire and receive <a href="https://developers.google.com/chart/interactive/docs/events">events</a>. It exposes the following two JavaScript methods:</p>
<ul>
<li><code>google.visualization.events.trigger()</code> fires an event,</li>
<li><code>google.visualization.events.addListener()</code> listens for events.</li>
</ul>
<p>Here is an example of registering to receive the selection event from the Google documentation:</p>
<pre><code>var table = new google.visualization.Table(document.getElementById(&#39;table_div&#39;));
table.draw(data, options);
google.visualization.events.addListener(table, &#39;select&#39;, selectHandler);

function selectHandler() {
  alert(&#39;A table row was selected&#39;);
}</code></pre>
<p>We will only deal with this special case of a ‘select’ event of the ‘addListner’ method. This event is available for most visualisations and acts on user interactions, e.g. user selection clicks.</p>
<p>The ‘addListener’ method expects JavaScript code, which can be embedded into a gvis-object via <code>options</code> as (undocumented) parameter <code>gvis.listener.jscode</code>.</p>
<p>Here are some examples:</p>
<p>Look up the selected item in Wikipedia:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>jscode &lt;-<span class="st"> &quot;window.open(&#39;https://en.wikipedia.org/wiki/&#39; </span></span>
<span id="cb54-2"><a href="#cb54-2"></a><span class="st">                  + data.getValue(chart.getSelection()[0].row,0)); &quot;</span></span>
<span id="cb54-3"><a href="#cb54-3"></a></span>
<span id="cb54-4"><a href="#cb54-4"></a>J1 &lt;-<span class="st"> </span><span class="kw">gvisGeoChart</span>(Exports, <span class="dt">locationvar=</span><span class="st">&#39;Country&#39;</span>, <span class="dt">sizevar =</span> <span class="st">&#39;Profit&#39;</span>,</span>
<span id="cb54-5"><a href="#cb54-5"></a>                 <span class="dt">options=</span><span class="kw">list</span>(<span class="dt">dataMode=</span><span class="st">&quot;regions&quot;</span>, </span>
<span id="cb54-6"><a href="#cb54-6"></a>                              <span class="dt">gvis.listener.jscode=</span>jscode))</span>
<span id="cb54-7"><a href="#cb54-7"></a><span class="kw">plot</span>(J1)</span></code></pre></div>
<!-- GeoChart generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataGeoChartID63962456f6c9 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"Germany",
3
],
[
"Brazil",
4
],
[
"United States",
5
],
[
"France",
4
],
[
"Hungary",
3
],
[
"India",
2
],
[
"Iceland",
1
],
[
"Norway",
4
],
[
"Spain",
5
],
[
"Turkey",
1
] 
];
data.addColumn('string','Country');
data.addColumn('number','Profit');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartGeoChartID63962456f6c9() {
var data = gvisDataGeoChartID63962456f6c9();
var options = {};
options["width"] = 556;
options["height"] = 347;
options["dataMode"] = "regions";

    var chart = new google.visualization.GeoChart(
    document.getElementById('GeoChartID63962456f6c9')
    );
    chart.draw(data,options);
    

    google.visualization.events.addListener(chart, 'select',gvisListenerGeoChartID63962456f6c9);
    function gvisListenerGeoChartID63962456f6c9() {
    window.open('https://en.wikipedia.org/wiki/' 
                  + data.getValue(chart.getSelection()[0].row,0)); 
    }
    
}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "geochart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartGeoChartID63962456f6c9);
})();
function displayChartGeoChartID63962456f6c9() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartGeoChartID63962456f6c9"></script>
<!-- divChart -->
<div id="GeoChartID63962456f6c9" style="width: 556; height: 347;">

</div>
<p>In the same way we can use the code in other charts, e.g. org- or line charts:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a><span class="kw">plot</span>(<span class="kw">gvisOrgChart</span>(Regions,  <span class="dt">options=</span><span class="kw">list</span>(<span class="dt">gvis.listener.jscode=</span>jscode)))</span>
<span id="cb55-2"><a href="#cb55-2"></a><span class="kw">plot</span>(<span class="kw">gvisLineChart</span>(Regions[,<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)], <span class="dt">options=</span><span class="kw">list</span>(<span class="dt">gvis.listener.jscode=</span>jscode)))</span></code></pre></div>
<p>In the following more advanced example the selected value of a table is displayed in a message box:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>jscode &lt;-<span class="st"> &quot;</span></span>
<span id="cb56-2"><a href="#cb56-2"></a><span class="st">       var sel = chart.getSelection();</span></span>
<span id="cb56-3"><a href="#cb56-3"></a><span class="st">       var row = sel[0].row;</span></span>
<span id="cb56-4"><a href="#cb56-4"></a><span class="st">       var text = data.getValue(row,1);</span></span>
<span id="cb56-5"><a href="#cb56-5"></a><span class="st">       alert(text);</span></span>
<span id="cb56-6"><a href="#cb56-6"></a><span class="st">&quot;</span></span>
<span id="cb56-7"><a href="#cb56-7"></a>J2 &lt;-<span class="st"> </span><span class="kw">gvisTable</span>(Population[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,], </span>
<span id="cb56-8"><a href="#cb56-8"></a>                <span class="dt">options=</span><span class="kw">list</span>(<span class="dt">gvis.listener.jscode=</span>jscode))</span>
<span id="cb56-9"><a href="#cb56-9"></a><span class="kw">plot</span>(J2)</span></code></pre></div>
<!-- Table generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataTableID639620aa9adf () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"1",
"China",
1339940000,
0.195,
"<img src=\"http://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/Flag_of_the_People%27s_Republic_of_China.svg/22px-Flag_of_the_People%27s_Republic_of_China.svg.png\">",
true,
new Date(2010,9,9)
],
[
"2",
"India",
1188650000,
0.173,
"<img src=\"http://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Flag_of_India.svg/22px-Flag_of_India.svg.png\">",
true,
new Date(2010,9,9)
],
[
"3",
"United States",
310438000,
0.0452,
"<img src=\"http://upload.wikimedia.org/wikipedia/commons/thumb/a/a4/Flag_of_the_United_States.svg/22px-Flag_of_the_United_States.svg.png\">",
true,
new Date(2010,9,9)
],
[
"4",
"Indonesia",
237556363,
0.0346,
"<img src=\"http://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/Flag_of_Indonesia.svg/22px-Flag_of_Indonesia.svg.png\">",
true,
new Date(2010,9,9)
],
[
"5",
"Brazil",
193626000,
0.0282,
"<img src=\"http://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Flag_of_Brazil.svg/22px-Flag_of_Brazil.svg.png\">",
true,
new Date(2010,9,9)
] 
];
data.addColumn('string','Rank');
data.addColumn('string','Country');
data.addColumn('number','Population');
data.addColumn('number','% of World Population');
data.addColumn('string','Flag');
data.addColumn('boolean','Mode');
data.addColumn('date','Date');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartTableID639620aa9adf() {
var data = gvisDataTableID639620aa9adf();
var options = {};
options["allowHtml"] = true;

    var chart = new google.visualization.Table(
    document.getElementById('TableID639620aa9adf')
    );
    chart.draw(data,options);
    

    google.visualization.events.addListener(chart, 'select',gvisListenerTableID639620aa9adf);
    function gvisListenerTableID639620aa9adf() {
    
       var sel = chart.getSelection();
       var row = sel[0].row;
       var text = data.getValue(row,1);
       alert(text);

    }
    
}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "table";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartTableID639620aa9adf);
})();
function displayChartTableID639620aa9adf() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartTableID639620aa9adf"></script>
<!-- divChart -->
<div id="TableID639620aa9adf" style="width: 500; height: automatic;">

</div>
<p>For more details see the <code>demo(EventListener)</code> and <a href="https://developers.google.com/chart/interactive/docs/reference">Google Charts Reference</a>.</p>
</div>
</div>
<div id="frequent-ask-questions-faq" class="section level1" number="14">
<h1 number="14"><span class="header-section-number">14</span> Frequent ask questions – FAQ</h1>
<div id="can-i-use-googlevis-output-in-pdf-files" class="section level2" number="14.1">
<h2 number="14.1"><span class="header-section-number">14.1</span> Can I use googleVis output in PDF files?</h2>
<p>No, not directly. The Google Charts API is designed for dynamic web output on your screen and not on paper.</p>
<p>For further details see Google’s online documentation on <a href="https://developers.google.com/chart/interactive/docs/printing">printing PNG charts</a>.</p>
</div>
<div id="can-i-change-the-colour-of-the-bubbles-in-motion-charts" class="section level2" number="14.2">
<h2 number="14.2"><span class="header-section-number">14.2</span> Can I change the colour of the bubbles in motion charts?</h2>
<p>No, unfortunately not. The colours are set by the Google Charts API and cannot be changed by the user.</p>
</div>
<div id="why-cant-i-see-motion-charts-when-i-open-them-from-a-local-directory" class="section level2" number="14.3">
<h2 number="14.3"><span class="header-section-number">14.3</span> Why can’t I see motion charts when I open them from a local directory?</h2>
<p>Note that Flash charts may not work when loaded as a local file due to security settings, and therefore require to be displayed via a web server. However, you can overcome this issue by changing your Flash security settings. Tony Breyal posted the following solution on stackoverflow.com:</p>
<ol style="list-style-type: decimal">
<li>Go to <a href="https://www.adobe.com/support/documentation/en/flashplayer/help/settings_manager04.html" class="uri">https://www.adobe.com/support/documentation/en/flashplayer/help/settings_manager04.html</a></li>
<li>Click on the dropbox which says ’Edit location’ and choose ’add location’</li>
<li>Click ’browse for folder’</li>
<li>Choose the folder in which you saved your HTML file</li>
<li>Click OK</li>
</ol>
</div>
<div id="why-cant-i-see-motion-charts-on-my-ipadiphone" class="section level2" number="14.4">
<h2 number="14.4"><span class="header-section-number">14.4</span> Why can’t I see motion charts on my iPad/iPhone?</h2>
<p>Motion charts (also geo maps and annotated time lines) are rendered in your browser using Flash, unlike most other charts which use HTML5. Unfortunately, Flash is not directly supported on iOS devices such as iPads and iPhones.</p>
</div>
<div id="how-can-i-set-axes-limits-with-googlevis" class="section level2" number="14.5">
<h2 number="14.5"><span class="header-section-number">14.5</span> How can I set axes limits with googleVis?</h2>
<p>Unfortunately, there are no arguments such as <code>ylim</code> and <code>xlim</code>. Instead, the Google Charts axes options are set via <code>hAxes</code> and <code>vAxes</code>, with ‘h’ and ‘v’ indicating the horizontal and vertical axis. More precisely, we have to set <code>viewWindowMode:'explicit'</code> and set the <code>viewWindow</code> to the desired <code>min</code> and <code>max</code> values. Additionally, we have to wrap all of this in <code>[{}]</code> brackets as those settings are sub options of <code>h/vAxes</code>. There are also options <code>minValue</code> and <code>maxValue</code>, but they only allow you to extend the axes ranges.</p>
<p>Here is a minimal example, setting the y-axis limits from 0 to 10:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>dat &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x=</span>LETTERS[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>], </span>
<span id="cb57-2"><a href="#cb57-2"></a>                  <span class="dt">y=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">-2</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">8</span>, <span class="dv">15</span>, <span class="dv">10</span>, <span class="dv">4</span>))</span>
<span id="cb57-3"><a href="#cb57-3"></a>area1 &lt;-<span class="st"> </span><span class="kw">gvisAreaChart</span>(<span class="dt">xvar=</span><span class="st">&quot;x&quot;</span>, <span class="dt">yvar=</span><span class="st">&quot;y&quot;</span>, <span class="dt">data=</span>dat,</span>
<span id="cb57-4"><a href="#cb57-4"></a>        <span class="dt">options=</span><span class="kw">list</span>(<span class="dt">vAxes=</span><span class="st">&quot;[{viewWindowMode:&#39;explicit&#39;,</span></span>
<span id="cb57-5"><a href="#cb57-5"></a><span class="st">            viewWindow:{min:0, max:10}}]&quot;</span>,</span>
<span id="cb57-6"><a href="#cb57-6"></a>                        <span class="dt">width=</span><span class="dv">500</span>, <span class="dt">height=</span><span class="dv">400</span>, </span>
<span id="cb57-7"><a href="#cb57-7"></a>                        <span class="dt">title=</span><span class="st">&quot;y-limits set from 0 to 10&quot;</span>),</span>
<span id="cb57-8"><a href="#cb57-8"></a>            <span class="dt">chartid=</span><span class="st">&quot;area1ylim&quot;</span>)</span>
<span id="cb57-9"><a href="#cb57-9"></a><span class="kw">plot</span>(area1)</span></code></pre></div>
<!-- AreaChart generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataarea1ylim () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"A",
0
],
[
"B",
4
],
[
"C",
-2
],
[
"D",
2
],
[
"E",
4
],
[
"F",
3
],
[
"G",
8
],
[
"H",
15
],
[
"I",
10
],
[
"J",
4
] 
];
data.addColumn('string','x');
data.addColumn('number','y');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartarea1ylim() {
var data = gvisDataarea1ylim();
var options = {};
options["allowHtml"] = true;
options["vAxes"] = [{viewWindowMode:'explicit',
            viewWindow:{min:0, max:10}}];
options["width"] = 500;
options["height"] = 400;
options["title"] = "y-limits set from 0 to 10";

    var chart = new google.visualization.AreaChart(
    document.getElementById('area1ylim')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartarea1ylim);
})();
function displayChartarea1ylim() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartarea1ylim"></script>
<!-- divChart -->
<div id="area1ylim" style="width: 500; height: 400;">

</div>
</div>
<div id="how-do-i-deal-with-apostrophes-in-column-names" class="section level2" number="14.6">
<h2 number="14.6"><span class="header-section-number">14.6</span> How do I deal with apostrophes in column names?</h2>
<p>The googleVis package converts data frames into JSON objects. The column names of the resulting JSON tables are encapsulated with single speech marks.</p>
<p>Hence apostrophes in column names of your input data frame have to be encapsulated by a double backslash.</p>
<p>Here is a little example:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="st">&quot;Year&quot;</span>=<span class="kw">c</span>(<span class="st">&#39;2009&#39;</span>, <span class="st">&#39;2010&#39;</span>), </span>
<span id="cb58-2"><a href="#cb58-2"></a>                 <span class="st">&quot;Alice</span><span class="ch">\\</span><span class="st">&#39;s salary&quot;</span>=<span class="kw">c</span>(<span class="fl">86.1</span>, <span class="fl">93.3</span>), </span>
<span id="cb58-3"><a href="#cb58-3"></a>                 <span class="st">&quot;Bob</span><span class="ch">\\</span><span class="st">&#39;s salary&quot;</span>=<span class="kw">c</span>(<span class="fl">95.3</span>, <span class="fl">100.5</span>),</span>
<span id="cb58-4"><a href="#cb58-4"></a>                 <span class="dt">check.names=</span><span class="ot">FALSE</span>) </span>
<span id="cb58-5"><a href="#cb58-5"></a>gchart &lt;-<span class="st"> </span><span class="kw">gvisColumnChart</span>(df, <span class="dt">options=</span><span class="kw">list</span>(<span class="dt">vAxis=</span><span class="st">&#39;{baseline:0}&#39;</span>, </span>
<span id="cb58-6"><a href="#cb58-6"></a>                            <span class="dt">title=</span><span class="st">&quot;Salary&quot;</span>,</span>
<span id="cb58-7"><a href="#cb58-7"></a>                            <span class="dt">legend=</span><span class="st">&quot;{position:&#39;bottom&#39;}&quot;</span>))</span>
<span id="cb58-8"><a href="#cb58-8"></a><span class="kw">plot</span>(gchart)</span></code></pre></div>
<!-- ColumnChart generated in R 4.0.2 by googleVis 0.6.6 package -->
<!-- Wed Jul  8 13:42:32 2020 -->
<!-- jsHeader -->
<script type="text/javascript">
 
// jsData 
function gvisDataColumnChartID63963ec2ef34 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"2009",
86.1,
95.3
],
[
"2010",
93.3,
100.5
] 
];
data.addColumn('string','Year');
data.addColumn('number','Alice\'s salary');
data.addColumn('number','Bob\'s salary');
data.addRows(datajson);
return(data);
}
 
// jsDrawChart
function drawChartColumnChartID63963ec2ef34() {
var data = gvisDataColumnChartID63963ec2ef34();
var options = {};
options["allowHtml"] = true;
options["vAxis"] = {baseline:0};
options["title"] = "Salary";
options["legend"] = {position:'bottom'};

    var chart = new google.visualization.ColumnChart(
    document.getElementById('ColumnChartID63963ec2ef34')
    );
    chart.draw(data,options);
    

}
  
 
// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "corechart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartColumnChartID63963ec2ef34);
})();
function displayChartColumnChartID63963ec2ef34() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}
 
// jsFooter
</script>
<!-- jsChart -->
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartColumnChartID63963ec2ef34"></script>
<!-- divChart -->
<div id="ColumnChartID63963ec2ef34" style="width: 500; height: automatic;">

</div>
</div>
<div id="how-can-i-change-the-look-and-feel-of-the-charts" class="section level2" number="14.7">
<h2 number="14.7"><span class="header-section-number">14.7</span> How can I change the look and feel of the charts?</h2>
<p>The charts have a lot of options which allow you to change the look and feel of the output, see the help files for more details. However, googleVis provides only an interface to the Google Charts API. If you have specific questions to the charts then please ask the <a href="https://groups.google.com/group/google-visualization-api">Google Visualisation API newsgroup</a>.</p>
<p>For frequent ask questions regarding the API check: <a href="https://developers.google.com/chart/interactive/faq" class="uri">https://developers.google.com/chart/interactive/faq</a>.</p>
</div>
<div id="is-it-possible-to-use-googlevis-in-corporate-work" class="section level2" number="14.8">
<h2 number="14.8"><span class="header-section-number">14.8</span> Is it possible to use googleVis in corporate work?</h2>
<p>Review the <a href="https://developers.google.com/terms/">Google Terms of Service</a> and get in touch with your colleagues in IT / Legal. If in doubt contact Google directly.</p>
</div>
</div>
<div id="bugs-and-issues" class="section level1" number="15">
<h1 number="15"><span class="header-section-number">15</span> Bugs and issues</h1>
<p>Should you find any issues or bugs with googleVis, then please drop us a line or add them to our issues list: (<a href="https://github.com/mages/googleVis/issues" class="uri">https://github.com/mages/googleVis/issues</a>)</p>
</div>
<div id="citation" class="section level1" number="16">
<h1 number="16"><span class="header-section-number">16</span> Citation</h1>
<p>Please cite googleVis if you use it in your work or publications:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a><span class="kw">citation</span>(<span class="st">&quot;googleVis&quot;</span>)</span></code></pre></div>
<pre><code>## 
## To cite the googleVis package in publications use:
## 
##   Markus Gesmann and Diego de Castillo. Using the Google Visualisation
##   API with R. The R Journal, 3(2):40-44, December 2011.
## 
## A BibTeX entry for LaTeX users is
## 
##   @Article{,
##     title = {googleVis: Interface between R and the Google Visualisation API},
##     author = {Markus Gesmann and Diego {de Castillo}},
##     journal = {The R Journal},
##     year = {2011},
##     volume = {3},
##     number = {2},
##     pages = {40--44},
##     month = {December},
##     url = {https://journal.r-project.org/archive/2011-2/RJournal_2011-2_Gesmann+de~Castillo.pdf},
##   }</code></pre>
</div>
<div id="references" class="section level1" number="17">
<h1 number="17"><span class="header-section-number">17</span> References</h1>
<div id="refs" class="references hanging-indent">
<div id="ref-Rsp">
<p>Bengtsson, Henrik. 2012. “R.rsp: R Server Pages.” <a href="https://CRAN.R-project.org/package=R.rsp">https://CRAN.R-project.org/package=R.rsp</a>.</p>
</div>
<div id="ref-Gapminder">
<p>Foundation, Gapminder. 2010. “Gapminder.” <a href="https://www.gapminder.org">https://www.gapminder.org</a>.</p>
</div>
<div id="ref-RJournal:2011-2:GesmannCastillo">
<p>Gesmann, Markus, and Diego de Castillo. 2011. “Using the Google Visualisation API with R.” <em>The R Journal</em> 3 (2): 40–44. <a href="https://journal.r-project.org/archive/2011-2/RJournal_2011-2_Gesmann+de~Castillo.pdf">https://journal.r-project.org/archive/2011-2/RJournal_2011-2_Gesmann+de~Castillo.pdf</a>.</p>
</div>
<div id="ref-googleVisTutorial">
<p>———. 2013. <em>GoogleVis Tutorial</em>. useR! 2013, University of Castilla-La Mancha, Albacete, Spain.</p>
</div>
<div id="ref-GoogleVisApi">
<p>Inc., Google. 2012a. “Google Chart Tools.” <a href="https://developers.google.com/chart/interactive/docs/gallery">https://developers.google.com/chart/interactive/docs/gallery</a>.</p>
</div>
<div id="ref-GoogleMotionChart">
<p>———. 2012b. “Google Motion Chart API.” <a href="https://developers.google.com/chart/interactive/docs/gallery/motionchart.html">https://developers.google.com/chart/interactive/docs/gallery/motionchart.html</a>.</p>
</div>
<div id="ref-GooglePublicData">
<p>———. 2012c. “Google Public Data Explorer.” <a href="https://www.google.com/publicdata/directory">https://www.google.com/publicdata/directory</a>.</p>
</div>
<div id="ref-DataTable">
<p>———. 2012d. “Google Visualisation Reference.” <a href="https://developers.google.com/chart/interactive/docs/reference">https://developers.google.com/chart/interactive/docs/reference</a>.</p>
</div>
<div id="ref-GoogleTerms">
<p>Inc, Google. 2012. “Google API Terms of Service.” <a href="https://developers.google.com/terms/">https://developers.google.com/terms/</a>.</p>
</div>
<div id="ref-json">
<p>JSON.org. 2006. “JSON.” <a href="https://www.json.org/">https://www.json.org/</a>.</p>
</div>
<div id="ref-jsonlite">
<p>Ooms, Jeroen. 2014. “The Jsonlite Package: A Practical and Consistent Mapping Between Json Data and R Objects.” <em>arXiv:1403.2805</em>. <a href="https://arxiv.org/abs/1403.2805">https://arxiv.org/abs/1403.2805</a>.</p>
</div>
<div id="ref-HansRoslingTedTalk">
<p>Rosling, Hans. 2006. “TED Talk: Hans Rosling Shows the Best Stats You’ve Ever Seen.” TED Talk; <a href="https://www.ted.com/talks/hans_rosling_shows_the_best_stats_you_ve_ever_seen.html">https://www.ted.com/talks/hans_rosling_shows_the_best_stats_you_ve_ever_seen.html</a>.</p>
</div>
<div id="ref-Saaibi2010">
<p>Saaibi, Sebastián Pérez. 2010. <em>R/RMETRICS Generator Tool for Google Motion Charts</em>. https://www.rmetrics.org/.</p>
</div>
<div id="ref-slidify">
<p>Vaidyanathan, Ramnath. 2012. <em>Slidify: Generate Reproducible Html5 Slides from R Markdown</em>. <a href="https://ramnathv.github.com/slidify/">https://ramnathv.github.com/slidify/</a>.</p>
</div>
<div id="ref-knitr">
<p>Xie, Yihui. 2013. <em>Knitr: A General-Purpose Package for Dynamic Report Generation in R</em>. <a href="https://CRAN.R-project.org/package=knitr">https://CRAN.R-project.org/package=knitr</a>.</p>
</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p><a href="https://developers.google.com/chart/interactive/docs/gallery/linechart#data-policy">Data Policy</a><a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>See <code>demo(package="googleVis")</code> for a list of the available demos<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
