<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Simulate a Random Transaction Data Set</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for random.transactions {arules}"><tr><td>random.transactions {arules}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Simulate a Random Transaction Data Set</h2>

<h3>Description</h3>

<p>Simulates a random <code><a href="transactions-class.html">transactions</a></code> object using different
methods.
</p>


<h3>Usage</h3>

<pre>
random.transactions(nItems, nTrans, method = "independent", ...,
	verbose = FALSE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>nItems</code></td>
<td>
<p>an integer. Number of items.</p>
</td></tr>
<tr valign="top"><td><code>nTrans</code></td>
<td>
<p>an integer. Number of transactions.</p>
</td></tr>
<tr valign="top"><td><code>method</code></td>
<td>
<p>name of the simulation method used (default: 
all items occur independently).</p>
</td></tr>  
<tr valign="top"><td><code>...</code></td>
<td>
<p>further arguments used for the specific simulation 
method (see details).</p>
</td></tr>
<tr valign="top"><td><code>verbose</code></td>
<td>
<p>report progress.</p>
</td></tr> 
</table>


<h3>Details</h3>

<p>The function generates a <code>nitems</code> times <code>ntrans</code> 
transaction database.
</p>
<p>Currently two simulation methods are implemented:
</p>

<dl>
<dt>method <code>"independent"</code> (see Hahsler et al., 2006)</dt><dd>
<p>All items are treated as independent. The transaction size
is determined by <i>rpois(lambda-1)+1</i>, where <code>lambda</code> can
be specified (defaults to 3). Note that one subtracted from lambda 
and added to the size to avoid 
empty transactions. The items in the transactions are randomly
chosen using the numeric probability
vector <code>iProb</code> of length <code>nItems</code> 
(default: 0.01 for each item).
</p>
</dd>
<dt>method <code>"agrawal"</code> (see Agrawal and Srikant, 1994)</dt><dd>
<p>This method creates transactions with correlated items 
uses the following additional parameters:
</p>

<dl>
<dt>lTrans</dt><dd><p>average length of transactions.</p>
</dd> 
<dt>nPats</dt><dd><p>number of patterns (potential maximal frequent itemsets) 
used.</p>
</dd> 
<dt>lPats</dt><dd><p>average length of patterns.</p>
</dd> 
<dt>corr</dt><dd><p>correlation between consecutive patterns.</p>
</dd> 
<dt>cmean</dt><dd><p>mean of the corruption level (normal distr.).</p>
</dd> 
<dt>cvar</dt><dd><p>variance of the corruption level.</p>
</dd> 
</dl>
  
<p>The simulation is a two-stage process. First, a set of
<code>nPats</code> patterns
(potential maximal frequent itemsets) is generated. 
The length of the patterns is Poisson distributed with mean
<code>lPats</code> and consecutive patterns share some items controlled by
the correlation parameter <code>corr</code>.
For later use, for each pattern a pattern weight is 
generated by drawing 
from an exponential distribution with a mean of 1 and
a corruption level is chosen from a normal distribution 
with mean <code>cmean</code> and variance <code>cvar</code>.
</p>
<p>The patterns are created using the following function:
</p>
<p><code>random.patterns(nItems, nPats = 2000,  method = "agrawal", lPats = 4, corr = 0.5, cmean = 0.5, cvar = 0.1, iWeight = NULL, verbose = FALSE)</code>
</p>
<p>The function returns the patterns as an <code>itemsets</code> objects which can 
be supplied to <code>random.transactions</code> as the argument <code>patterns</code>.
If no argument <code>patterns</code> is supplied, the default values given above
are used.
</p>
<p>In the second step, the transactions are generated using the patterns.
The length the transactions follows a Poisson 
distribution with mean <code>lPats</code>. For each transaction, patterns are 
randomly chosen using the pattern weights till the transaction length
is reached. For each chosen 
pattern, the associated corruption level is used to drop some
items before adding the pattern to the transaction.
</p>
</dd>
</dl>



<h3>Value</h3>

<p>Returns an object of class
<code><a href="transactions-class.html">transactions</a></code>.
</p>


<h3>Author(s)</h3>

<p>Michael Hahsler</p>


<h3>References</h3>

<p>Michael Hahsler, Kurt Hornik, and Thomas Reutterer (2006). Implications of
probabilistic data modeling for mining association rules. In M. Spiliopoulou,
R. Kruse, C. Borgelt, A. Nuernberger, and W. Gaul, editors, <em>From Data and
Information Analysis to Knowledge Engineering, Studies in Classification, Data
Analysis, and Knowledge Organization</em>, pages 598&ndash;605. Springer-Verlag.
</p>
<p>Rakesh Agrawal and Ramakrishnan Srikant (1994). Fast algorithms for mining
association rules in large databases. In Jorge B. Bocca, Matthias Jarke, and
Carlo Zaniolo, editors,  <em>Proceedings of the 20th International Conference
on Very Large Data Bases, VLDB</em>, pages 487&ndash;499, Santiago, Chile.
</p>


<h3>See Also</h3>

<p><code><a href="transactions-class.html">transactions-class</a></code>.
</p>


<h3>Examples</h3>

<pre>
## generate random 1000 transactions for 200 items with 
## a success probability decreasing from 0.2 to 0.0001
## using the method described in Hahsler et al. (2006).
trans &lt;- random.transactions(nItems = 200, nTrans = 1000, 
   lambda = 5, iProb = seq(0.2,0.0001, length=200))

## size distribution
summary(size(trans))

## display random data set
image(trans)

## use the method by Agrawal and Srikant (1994) to simulate transactions 
## which contains correlated items. This should create data similar to
## T10I4D100K (we just create 100 transactions here to speed things up).
patterns &lt;- random.patterns(nItems = 1000)
summary(patterns)

trans2 &lt;- random.transactions(nItems = 1000, nTrans = 100, 
   method = "agrawal", patterns = patterns)
image(trans2) 

## plot data with items ordered by item frequency
image(trans2[,order(itemFrequency(trans2), decreasing=TRUE)])
</pre>

<hr /><div style="text-align: center;">[Package <em>arules</em> version 1.6-1 <a href="00Index.html">Index</a>]</div>
</body></html>
