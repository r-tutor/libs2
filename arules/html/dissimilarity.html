<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Dissimilarity Computation</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for dissimilarity {arules}"><tr><td>dissimilarity {arules}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Dissimilarity Computation</h2>

<h3>Description</h3>

<p>Provides the generic function <code>dissimilarity</code> and the S4 methods to
compute and returns distances for binary data in a <code>matrix</code>,
<code><a href="transactions-class.html">transactions</a></code> or <code><a href="associations-class.html">associations</a></code> which 
can be used for grouping and clustering. See Hahsler (2016)
for an introduction to distance-based
clustering of association rules.
</p>


<h3>Usage</h3>

<pre>
dissimilarity(x, y = NULL, method = NULL, args = NULL, ...)

## S4 method for signature 'itemMatrix'
dissimilarity(x, y = NULL, method = NULL, args = NULL,
	which = "transactions")

## S4 method for signature 'associations'
dissimilarity(x, y = NULL, method = NULL, args = NULL,
	which = "associations")

## S4 method for signature 'matrix'
dissimilarity(x, y = NULL, method = NULL, args = NULL)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p> the set of elements (e.g., <code>matrix, itemMatrix, transactions, 
    itemsets, rules</code>). </p>
</td></tr>
<tr valign="top"><td><code>y</code></td>
<td>
 <p><code>NULL</code> or a second set to calculate cross dissimilarities. </p>
</td></tr>
<tr valign="top"><td><code>method</code></td>
<td>
<p> the distance measure to be used. Implemented measures
are (defaults to <code>"jaccard"</code>):
</p>

<dl>
<dt><code>"affinity"</code>:</dt><dd><p> measure based on 
the <code><a href="affinity.html">affinity</a></code>,
a similarity measure between items. It is defined as the
average <em>affinity</em> between the items in two transactions 
(see Aggarwal et al. (2002)). If <code>x</code> is not the
full transaction set <code>args</code> needs to contain
either precalculated affinities as element <code>"affinities"</code> or
the transaction set as <code>"transactions"</code>.</p>
</dd>
<dt><code>"cosine"</code>:</dt><dd><p> the <em>cosine</em> distance.</p>
</dd> 
<dt><code>"dice"</code>:</dt><dd><p> the <em>Dice's coefficient</em> defined
by Dice (1945). Similar to <em>Jaccard</em> but gives double the
weight to agreeing items.</p>
</dd>
<dt><code>"euclidean"</code>:</dt><dd><p> the <em>euclidean</em> distance.</p>
</dd> 
<dt><code>"jaccard"</code>:</dt><dd><p> the number of items which occur in both 
elements divided by the total number of items in the 
elements (Sneath, 1957). 
This measure is often 
also called: <em>binary, asymmetric binary,</em> etc. </p>
</dd>
<dt><code>"matching"</code>:</dt><dd><p> the <em>Matching coefficient</em> defined
by Sokal and Michener (1958). This coefficient gives the same
weight to presents and absence of items.</p>
</dd>
<dt><code>"pearson"</code>:</dt><dd> <p><i>1 - r</i> if <i>r&gt;1</i> and 
<i>1</i> otherwise. <i>r</i> is <em>Pearson's correlation 
coefficient</em>.</p>
</dd> 
<dt><code>"phi"</code>:</dt><dd><p> same as pearson. Pearson's correlation
coefficient reduces to the phi coefficient for the 2x2 contingency 
tables used here.</p>
</dd> 
</dl>

<p>For associations the following additional measures are available:
</p>

<dl>
<dt><code>"toivonen"</code>:</dt><dd><p>Method described in Toivonen et al. (1995).
For rules this measure is only defined between rules with
the same consequent.
The distance between two rules is defined as the number of 
transactions which is 
covered by only one of the two rules.
The transactions used to mine the associations has to be passed on
via <code>args</code> as element <code>"transactions"</code>.</p>
</dd>
<dt><code>"gupta"</code>:</dt><dd><p>Method described in Gupta et al. (1999).
The distance between two rules is defined as 1 minus the
proportion of transactions which are covered by both
rules in the transactions covered by each rule individually.
The transactions used to mine the associations has to be passed on
via <code>args</code> as element <code>"transactions"</code>.</p>
</dd>
</dl>

</td></tr>
<tr valign="top"><td><code>args</code></td>
<td>
<p> a list of additional arguments for the methods.</p>
</td></tr>  
<tr valign="top"><td><code>which</code></td>
<td>
<p>a character string indicating if the dissimilarity should be 
calculated between transactions/associations (default) 
or items (use <code>"items"</code>). </p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>further arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns an object of class <code>dist</code>.
</p>


<h3>Author(s)</h3>

<p>Michael Hahsler</p>


<h3>References</h3>

<p>Aggarwal, C.C., Cecilia Procopiuc, and Philip S. Yu. (2002)
Finding localized associations in market basket data.
<em>IEEE Trans. on Knowledge and Data Engineering</em> 14(1):51&ndash;62.
</p>
<p>Dice, L. R. (1945) Measures of the amount of ecologic association 
between species. <em>Ecology</em> 26, pages 297&ndash;302.
</p>
<p>Gupta, G., Strehl, A., and Ghosh, J. (1999) Distance based clustering 
of association rules. <em>In Intelligent Engineering 
Systems Through Artificial Neural Networks (Proceedings 
of ANNIE 1999)</em>, pages 759-764. ASME Press.
</p>
<p>Hahsler, M. (2016) Grouping association rules using lift. In C. 
Iyigun, R. Moghaddess, and A. Oztekin, editors, 11th INFORMS Workshop 
on Data Mining and Decision Analytics (DM-DA 2016).
</p>
<p>Sneath, P. H. A. (1957) Some thoughts on bacterial classification. 
<em>Journal of General Microbiology</em> 17, pages 184&ndash;200.
</p>
<p>Sokal, R. R. and Michener, C. D. (1958) A statistical method for evaluating 
systematic relationships. <em>University of Kansas Science Bulletin</em> 38, 
pages 1409&ndash;1438.
</p>
<p>Toivonen, H., Klemettinen, M., Ronkainen, P., 
Hatonen, K. and Mannila H. (1995) Pruning and grouping discovered
association rules. <em>In Proceedings of KDD'95</em>.
</p>


<h3>See Also</h3>

<p><code><a href="affinity.html">affinity</a></code>,
<code><a href="proximity-classes.html">dist-class</a></code>,
<code><a href="itemMatrix-class.html">itemMatrix-class</a></code>,
<code><a href="associations-class.html">associations-class</a></code>.
</p>


<h3>Examples</h3>

<pre>
## cluster items in Groceries with support &gt; 5%
data("Groceries")

s &lt;- Groceries[,itemFrequency(Groceries)&gt;0.05]
d_jaccard &lt;- dissimilarity(s, which = "items")
plot(hclust(d_jaccard, method = "ward.D2"), main = "Dendrogram for items")

## cluster transactions for a sample of Adult
data("Adult")
s &lt;- sample(Adult, 500) 

##  calculate Jaccard distances and do hclust
d_jaccard &lt;- dissimilarity(s)
hc &lt;- hclust(d_jaccard, method = "ward.D2")
plot(hc, labels = FALSE, main = "Dendrogram for Transactions (Jaccard)")

## get 20 clusters and look at the difference of the item frequencies (bars) 
## for the top 20 items) in cluster 1 compared to the data (line) 
assign &lt;- cutree(hc, 20)
itemFrequencyPlot(s[assign==1], population=s, topN=20)

## calculate affinity-based distances between transactions and do hclust
d_affinity &lt;- dissimilarity(s, method = "affinity")
hc &lt;- hclust(d_affinity, method = "ward.D2")
plot(hc, labels = FALSE, main = "Dendrogram for Transactions (Affinity)")

## cluster association rules
rules &lt;- apriori(Adult, parameter=list(support=0.3))
rules &lt;- subset(rules, subset = lift &gt; 2)

## use affinity to cluster rules
## Note: we need to supply the transactions (or affinities) from the 
## dataset (sample).
d_affinity &lt;- dissimilarity(rules, method = "affinity", 
  args = list(transactions = s))
hc &lt;- hclust(d_affinity, method = "ward.D2")
plot(hc, main = "Dendrogram for Rules (Affinity)") 

## create 4 groups and inspect the rules in the first group.
assign &lt;- cutree(hc, k = 3)
inspect(rules[assign == 1])
</pre>

<hr /><div style="text-align: center;">[Package <em>arules</em> version 1.6-1 <a href="00Index.html">Index</a>]</div>
</body></html>
