<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Class itemMatrix - Sparse Binary Incidence Matrix to...</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for itemMatrix-class {arules}"><tr><td>itemMatrix-class {arules}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Class itemMatrix &mdash; Sparse Binary Incidence Matrix to Represent Sets
of Items</h2>

<h3>Description</h3>

<p>The <code>itemMatrix</code> class is the basic building block
for transactions, itemsets and rules in package <span class="pkg">arules</span>. 
The class contains a sparse Matrix representation of items (a set of
itemsets or transactions) and the corresponding item labels.
</p>


<h3>Details</h3>

<p>Sets of itemsets are represented as sparse binary matrices.
If you work with several itemMatrices at the same time (e.g.,
several transaction sets, lhs and rhs of a rule, etc.),
then the encoding (itemLabes and order of the items in the binary matrix) 
in the different itemMatrices is important and needs to conform.
See <code><a href="itemCoding.html">itemCoding</a></code> to learn how to encode and recode itemMatrix objects.
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>new("itemMatrix",
    ...)</code>.
However, most of the time objects will be created by coercion from a
matrix, list or data.frame.
</p>


<h3>Slots</h3>


<dl>
<dt><code>data</code>:</dt><dd><p>Object of class
<code><a href="../../Matrix/html/ngCMatrix-class.html">ngCMatrix</a></code> 
(from package <span class="pkg">Matrix</span>) which stores 
item occurrences in sparse representation.  Note that the 
<code>ngCMatrix</code> is column-oriented and <code>itemMatrix</code> is
row-oriented with each row representing an element (an itemset, a
transaction, etc.).  As a result, the <code>ngCMatrix</code> in this
slot is always a transposed version of the binary incidence matrix
in <code>itemMatrix</code>.
</p>
</dd>
<dt><code>itemInfo</code>:</dt><dd><p>a data.frame which
contains named vectors of the length equal to the number of
elements in the set.  If the slot is not empty (contains no item
labels), the first element in the data.frame must have the
name <code>"labels"</code> and contain a character vector with the item
labels used for representing an item.  In addition to the item
labels, the data.frame can contain arbitrary named vectors
(of the same length) to represent, e.g., variable names and values
which were used to create the binary items or hierarchical
category information associated with each item label.  





</p>
</dd>
<dt><code>itemsetInfo</code>:</dt><dd><p>a data.frame which may contain additional 
information for the rows (mostly representing itemsets) in the matrix. 
</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt>coerce</dt><dd><p><code>signature(from = "matrix", to = "itemMatrix")</code>;
expects <code>from</code> to be a binary matrix only containing 0s and 1s.</p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "itemMatrix", to = "matrix")</code>; coerces
to a dense 0-1 matrix of <code>storage.mode</code> <code>"integer"</code> instead of 
<code>"double"</code> to save memory.</p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "list", to = "itemMatrix")</code>;
<code>from</code> is a list of vectors. Each vector contains one 
set/transaction/....</p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "itemMatrix", to = "list")</code>; see also
the methods for <code>LIST</code>.</p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "itemMatrix", to = "ngCMatrix")</code>;
access the sparse matrix representation. Note, the <code>ngCMatrix</code> 
contains a transposed from of the itemMatrix.</p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "ngCMatrix", to = "itemMatrix")</code>;
Note, the <code>ngCMatrix</code> has to be transposed with items as rows!</p>
</dd>
<dt>c</dt><dd><p><code>signature(object = "itemMatrix")</code>; combine. </p>
</dd>
<dt>dim</dt><dd><p><code>signature(x = "itemMatrix")</code>;
returns the dimensions of the itemMatrix.</p>
</dd>
<dt>dimnames, rownames, colnames</dt><dd><p><code>signature(x = "itemMatrix")</code>;
returns row (itemsetID) and column (item) names.</p>
</dd>
<dt>dimnames</dt><dd><p><code>signature(x = "itemMatrix")</code>;
returns dimnames.</p>
</dd>
<dt>dimnames&lt;-</dt><dd><p><code>signature(x = "itemMatrix", value = "list")</code>;
replace dimnames.</p>
</dd>
<dt>%in%</dt><dd><p><code>signature(x = "itemMatrix", table = "character")</code>;
matches the strings in <code>table</code> against the item labels 
in <code>x</code> and returns a logical vector indicating if
a row (itemset) in <code>x</code> contains <em>any</em> of the
items specified in <code>table</code>.
Note that there is a <code>%in%</code> method with 
<code>signature(x = "itemMatrix", table = "character")</code>. This method is
described in together with <code><a href="match.html">match</a></code>.</p>
</dd>
<dt>%ain%</dt><dd><p><code>signature(x = "itemMatrix", table = "character")</code>; 
matches the strings in <code>table</code> against the item labels 
in <code>x</code> and returns a logical vector indicating if
a row (itemset) in <code>x</code> contains <em>all</em> of the
items specified in <code>table</code>.</p>
</dd>
<dt>%oin%</dt><dd><p><code>signature(x = "itemMatrix", table = "character")</code>; 
matches the strings in <code>table</code> against the item labels 
in <code>x</code> and returns a logical vector indicating if
a row (itemset) in <code>x</code> contains <em>only</em>
items specified in <code>table</code>.</p>
</dd>
<dt>%pin%</dt><dd><p><code>signature(x = "itemMatrix", table = "character")</code>; 
matches the strings in <code>table</code> against the item labels 
in <code>x</code> (using <em>partial</em> matching) and returns a 
logical vector indicating if
a row (itemset) in <code>x</code> contains <em>any</em> of the
items specified in <code>table</code>.</p>
</dd>
<dt>itemLabels</dt><dd><p><code>signature(object = "itemMatrix")</code>;
returns the item labels used for encoding as a character vector.</p>
</dd>
<dt>itemLabels&lt;-</dt><dd><p><code>signature(object = "itemMatrix")</code>;
replaces the item labels used for encoding.</p>
</dd>
<dt>itemInfo</dt><dd><p><code>signature(object = "itemMatrix")</code>;
returns the whole item/column information data.frame including
labels.</p>
</dd>
<dt>itemInfo&lt;-</dt><dd><p><code>signature(object = "itemMatrix")</code>;
replaces the item/column info by a data.frame.</p>
</dd>
<dt>itemsetInfo</dt><dd><p><code>signature(object = "itemMatrix")</code>;
returns the item set/row information data.frame.</p>
</dd>
<dt>itemsetInfo&lt;-</dt><dd><p><code>signature(object = "itemMatrix")</code>;
replaces the item set/row info by a data.frame.</p>
</dd>
<dt>labels</dt><dd><p><code>signature(x = "transactions")</code>;
returns labels for the itemsets. The following arguments can 
be used to customize the representation of the labels: 
<code>itemSep</code>, 
<code>setStart</code> and 
<code>setEnd</code>.</p>
</dd>
<dt>nitems</dt><dd><p><code>signature(x = "itemMatrix")</code>; returns the number 
of items (number in columns) in the itemMatrix.</p>
</dd>
<dt>show</dt><dd><p><code>signature(object = "itemMatrix")</code></p>
</dd>
<dt>summary</dt><dd><p><code>signature(object = "itemMatrix")</code></p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Michael Hahsler</p>


<h3>See Also</h3>

<p><code><a href="LIST.html">LIST</a></code>,
<code><a href="combine.html">c</a></code>,
<code><a href="duplicated.html">duplicated</a></code>,
<code><a href="inspect.html">inspect</a></code>,
<code><a href="is.superset.html">is.subset</a></code>,
<code><a href="is.superset.html">is.superset</a></code>,
<code><a href="itemFrequency.html">itemFrequency</a></code>,
<code><a href="itemFrequencyPlot.html">itemFrequencyPlot</a></code>,
<code><a href="itemCoding.html">itemCoding</a></code>,
<code><a href="match.html">match</a></code>,
<code><a href="length.html">length</a></code>,
<code><a href="sets.html">sets</a></code>,
<code><a href="subset.html">subset</a></code>,
<code><a href="unique.html">unique</a></code>,
<code><a href="Xtrct-methods.html">[-methods</a></code>,
<code><a href="image.html">image</a></code>,
<code><a href="../../Matrix/html/ngCMatrix-class.html">ngCMatrix-class</a></code> 
(from <span class="pkg">Matrix</span>),
<code><a href="transactions-class.html">transactions-class</a></code>,
<code><a href="itemsets-class.html">itemsets-class</a></code>,
<code><a href="rules-class.html">rules-class</a></code>
</p>


<h3>Examples</h3>

<pre>
set.seed(1234)
  
## Generate random data and coerce data to itemMatrix.
m &lt;- matrix(runif(100000)&gt;0.8, ncol=20)
dimnames(m) &lt;- list(NULL, paste("item", c(1:20), sep=""))
i &lt;- as(m, "itemMatrix")

## Get the number of elements (rows) in the itemMatrix.
length(i)

## Get first 5 elements (rows) of the itemMatrix as list.
as(i[1:5], "list")

## Get first 5 elements (rows) of the itemMatrix as matrix.
as(i[1:5], "matrix")

## Get first 5 elements (rows) of the itemMatrix as sparse ngCMatrix.
## Warning: for efficiency reasons, the ngCMatrix you get is transposed!
as(i[1:5], "ngCMatrix")

## Get labels for the first 5 itemsets (first default and then with 
## custom formating)
labels(i[1:5])
labels(i[1:5], itemSep = " + ", setStart = "", setEnd = "")

## create itemsets from itemMatrix  
is &lt;- new("itemsets", items = i[1:3])
inspect(is)

## create rules (rhs and lhs cannot share items so I use 
## itemSetdiff here). Also assign (random) support.
rules &lt;- new("rules", lhs=itemSetdiff(i[4:6],i[1:3]), rhs=i[1:3],
  quality = data.frame(support = runif(3)))
inspect(rules) 
</pre>

<hr /><div style="text-align: center;">[Package <em>arules</em> version 1.6-1 <a href="00Index.html">Index</a>]</div>
</body></html>
