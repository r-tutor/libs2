<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Item Coding - Conversion between Item Labels and Column IDs</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for itemCoding {arules}"><tr><td>itemCoding {arules}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Item Coding &mdash; Conversion between Item Labels and Column IDs</h2>

<h3>Description</h3>

<p>Provides the generic functions and the S4 methods to translate between the binary representation in the itemMatrix format (used in transactions, rules and itemsets), item labels and numeric item IDs (i.e., the column numbers in the binary representation).
</p>


<h3>Usage</h3>

<pre>
encode(x, ...)
## S4 method for signature 'list'
encode(x, itemLabels, itemMatrix = TRUE)
## S4 method for signature 'character'
encode(x, itemLabels, itemMatrix = TRUE)
## S4 method for signature 'numeric'
encode(x, itemLabels, itemMatrix = TRUE)

recode(x, ...)
## S4 method for signature 'itemMatrix'
recode(x, itemLabels = NULL, match = NULL)

decode(x, ...)
## S4 method for signature 'list'
decode(x, itemLabels)
## S4 method for signature 'numeric'
decode(x, itemLabels)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p> a vector or a list of vectors of character strings 
(for <code>encode</code>) or of numeric (for <code>decode</code>), or
an object of class <code>itemMatrix</code> (for <code>recode</code>).</p>
</td></tr>
<tr valign="top"><td><code>itemLabels</code></td>
<td>
<p>a vector of character strings used for coding where 
the position of an item label in the vector gives the item's column ID.  
The used <code>itemLabels</code> vector can be obtained from <code>itemMatrix</code>,  
<code>transactions</code> and <code>associations</code> by the 
method <code>itemLabels</code>.</p>
</td></tr>
<tr valign="top"><td><code>itemMatrix</code></td>
<td>
<p>return an object of class <code>itemMatrix</code> otherwise
an object of the same class as <code>x</code> is returned.</p>
</td></tr>
<tr valign="top"><td><code>match</code></td>
<td>
<p>an <code>itemMatrix</code> object whose item coding <code>x</code> 
should match.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>further arguments.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>encode</code> converts from readable item labels to an itemMatrix using a
given coding. With this method it is possible to create several compatible
<code>itemMatrix</code> objects (i.e., use the same binary representation for
items) from data.
</p>
<p><code>recode</code> recodes an itemMatrix object so its coding is compatible
with another itemMatrix object specified in <code>match</code> (i.e., the colums are reordered to match).
</p>
<p><code>decode</code> converts from the colun IDs used in the temMatrix representation to
item labels. <code>decode</code> is used by <code><a href="LIST.html">LIST</a></code>.
</p>


<h3>Value</h3>

<p><code>recode</code> always returns an object
of class <code>itemMatrix</code>.
</p>
<p>For <code>encode</code> with <code>itemMatrix = TRUE</code> an object
of class <code>itemMatrix</code> is returned.
Otherwise the result is of the same type as <code>x</code>, e.g., a
list or a vector.
</p>


<h3>Author(s)</h3>

<p>Michael Hahsler</p>


<h3>See Also</h3>

<p><code><a href="LIST.html">LIST</a></code>,
<code><a href="associations-class.html">associations-class</a></code>,
<code><a href="itemMatrix-class.html">itemMatrix-class</a></code>
</p>


<h3>Examples</h3>

<pre>
data("Adult")

## Example 1: Manual decoding
## get code
iLabels &lt;- itemLabels(Adult)
head(iLabels)

## get undecoded list and decode in a second step
list &lt;- LIST(Adult[1:5], decode = FALSE)
list

decode(list, itemLabels = iLabels)

## Example 2: Manually create an itemMatrix 
data &lt;- list(
    c("income=small", "age=Young"),
    c("income=large", "age=Middle-aged")
    )

iM &lt;- encode(data, iLabels)
iM

inspect(iM)

## use the itemMatrix to create transactions
as(iM, "transactions")


## Example 3: use recode
## select first 100 transactions and all education-related items
sub &lt;- Adult[1:100, itemInfo(Adult)$variables ==  "education"]
itemLabels(sub)
image(sub)

## recode to match Adult again
sub.recoded &lt;- recode(sub, match = Adult)
image(sub.recoded)

## Example 4: manually create 2 new transaction for the Adult data set
##            Note: check itemLabels(Adult) to see the available labels for items
twoTransactions &lt;- as(encode(list(
    c("age=Young", "relationship=Unmarried"), 
    c("age=Senior")
  ), itemLabels = itemLabels(Adult)),
  "transactions")

inspect(twoTransactions)

## Example 5: manually create a rule and calculate interest measures
aRule &lt;- new("rules", 
  lhs = encode(list(c("age=Young", "relationship=Unmarried")), 
    itemLabels = itemLabels(Adult)),
  rhs = encode(list(c("income=small")), 
    itemLabels = itemLabels(Adult))
)

quality(aRule) &lt;- interestMeasure(aRule, 
  measure = c("support", "confidence", "lift"), transactions = Adult)

inspect(aRule)
</pre>

<hr /><div style="text-align: center;">[Package <em>arules</em> version 1.6-6 <a href="00Index.html">Index</a>]</div>
</body></html>
