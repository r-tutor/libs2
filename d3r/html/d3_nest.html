<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Convert a 'data.frame' to a 'd3.js' Hierarchy</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for d3_nest {d3r}"><tr><td>d3_nest {d3r}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Convert a <code>data.frame</code> to a 'd3.js' Hierarchy</h2>

<h3>Description</h3>

<p>Convert a <code>data.frame</code> to a 'd3.js' Hierarchy
</p>


<h3>Usage</h3>

<pre>
d3_nest(data = NULL, value_cols = character(), root = "root",
  json = TRUE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>data</code></td>
<td>
<p><code>data.frame</code> or <code>data.frame</code> derivative, such
as <code>tibble</code></p>
</td></tr>
<tr valign="top"><td><code>value_cols</code></td>
<td>
<p><code>character</code> vector with the names of the
columns to use as data</p>
</td></tr>
<tr valign="top"><td><code>root</code></td>
<td>
<p><code>character</code> name of the root level of the hierarchy</p>
</td></tr>
<tr valign="top"><td><code>json</code></td>
<td>
<p><code>logical</code> to return as <code>JSON</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>nested <code>data.frame</code>
</p>


<h3>Examples</h3>

<pre>
# convert Titanic to a nested d3 hierarchy

# devtools::install_github("timelyportfolio/d3r")
library(d3r)
library(dplyr)

titanic_df &lt;- data.frame(Titanic)
tit_tb &lt;- titanic_df %&gt;%
  select(Class,Age,Survived,Sex,Freq) %&gt;%
  d3_nest(value_cols="Freq", root="titanic")

tit_tb

# see as tibble
titanic_df %&gt;%
  select(Class,Age,Survived,Sex,Freq) %&gt;%
  d3_nest(value_cols="Freq", root="titanic", json=FALSE)

# see the structure with listviewer
tit_tb %&gt;%
  listviewer::jsonedit()
## Not run: 
  library(treemap)
  library(d3r)
  library(dplyr)
  library(tidyr)

  treemap::random.hierarchical.data() %&gt;%
    d3_nest(value_cols = "x")

  # use example from ?treemap
  data(GNI2014)
  treemap(
    GNI2014,
    index=c("continent", "iso3"),
    vSize="population",
    vColor="GNI",
    type="value",
    draw=FALSE
  ) %&gt;%
    {.$tm} %&gt;%
    select(continent,iso3,color,vSize) %&gt;%
    d3_nest(value_cols = c("color", "vSize"))

## End(Not run)
</pre>

<hr /><div style="text-align: center;">[Package <em>d3r</em> version 0.8.6 <a href="00Index.html">Index</a>]</div>
</body></html>
