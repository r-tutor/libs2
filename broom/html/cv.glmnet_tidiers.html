<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Tidiers for glmnet cross-validation objects</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for cv.glmnet_tidiers {broom}"><tr><td>cv.glmnet_tidiers {broom}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Tidiers for glmnet cross-validation objects</h2>

<h3>Description</h3>

<p>Tidying methods for cross-validation performed by <code>glmnet.cv</code>,
summarizing the mean-squared-error across choices of the penalty parameter
lambda.
</p>


<h3>Usage</h3>

<pre>
## S3 method for class 'cv.glmnet'
tidy(x, ...)

## S3 method for class 'cv.glmnet'
glance(x, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>a &quot;cv.glmnet&quot; object</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>extra arguments (not used)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>No <code>augment</code> method exists for this class.
</p>


<h3>Value</h3>

<p>All tidying methods return a data.frame without rownames, whose
structure depends on the method chosen.
</p>
<p><code>tidy</code> produces a data.frame with one row per choice of lambda,
with columns
</p>
<table summary="R valueblock">
<tr valign="top"><td><code>lambda</code></td>
<td>
<p>penalty parameter lambda</p>
</td></tr>
<tr valign="top"><td><code>estimate</code></td>
<td>
<p>estimate (median) of mean-squared error or other
criterion</p>
</td></tr>
<tr valign="top"><td><code>std.error</code></td>
<td>
<p>standard error of criterion</p>
</td></tr>
<tr valign="top"><td><code>conf.high</code></td>
<td>
<p>high end of confidence interval on criterion</p>
</td></tr>
<tr valign="top"><td><code>conf.low</code></td>
<td>
<p>low end of confidence interval on criterion</p>
</td></tr>
<tr valign="top"><td><code>nzero</code></td>
<td>
<p>number of parameters that are zero at this choice of lambda</p>
</td></tr>
</table>
<p><code>glance</code> returns a one-row data.frame with the values
</p>
<table summary="R valueblock">
<tr valign="top"><td><code>nulldev</code></td>
<td>
<p>null deviance</p>
</td></tr>
<tr valign="top"><td><code>npasses</code></td>
<td>
<p>total passes over the data across all lambda values</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre>

if (require("glmnet", quietly = TRUE)) {
    set.seed(2014)

    nobs &lt;- 100
    nvar &lt;- 50
    real &lt;- 5
    
    x &lt;- matrix(rnorm(nobs * nvar), nobs, nvar)
    beta &lt;- c(rnorm(real, 0, 1), rep(0, nvar - real))
    y &lt;- c(t(beta) %*% t(x)) + rnorm(nvar, sd = 3)
    
    cvfit1 &lt;- cv.glmnet(x,y)
    
    head(tidy(cvfit1))
    glance(cvfit1)
    
    library(ggplot2)
    tidied_cv &lt;- tidy(cvfit1)
    glance_cv &lt;- glance(cvfit1)
    
    # plot of MSE as a function of lambda
    g &lt;- ggplot(tidied_cv, aes(lambda, estimate)) + geom_line() + scale_x_log10()
    g
    
    # plot of MSE as a function of lambda with confidence ribbon
    g &lt;- g + geom_ribbon(aes(ymin = conf.low, ymax = conf.high), alpha = .25)
    g
    
    # plot of MSE as a function of lambda with confidence ribbon and choices
    # of minimum lambda marked
    g &lt;- g + geom_vline(xintercept = glance_cv$lambda.min) +
        geom_vline(xintercept = glance_cv$lambda.1se, lty = 2)
    g
    
    # plot of number of zeros for each choice of lambda
    ggplot(tidied_cv, aes(lambda, nzero)) + geom_line() + scale_x_log10()
    
    # coefficient plot with min lambda shown
    tidied &lt;- tidy(cvfit1$glmnet.fit)
    ggplot(tidied, aes(lambda, estimate, group = term)) + scale_x_log10() +
        geom_line() +
        geom_vline(xintercept = glance_cv$lambda.min) +
        geom_vline(xintercept = glance_cv$lambda.1se, lty = 2)
}

</pre>

<hr /><div style="text-align: center;">[Package <em>broom</em> version 0.4.5 <a href="00Index.html">Index</a>]</div>
</body></html>
