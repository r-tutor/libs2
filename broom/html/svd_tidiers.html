<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Tidying methods for singular value decomposition</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for svd_tidiers {broom}"><tr><td>svd_tidiers {broom}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Tidying methods for singular value decomposition</h2>

<h3>Description</h3>

<p>These methods tidy the U, D, and V matrices returned by the
<code><a href="../../base/html/svd.html">svd</a></code> function into a tidy format. Because
<code>svd</code> returns a list without a class, this function has to be
called by <code><a href="list_tidiers.html">tidy.list</a></code> when it recognizes a list as an
SVD object.
</p>


<h3>Usage</h3>

<pre>
tidy_svd(x, matrix = "u", ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>list containing d, u, v components, returned from <code>svd</code></p>
</td></tr>
<tr valign="top"><td><code>matrix</code></td>
<td>
<p>which of the u, d or v matrix to tidy</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Extra arguments (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An SVD object contains a decomposition into u, d, and v matrices, such that
<code>u %\*% diag(d) %\*% t(v)</code> gives the original matrix. This tidier gives
a choice of which matrix to tidy.
</p>
<p>When <code>matrix = "u"</code>, each observation represents one pair of row and
principal component, with variables:
</p>
<table summary="R valueblock">
<tr valign="top"><td><code>row</code></td>
<td>
<p>Number of the row in the original data being described</p>
</td></tr>
<tr valign="top"><td><code>PC</code></td>
<td>
<p>Principal component</p>
</td></tr>
<tr valign="top"><td><code>loading</code></td>
<td>
<p>Loading of this principal component for this row</p>
</td></tr>
</table>
<p>When <code>matrix = "d"</code>, each observation represents one principal component,
with variables:
</p>
<table summary="R valueblock">
<tr valign="top"><td><code>PC</code></td>
<td>
<p>Principal component</p>
</td></tr>
<tr valign="top"><td><code>d</code></td>
<td>
<p>Value in the <code>d</code> vector</p>
</td></tr>
<tr valign="top"><td><code>percent</code></td>
<td>
<p>Percent of variance explained by this PC, which is
proportional to $d^2$</p>
</td></tr>
</table>
<p>When <code>matrix = "v"</code>, each observation represents a pair of a principal
component and a column of the original matrix, with variables:
</p>
<table summary="R valueblock">
<tr valign="top"><td><code>column</code></td>
<td>
<p>Column of original matrix described</p>
</td></tr>
<tr valign="top"><td><code>PC</code></td>
<td>
<p>Principal component</p>
</td></tr>
<tr valign="top"><td><code>value</code></td>
<td>
<p>Value of this PC for this column</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="../../base/html/svd.html">svd</a></code>, <code><a href="list_tidiers.html">tidy.list</a></code>
</p>


<h3>Examples</h3>

<pre>

mat &lt;- as.matrix(iris[, 1:4])
s &lt;- svd(mat)

tidy_u &lt;- tidy(s, matrix = "u")
head(tidy_u)

tidy_d &lt;- tidy(s, matrix = "d")
tidy_d

tidy_v &lt;- tidy(s, matrix = "v")
head(tidy_v)

library(ggplot2)
library(dplyr)

ggplot(tidy_d, aes(PC, percent)) +
    geom_point() +
    ylab("% of variance explained")

tidy_u %&gt;%
    mutate(Species = iris$Species[row]) %&gt;%
    ggplot(aes(Species, loading)) +
    geom_boxplot() +
    facet_wrap(~ PC, scale = "free_y")
</pre>

<hr /><div style="text-align: center;">[Package <em>broom</em> version 0.4.5 <a href="00Index.html">Index</a>]</div>
</body></html>
