<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: tidiers for case-cohort data</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for cch_tidiers {broom}"><tr><td>cch_tidiers {broom}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>tidiers for case-cohort data</h2>

<h3>Description</h3>

<p>Tidiers for case-cohort analyses: summarize each estimated coefficient,
or test the overall model.
</p>


<h3>Usage</h3>

<pre>
## S3 method for class 'cch'
tidy(x, conf.level = 0.95, ...)

## S3 method for class 'cch'
glance(x, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>a &quot;cch&quot; object</p>
</td></tr>
<tr valign="top"><td><code>conf.level</code></td>
<td>
<p>confidence level for CI</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>extra arguments (not used)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is not clear what an <code>augment</code> method would look like,
so none is provided. Nor is there currently any way to extract the
covariance or the residuals.
</p>


<h3>Value</h3>

<p>All tidying methods return a data.frame without rownames, whose
structure depends on the method chosen.
</p>
<p><code>tidy</code> returns a data.frame with one row for each term
</p>
<table summary="R valueblock">
<tr valign="top"><td><code>term</code></td>
<td>
<p>name of term</p>
</td></tr>
<tr valign="top"><td><code>estimate</code></td>
<td>
<p>estimate of coefficient</p>
</td></tr>
<tr valign="top"><td><code>stderror</code></td>
<td>
<p>standard error</p>
</td></tr>
<tr valign="top"><td><code>statistic</code></td>
<td>
<p>Z statistic</p>
</td></tr>
<tr valign="top"><td><code>p.value</code></td>
<td>
<p>p-value</p>
</td></tr>
<tr valign="top"><td><code>conf.low</code></td>
<td>
<p>low end of confidence interval</p>
</td></tr>
<tr valign="top"><td><code>conf.high</code></td>
<td>
<p>high end of confidence interval</p>
</td></tr>
</table>
<p><code>glance</code> returns a one-row data.frame with the following
columns:
</p>
<table summary="R valueblock">
<tr valign="top"><td><code>score</code></td>
<td>
<p>score</p>
</td></tr>
<tr valign="top"><td><code>rscore</code></td>
<td>
<p>rscore</p>
</td></tr>
<tr valign="top"><td><code>p.value</code></td>
<td>
<p>p-value from Wald test</p>
</td></tr>
<tr valign="top"><td><code>iter</code></td>
<td>
<p>number of iterations</p>
</td></tr>
<tr valign="top"><td><code>n</code></td>
<td>
<p>number of predictions</p>
</td></tr>
<tr valign="top"><td><code>nevent</code></td>
<td>
<p>number of events</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="../../survival/html/cch.html">cch</a>
</p>


<h3>Examples</h3>

<pre>

if (require("survival", quietly = TRUE)) {
    # examples come from cch documentation
    subcoh &lt;- nwtco$in.subcohort
    selccoh &lt;- with(nwtco, rel==1|subcoh==1)
    ccoh.data &lt;- nwtco[selccoh,]
    ccoh.data$subcohort &lt;- subcoh[selccoh]
    ## central-lab histology 
    ccoh.data$histol &lt;- factor(ccoh.data$histol,labels=c("FH","UH"))
    ## tumour stage
    ccoh.data$stage &lt;- factor(ccoh.data$stage,labels=c("I","II","III" ,"IV"))
    ccoh.data$age &lt;- ccoh.data$age/12 # Age in years
    
    fit.ccP &lt;- cch(Surv(edrel, rel) ~ stage + histol + age, data = ccoh.data,
                   subcoh = ~subcohort, id= ~seqno, cohort.size = 4028)
    
    tidy(fit.ccP)
    
    # coefficient plot
    library(ggplot2)
    ggplot(tidy(fit.ccP), aes(x = estimate, y = term)) + geom_point() +
        geom_errorbarh(aes(xmin = conf.low, xmax = conf.high), height = 0) +
        geom_vline(xintercept = 0)
    
    # compare between methods
    library(dplyr)
    fits &lt;- data_frame(method = c("Prentice", "SelfPrentice", "LinYing")) %&gt;%
        group_by(method) %&gt;%
        do(tidy(cch(Surv(edrel, rel) ~ stage + histol + age, data = ccoh.data,
                    subcoh = ~subcohort, id= ~seqno, cohort.size = 4028,
                    method = .$method)))
    
    # coefficient plots comparing methods
    ggplot(fits, aes(x = estimate, y = term, color = method)) + geom_point() +
        geom_errorbarh(aes(xmin = conf.low, xmax = conf.high)) +
        geom_vline(xintercept = 0)
}

</pre>

<hr /><div style="text-align: center;">[Package <em>broom</em> version 0.4.5 <a href="00Index.html">Index</a>]</div>
</body></html>
