<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Simulation from Compound Models</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for rcompound {actuar}"><tr><td>rcompound {actuar}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Simulation from Compound Models</h2>

<h3>Description</h3>

<p><code>rcompound</code> generates random variates from a compound model.
</p>
<p><code>rcomppois</code> is a simplified version for a common case.
</p>


<h3>Usage</h3>

<pre>
rcompound(n, model.freq, model.sev, SIMPLIFY = TRUE)

rcomppois(n, lambda, model.sev, SIMPLIFY = TRUE)</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>n</code></td>
<td>
<p>number of observations. If <code>length(n) &gt; 1</code>, the length is
taken to be the number required.</p>
</td></tr>
<tr valign="top"><td><code>model.freq, model.sev</code></td>
<td>
<p>expressions specifying the frequency and
severity simulation models with the number of variates omitted (see
details).</p>
</td></tr>
<tr valign="top"><td><code>lambda</code></td>
<td>
<p>Poisson parameter.</p>
</td></tr>
<tr valign="top"><td><code>SIMPLIFY</code></td>
<td>
<p>boolean; if <code>FALSE</code> the frequency and severity
variates are returned along with the aggregate variates.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>rcompound</code> generates variates from a random variable of the form
</p>
<p style="text-align: center;"><i>S = X_1 + ... X_N,</i></p>

<p>where <i>N</i> is the frequency random variable and <i>X_1, X_2,
    &hellip;</i> are the severity random variables. The latter are mutually
independent, identically distributed and independent from <i>N</i>.
</p>
<p><code>model.freq</code> and <code>model.sev</code> specify the simulation models
for the frequency and the severity random variables, respectively. A
model is a complete call to a random number generation function, with
the number of variates omitted. This is similar to
<code><a href="simul.html">rcomphierarc</a></code>, but the calls need not be wrapped into
<code><a href="../../base/html/expression.html">expression</a></code>. Either argument may also be the name of an
object containing an expression, in which case the object will be
evaluated in the evaluation frame to retrieve the expression.
</p>
<p>The argument of the random number generation functions for the number
of variates to simulate <strong>must</strong> be named <code>n</code>.
</p>
<p><code>rcomppois</code> generates variates from the common Compound Poisson
model, that is when random variable <i>N</i> is Poisson distributed
with mean <code>lambda</code>.
</p>


<h3>Value</h3>

<p>When <code>SIMPLIFY = TRUE</code>, a vector of aggregate amounts <i>S_1,
  &hellip;, S_n</i>. 
</p>
<p>When <code>SIMPLIFY = FALSE</code>, a list of three elements:
</p>
<table summary="R valueblock">
<tr valign="top"><td><code><code>aggregate</code></code></td>
<td>
<p>vector of aggregate amounts <i>S_1, &hellip;,
      S_n</i>;</p>
</td></tr>
<tr valign="top"><td><code><code>frequency</code></code></td>
<td>
<p>vector of frequencies <i>N_1, &hellip;,
      N_n</i>;</p>
</td></tr>
<tr valign="top"><td><code><code>severity</code></code></td>
<td>
<p>vector of severities <i>X_1, X_2, &hellip;</i>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Vincent Goulet <a href="mailto:vincent.goulet@act.ulaval.ca">vincent.goulet@act.ulaval.ca</a>
</p>


<h3>See Also</h3>

<p><code><a href="simul.html">rcomphierarc</a></code> to simulate from compound hierarchical models.
</p>


<h3>Examples</h3>

<pre>
## Compound Poisson model with gamma severity.
rcompound(10, rpois(2), rgamma(2, 3))
rcomppois(10, 2, rgamma(2, 3))          # same

## Frequencies and individual claim amounts along with aggregate
## values.
rcomppois(10, 2, rgamma(2, 3), SIMPLIFY = FALSE)

## Wrapping the simulation models into expression() is allowed, but
## not needed.
rcompound(10, expression(rpois(2)), expression(rgamma(2, 3)))

## Not run: ## Speed comparison between rcompound() and rcomphierarc().
## [Also note the simpler syntax for rcompound().]
system.time(rcompound(1e6, rpois(2), rgamma(2, 3)))
system.time(rcomphierarc(1e6, expression(rpois(2)), expression(rgamma(2, 3))))
## End(Not run)
## The severity can itself be a compound model. It makes sense
## in such a case to use a zero-truncated frequency distribution
## for the second level model.
rcomppois(10, 2,
          rcompound(rztnbinom(1.5, 0.7), rlnorm(1.2, 1)))
</pre>

<hr /><div style="text-align: center;">[Package <em>actuar</em> version 2.3-2 <a href="00Index.html">Index</a>]</div>
</body></html>
