<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Barplot/chart Methods in Package 'flexclust'</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for barplot-methods {flexclust}"><tr><td>barplot-methods {flexclust}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Barplot/chart Methods in Package &lsquo;flexclust&rsquo;</h2>

<h3>Description</h3>

<p>Barplot of cluster centers or other cluster statistics.
</p>


<h3>Usage</h3>

<pre>
## S4 method for signature 'kcca'
barplot(height, bycluster = TRUE, oneplot = TRUE,
    data = NULL, FUN=colMeans, main = deparse(substitute(height)), 
    which = 1:height@k, names.arg = NULL,
    oma=par("oma"), col=NULL, mcol="darkred", srt=45, ...)

## S4 method for signature 'kcca'
barchart(x, data, xlab="", strip.labels=NULL,
    strip.prefix="Cluster ", col=NULL, mcol="darkred", mlcol=mcol,
    which=NULL, legend=FALSE, shade=FALSE, diff=NULL, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>height, x</code></td>
<td>
<p>An object of class <code>"kcca"</code>.</p>
</td></tr>
<tr valign="top"><td><code>bycluster</code></td>
<td>
<p>If <code>TRUE</code>, then each barplot shows one
cluster. If <code>FALSE</code>, then each barplot compares all cluster for
one input variable.</p>
</td></tr>
<tr valign="top"><td><code>oneplot</code></td>
<td>
<p>If <code>TRUE</code>, all barplots are plotted together on
one page, else each plot is on a separate page.</p>
</td></tr>
<tr valign="top"><td><code>data</code></td>
<td>
<p>If not <code>NULL</code>, cluster membership is predicted for
the new data and used for the plots. By default the
values from the training data are used. Ignored by the <code>barchart</code>
method.</p>
</td></tr>
<tr valign="top"><td><code>FUN</code></td>
<td>
<p>The function to be applied to each cluster for calculating
the bar heights. Only used, if <code>data</code> is not <code>NULL</code>.</p>
</td></tr>
<tr valign="top"><td><code>which</code></td>
<td>
<p>For <code>barplot</code> index number of clusters for the plot,
for <code>barchart</code> index numbers or names of variables to plot.</p>
</td></tr>
<tr valign="top"><td><code>names.arg</code></td>
<td>
<p>A vector of names to be plotted below each bar.</p>
</td></tr>
<tr valign="top"><td><code>main, oma, xlab, ...</code></td>
<td>
<p>Graphical parameters.</p>
</td></tr>
<tr valign="top"><td><code>col</code></td>
<td>
<p>Vector of colors for the clusters.</p>
</td></tr>
<tr valign="top"><td><code>mcol,mlcol</code></td>
<td>
<p>If not <code>NULL</code>, the value of
<code>FUN</code> for the complete data set is plotted over each bar as a
point with color <code>mcol</code> and a line segment starting in zero
with color <code>mlcol</code>.</p>
</td></tr> 
<tr valign="top"><td><code>srt</code></td>
<td>
<p>Number between 0 and 90, rotation of the x-axis labels.</p>
</td></tr>
<tr valign="top"><td><code>strip.labels</code></td>
<td>
<p>Vector of strings for the strips of the Trellis
display.</p>
</td></tr>
<tr valign="top"><td><code>strip.prefix</code></td>
<td>
<p>Prefix string for the strips of the Trellis
display.</p>
</td></tr>
<tr valign="top"><td><code>legend</code></td>
<td>
<p>If <code>TRUE</code>, the barchart is always plotted on the
current graphics device and a legend is added to the bottom of the
plot.</p>
</td></tr>
<tr valign="top"><td><code>shade</code></td>
<td>
<p>If <code>TRUE</code>, only bars with large absolute or relative
deviation deviation from the  sample mean of the respective
variables are plotted in color.</p>
</td></tr>
<tr valign="top"><td><code>diff</code></td>
<td>
<p>A numerical vector of length two with absolute and
relative deviations for shading, default is <i>max/4</i> absolute
deviation and 50% relative deviation.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The flexclust barchart method uses a horizontal arrangements of
the bars, and sorts them from top to bottom. Default barcharts in
lattice are the other way round (bottom to top). See the examples
below how this affects, e.g., manual labels for the y axis.
</p>
<p>The <code>barplot</code> method is legacy code and only maintained to keep up
with changes in R, all active development is done on <code>barchart</code>.
</p>


<h3>Author(s)</h3>

<p>Friedrich Leisch</p>


<h3>References</h3>

<p>Sara Dolnicar and Friedrich Leisch. Using graphical statistics to
better understand market segmentation solutions. International Journal
of Market Research, 2013, accepted for publication.
</p>


<h3>Examples</h3>

<pre>
  cl &lt;- cclust(iris[,-5], k=3)
  barplot(cl)
  barplot(cl, bycluster=FALSE)

  ## plot the maximum instead of mean value per cluster:
  barplot(cl, bycluster=FALSE, data=iris[,-5],
          FUN=function(x) apply(x,2,max))

  ## use lattice for plotting:
  barchart(cl)
  ## automatic abbreviation of labels
  barchart(cl, scales=list(abbreviate=TRUE))
  ## origin of bars at zero
  barchart(cl, scales=list(abbreviate=TRUE), origin=0)

  ## Use manual labels. Note that the flexclust barchart orders bars
  ## from top to bottom (the default does it the other way round), hence
  ## we have to rev() the labels:
  LAB &lt;- c("SL", "SW", "PL", "PW")
  barchart(cl, scales=list(y=list(labels=rev(LAB))), origin=0)

  ## deviation of each cluster center from the population means
  barchart(cl, origin=rev(cl@xcent), mlcol=NULL)

  ## use shading to highlight large deviations from population mean
  barchart(cl, shade=TRUE)

  ## use smaller deviation limit than default and add a legend
  barchart(cl, shade=TRUE, diff=0.2, legend=TRUE)
</pre>

<hr /><div style="text-align: center;">[Package <em>flexclust</em> version 1.3-5 <a href="00Index.html">Index</a>]</div>
</body></html>
